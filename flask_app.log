2025-06-21 15:00:19,310 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-06-21 15:00:19,311 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-06-21 15:00:19,312 INFO AZURE_SEARCH_API_KEY: set
2025-06-21 15:00:19,312 INFO AZURE_OPENAI_API_KEY: set
2025-06-21 15:00:19,312 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-05-15
2025-06-21 15:00:20,436 WARNING  * Debugger is active!
2025-06-21 15:00:20,444 INFO  * Debugger PIN: 139-955-351
2025-06-21 15:00:20,766 INFO 192.168.0.154 - - [21/Jun/2025 15:00:20] "[36mGET / HTTP/1.1[0m" 304 -
2025-06-21 15:00:26,505 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-ac52b7e8-f3ce-472b-a16d-20586cd83a7c', 'post_parser': <function Embeddings.create.<locals>.parser at 0x00000201B5292FC0>, 'json_data': {'input': [[15339]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-06-21 15:00:26,507 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview
2025-06-21 15:00:26,507 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-06-21 15:00:26,600 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201B52A1FD0>
2025-06-21 15:00:26,600 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x00000201B51C83B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-06-21 15:00:26,669 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201B51E2FD0>
2025-06-21 15:00:26,669 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-06-21 15:00:26,670 DEBUG send_request_headers.complete
2025-06-21 15:00:26,670 DEBUG send_request_body.started request=<Request [b'POST']>
2025-06-21 15:00:26,671 DEBUG send_request_body.complete
2025-06-21 15:00:26,671 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-06-21 15:00:26,771 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'7cad07db-15da-4128-8fad-eb94574fed0a'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149999'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'e258d9f2-e8d4-473f-8f6d-dcab0ca0c88b'), (b'azureml-model-session', b'd059-20250130132414'), (b'x-envoy-upstream-service-time', b'34'), (b'x-ms-client-request-id', b'7cad07db-15da-4128-8fad-eb94574fed0a'), (b'x-ms-azureml-cluster-local-active-requests', b'{"active_requests":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":"0","aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":"2"},"cluster_active_requests":"0","request_weight":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Sat, 21 Jun 2025 13:00:22 GMT')])
2025-06-21 15:00:26,772 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-06-21 15:00:26,773 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-06-21 15:00:26,773 DEBUG receive_response_body.complete
2025-06-21 15:00:26,774 DEBUG response_closed.started
2025-06-21 15:00:26,774 DEBUG response_closed.complete
2025-06-21 15:00:26,774 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '7cad07db-15da-4128-8fad-eb94574fed0a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149999', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': 'e258d9f2-e8d4-473f-8f6d-dcab0ca0c88b', 'azureml-model-session': 'd059-20250130132414', 'x-envoy-upstream-service-time': '34', 'x-ms-client-request-id': '7cad07db-15da-4128-8fad-eb94574fed0a', 'x-ms-azureml-cluster-local-active-requests': '{"active_requests":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":"0","aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":"2"},"cluster_active_requests":"0","request_weight":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Sat, 21 Jun 2025 13:00:22 GMT'})
2025-06-21 15:00:26,775 DEBUG request_id: e258d9f2-e8d4-473f-8f6d-dcab0ca0c88b
2025-06-21 15:00:27,061 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34368'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'b3bab4da-4e9f-11f0-9da6-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.13.5 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-06-21 15:00:27,067 DEBUG Starting new HTTPS connection (1): deepchatbot.search.windows.net:443
2025-06-21 15:00:27,417 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2024-07-01 HTTP/1.1" 403 112
2025-06-21 15:00:27,422 INFO Response status: 403
Response headers:
    'Content-Length': '112'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'request-id': 'b3bab4da-4e9f-11f0-9da6-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Sat, 21 Jun 2025 13:00:24 GMT'
2025-06-21 15:00:27,425 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '88'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'b3f23d16-4e9f-11f0-aaec-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.13.5 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-06-21 15:00:27,479 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2024-07-01 HTTP/1.1" 403 112
2025-06-21 15:00:27,480 INFO Response status: 403
Response headers:
    'Content-Length': '112'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'request-id': 'b3f23d16-4e9f-11f0-aaec-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Sat, 21 Jun 2025 13:00:24 GMT'
2025-06-21 15:00:27,483 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '88'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'b3fb2497-4e9f-11f0-a089-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.13.5 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-06-21 15:00:27,537 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2024-07-01 HTTP/1.1" 403 112
2025-06-21 15:00:27,538 INFO Response status: 403
Response headers:
    'Content-Length': '112'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'request-id': 'b3fb2497-4e9f-11f0-a089-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Sat, 21 Jun 2025 13:00:24 GMT'
2025-06-21 15:00:27,542 INFO Generated prompt: System: You are a helpful personal assistant. This appears to be your first conversation with this user.
Human: hello
2025-06-21 15:00:27,560 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-6ea9026b-fe0a-4c2f-9bb6-f5827a98a203', 'json_data': {'messages': [{'content': 'System: You are a helpful personal assistant. This appears to be your first conversation with this user.\nHuman: hello', 'role': 'user'}], 'model': None, 'stream': False}}
2025-06-21 15:00:27,562 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview
2025-06-21 15:00:27,563 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-06-21 15:00:27,589 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201B5693C50>
2025-06-21 15:00:27,590 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x00000201B3C8F770> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-06-21 15:00:27,660 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x00000201B5642FD0>
2025-06-21 15:00:27,661 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-06-21 15:00:27,661 DEBUG send_request_headers.complete
2025-06-21 15:00:27,662 DEBUG send_request_body.started request=<Request [b'POST']>
2025-06-21 15:00:27,662 DEBUG send_request_body.complete
2025-06-21 15:00:27,662 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-06-21 15:00:27,751 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'model_error', [(b'Content-Length', b'143'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'7a11c607-98c5-467a-a5e5-616e04931c82'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-request-id', b'61d192f7-a5f0-45f0-98ea-42f42d596ce6'), (b'ms-azureml-model-error-reason', b'model_error'), (b'ms-azureml-model-error-statuscode', b'400'), (b'x-ratelimit-remaining-tokens', b'149999'), (b'x-ratelimit-limit-tokens', b'150000'), (b'azureml-model-session', b'd057-20250130083804'), (b'x-envoy-upstream-service-time', b'15'), (b'x-ms-client-request-id', b'7a11c607-98c5-467a-a5e5-616e04931c82'), (b'x-ms-azureml-cluster-local-active-requests', b'{"active_requests":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":"0","aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":"1"},"cluster_active_requests":"0","request_weight":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Sat, 21 Jun 2025 13:00:24 GMT')])
2025-06-21 15:00:27,752 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "HTTP/1.1 400 model_error"
2025-06-21 15:00:27,752 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-06-21 15:00:27,752 DEBUG receive_response_body.complete
2025-06-21 15:00:27,753 DEBUG response_closed.started
2025-06-21 15:00:27,753 DEBUG response_closed.complete
2025-06-21 15:00:27,753 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "400 model_error" Headers({'content-length': '143', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '7a11c607-98c5-467a-a5e5-616e04931c82', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-request-id': '61d192f7-a5f0-45f0-98ea-42f42d596ce6', 'ms-azureml-model-error-reason': 'model_error', 'ms-azureml-model-error-statuscode': '400', 'x-ratelimit-remaining-tokens': '149999', 'x-ratelimit-limit-tokens': '150000', 'azureml-model-session': 'd057-20250130083804', 'x-envoy-upstream-service-time': '15', 'x-ms-client-request-id': '7a11c607-98c5-467a-a5e5-616e04931c82', 'x-ms-azureml-cluster-local-active-requests': '{"active_requests":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":"0","aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":"1"},"cluster_active_requests":"0","request_weight":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Sat, 21 Jun 2025 13:00:24 GMT'})
2025-06-21 15:00:27,753 DEBUG request_id: 61d192f7-a5f0-45f0-98ea-42f42d596ce6
2025-06-21 15:00:27,753 DEBUG Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\openai\_base_client.py", line 1017, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '400 model_error' for url 'https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-06-21 15:00:27,782 DEBUG Not retrying
2025-06-21 15:00:27,782 DEBUG Re-raising status error
2025-06-21 15:00:27,783 ERROR Error in chat function: Error code: 400 - {'error': {'message': "'input' is a required property", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2025-06-21 15:00:27,784 INFO 192.168.0.154 - - [21/Jun/2025 15:00:27] "POST /chat HTTP/1.1" 200 -
2025-06-21 15:04:58,090 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-06-21 15:04:58,090 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-06-21 15:04:58,090 INFO AZURE_SEARCH_API_KEY: set
2025-06-21 15:04:58,090 INFO AZURE_OPENAI_API_KEY: set
2025-06-21 15:04:58,090 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-05-15
2025-06-21 15:04:59,149 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://192.168.0.154:8000
2025-06-21 15:04:59,149 INFO [33mPress CTRL+C to quit[0m
2025-06-21 15:04:59,151 INFO  * Restarting with stat
2025-06-21 15:05:00,539 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-06-21 15:05:00,539 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-06-21 15:05:00,539 INFO AZURE_SEARCH_API_KEY: set
2025-06-21 15:05:00,539 INFO AZURE_OPENAI_API_KEY: set
2025-06-21 15:05:00,539 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-05-15
2025-06-21 15:05:01,534 WARNING  * Debugger is active!
2025-06-21 15:05:01,539 INFO  * Debugger PIN: 139-955-351
2025-06-21 15:06:24,285 INFO  * Detected change in 'D:\\ProjectDeepChatBOT\\main.py', reloading
2025-06-21 15:06:24,645 INFO  * Restarting with stat
2025-06-21 15:06:27,481 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-06-21 15:06:27,481 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-06-21 15:06:27,481 INFO AZURE_SEARCH_API_KEY: set
2025-06-21 15:06:27,481 INFO AZURE_OPENAI_API_KEY: set
2025-06-21 15:06:27,481 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-05-15
2025-06-21 15:06:29,170 WARNING  * Debugger is active!
2025-06-21 15:06:29,183 INFO  * Debugger PIN: 139-955-351
2025-06-21 15:06:52,572 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-06-21 15:06:52,572 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-06-21 15:06:52,572 INFO AZURE_SEARCH_API_KEY: set
2025-06-21 15:06:52,572 INFO AZURE_OPENAI_API_KEY: set
2025-06-21 15:06:52,573 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-05-15
2025-06-21 15:06:53,573 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://192.168.0.154:8000
2025-06-21 15:06:53,574 INFO [33mPress CTRL+C to quit[0m
2025-06-21 15:07:44,221 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-06-21 15:07:44,221 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-06-21 15:07:44,221 INFO AZURE_SEARCH_API_KEY: set
2025-06-21 15:07:44,221 INFO AZURE_OPENAI_API_KEY: set
2025-06-21 15:07:44,221 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-05-15
2025-06-21 15:07:45,200 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://192.168.0.154:8000
2025-06-21 15:07:45,200 INFO [33mPress CTRL+C to quit[0m
2025-06-21 15:07:45,201 INFO  * Restarting with stat
2025-06-21 15:07:46,584 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-06-21 15:07:46,585 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-06-21 15:07:46,585 INFO AZURE_SEARCH_API_KEY: set
2025-06-21 15:07:46,585 INFO AZURE_OPENAI_API_KEY: set
2025-06-21 15:07:46,585 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-05-15
2025-06-21 15:07:47,596 WARNING  * Debugger is active!
2025-06-21 15:07:47,602 INFO  * Debugger PIN: 139-955-351
2025-06-21 15:08:01,049 INFO 192.168.0.154 - - [21/Jun/2025 15:08:01] "[36mGET / HTTP/1.1[0m" 304 -
2025-06-21 15:08:05,245 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-41fe2876-b7e8-46e9-b1fc-687571f2a602', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002558CF12E80>, 'json_data': {'input': [[6151]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-06-21 15:08:05,246 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview
2025-06-21 15:08:05,247 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-06-21 15:08:05,364 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002558CF21FD0>
2025-06-21 15:08:05,364 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000002558CE383B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-06-21 15:08:05,458 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002558CE4AE90>
2025-06-21 15:08:05,459 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-06-21 15:08:05,460 DEBUG send_request_headers.complete
2025-06-21 15:08:05,460 DEBUG send_request_body.started request=<Request [b'POST']>
2025-06-21 15:08:05,460 DEBUG send_request_body.complete
2025-06-21 15:08:05,461 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-06-21 15:08:05,593 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'edf0ceac-0095-4709-997c-30f346e7be8d'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149999'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'32bf4228-82ab-4fc3-b2d2-b2c1adef2977'), (b'azureml-model-session', b'd058-20250130124440'), (b'x-envoy-upstream-service-time', b'27'), (b'x-ms-client-request-id', b'edf0ceac-0095-4709-997c-30f346e7be8d'), (b'x-ms-azureml-cluster-local-active-requests', b'{"active_requests":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":"0","aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":"1"},"cluster_active_requests":"0","request_weight":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Sat, 21 Jun 2025 13:08:01 GMT')])
2025-06-21 15:08:05,595 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-06-21 15:08:05,595 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-06-21 15:08:05,596 DEBUG receive_response_body.complete
2025-06-21 15:08:05,596 DEBUG response_closed.started
2025-06-21 15:08:05,596 DEBUG response_closed.complete
2025-06-21 15:08:05,596 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'edf0ceac-0095-4709-997c-30f346e7be8d', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149999', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '32bf4228-82ab-4fc3-b2d2-b2c1adef2977', 'azureml-model-session': 'd058-20250130124440', 'x-envoy-upstream-service-time': '27', 'x-ms-client-request-id': 'edf0ceac-0095-4709-997c-30f346e7be8d', 'x-ms-azureml-cluster-local-active-requests': '{"active_requests":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":"0","aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":"1"},"cluster_active_requests":"0","request_weight":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Sat, 21 Jun 2025 13:08:01 GMT'})
2025-06-21 15:08:05,596 DEBUG request_id: 32bf4228-82ab-4fc3-b2d2-b2c1adef2977
2025-06-21 15:08:05,858 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34276'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'c531973d-4ea0-11f0-880d-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.13.5 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-06-21 15:08:05,863 DEBUG Starting new HTTPS connection (1): deepchatbot.search.windows.net:443
2025-06-21 15:08:06,085 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2024-07-01 HTTP/1.1" 404 98
2025-06-21 15:08:06,090 INFO Response status: 404
Response headers:
    'Content-Length': '98'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'request-id': 'c531973d-4ea0-11f0-880d-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Sat, 21 Jun 2025 13:08:03 GMT'
2025-06-21 15:08:06,093 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '85'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'c5556e94-4ea0-11f0-97cf-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.13.5 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-06-21 15:08:06,125 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2024-07-01 HTTP/1.1" 404 98
2025-06-21 15:08:06,126 INFO Response status: 404
Response headers:
    'Content-Length': '98'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'request-id': 'c5556e94-4ea0-11f0-97cf-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Sat, 21 Jun 2025 13:08:03 GMT'
2025-06-21 15:08:06,130 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '85'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'c55b06b8-4ea0-11f0-a2cb-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.13.5 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-06-21 15:08:06,160 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2024-07-01 HTTP/1.1" 404 98
2025-06-21 15:08:06,161 INFO Response status: 404
Response headers:
    'Content-Length': '98'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'request-id': 'c55b06b8-4ea0-11f0-a2cb-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Sat, 21 Jun 2025 13:08:03 GMT'
2025-06-21 15:08:06,164 INFO Generated prompt: System: You are a helpful personal assistant. This appears to be your first conversation with this user.
Human: hi
2025-06-21 15:08:06,185 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-66c322ad-7126-4ae8-8f48-a0724984c0bb', 'json_data': {'messages': [{'content': 'System: You are a helpful personal assistant. This appears to be your first conversation with this user.\nHuman: hi', 'role': 'user'}], 'model': None, 'stream': False}}
2025-06-21 15:08:06,187 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview
2025-06-21 15:08:06,188 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-06-21 15:08:06,231 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002558E30D6D0>
2025-06-21 15:08:06,232 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000002558C8FF770> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-06-21 15:08:06,296 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002558E2C3230>
2025-06-21 15:08:06,297 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-06-21 15:08:06,297 DEBUG send_request_headers.complete
2025-06-21 15:08:06,297 DEBUG send_request_body.started request=<Request [b'POST']>
2025-06-21 15:08:06,298 DEBUG send_request_body.complete
2025-06-21 15:08:06,298 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-06-21 15:08:06,382 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'model_error', [(b'Content-Length', b'143'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'07aa8a26-cb82-4981-a949-3700f95449af'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-request-id', b'af2c9d62-b354-43bc-97ad-2d592120adf7'), (b'ms-azureml-model-error-reason', b'model_error'), (b'ms-azureml-model-error-statuscode', b'400'), (b'x-ratelimit-remaining-tokens', b'149999'), (b'x-ratelimit-limit-tokens', b'150000'), (b'azureml-model-session', b'd057-20250130083804'), (b'x-envoy-upstream-service-time', b'19'), (b'x-ms-client-request-id', b'07aa8a26-cb82-4981-a949-3700f95449af'), (b'x-ms-azureml-cluster-local-active-requests', b'{"active_requests":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":"0","aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":"1"},"cluster_active_requests":"0","request_weight":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Sat, 21 Jun 2025 13:08:02 GMT')])
2025-06-21 15:08:06,383 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "HTTP/1.1 400 model_error"
2025-06-21 15:08:06,383 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-06-21 15:08:06,384 DEBUG receive_response_body.complete
2025-06-21 15:08:06,384 DEBUG response_closed.started
2025-06-21 15:08:06,384 DEBUG response_closed.complete
2025-06-21 15:08:06,384 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "400 model_error" Headers({'content-length': '143', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '07aa8a26-cb82-4981-a949-3700f95449af', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-request-id': 'af2c9d62-b354-43bc-97ad-2d592120adf7', 'ms-azureml-model-error-reason': 'model_error', 'ms-azureml-model-error-statuscode': '400', 'x-ratelimit-remaining-tokens': '149999', 'x-ratelimit-limit-tokens': '150000', 'azureml-model-session': 'd057-20250130083804', 'x-envoy-upstream-service-time': '19', 'x-ms-client-request-id': '07aa8a26-cb82-4981-a949-3700f95449af', 'x-ms-azureml-cluster-local-active-requests': '{"active_requests":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":"0","aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":"1"},"cluster_active_requests":"0","request_weight":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Sat, 21 Jun 2025 13:08:02 GMT'})
2025-06-21 15:08:06,385 DEBUG request_id: af2c9d62-b354-43bc-97ad-2d592120adf7
2025-06-21 15:08:06,385 DEBUG Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\openai\_base_client.py", line 1017, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '400 model_error' for url 'https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-06-21 15:08:06,390 DEBUG Not retrying
2025-06-21 15:08:06,390 DEBUG Re-raising status error
2025-06-21 15:08:06,391 ERROR Error in chat function: Error code: 400 - {'error': {'message': "'input' is a required property", 'type': 'invalid_request_error', 'param': None, 'code': None}}
2025-06-21 15:08:06,392 INFO 192.168.0.154 - - [21/Jun/2025 15:08:06] "POST /chat HTTP/1.1" 200 -
2025-07-03 11:45:43,074 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-07-03 11:45:43,074 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-07-03 11:45:43,074 INFO AZURE_SEARCH_API_KEY: set
2025-07-03 11:45:43,074 INFO AZURE_OPENAI_API_KEY: set
2025-07-03 11:45:43,074 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2025-01-01-preview
2025-07-03 11:45:44,168 DEBUG Starting new HTTPS connection (1): openaipublic.blob.core.windows.net:443
2025-07-03 11:45:44,884 DEBUG https://openaipublic.blob.core.windows.net:443 "GET /encodings/cl100k_base.tiktoken HTTP/1.1" 200 1681126
2025-07-03 11:45:46,983 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-edb655ed-e448-421f-b52f-c319feea50b5', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A8CD04E5C0>, 'json_data': {'input': [[9906, 11, 6369, 6465, 449, 5643, 0]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-07-03 11:45:46,983 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview
2025-07-03 11:45:46,983 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-07-03 11:45:47,090 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001A8CD0430E0>
2025-07-03 11:45:47,090 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001A8CBFBD7F0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-07-03 11:45:47,160 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001A8CBFE3750>
2025-07-03 11:45:47,161 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-03 11:45:47,162 DEBUG send_request_headers.complete
2025-07-03 11:45:47,162 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-03 11:45:47,162 DEBUG send_request_body.complete
2025-07-03 11:45:47,162 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-03 11:45:47,213 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'model_error', [(b'Content-Length', b'22'), (b'Content-Type', b'text/plain; charset=utf-8'), (b'x-content-type-options', b'nosniff'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'd4750012-c889-411a-857c-0798af3fc43f'), (b'ms-azureml-model-error-reason', b'model_error'), (b'ms-azureml-model-error-statuscode', b'400'), (b'apim-request-id', b'9d204e61-1f4a-4237-a267-c6b406726549'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'99'), (b'x-ratelimit-limit-requests', b'100'), (b'x-ratelimit-remaining-tokens', b'99985'), (b'x-ms-client-request-id', b'9d204e61-1f4a-4237-a267-c6b406726549'), (b'x-ratelimit-limit-tokens', b'100000'), (b'azureml-model-session', b'd149-20250513052922'), (b'x-ms-deployment-name', b'gpt-35-turbo'), (b'Date', b'Thu, 03 Jul 2025 09:45:47 GMT')])
2025-07-03 11:45:47,214 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 model_error"
2025-07-03 11:45:47,214 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-03 11:45:47,215 DEBUG receive_response_body.complete
2025-07-03 11:45:47,215 DEBUG response_closed.started
2025-07-03 11:45:47,215 DEBUG response_closed.complete
2025-07-03 11:45:47,215 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "400 model_error" Headers({'content-length': '22', 'content-type': 'text/plain; charset=utf-8', 'x-content-type-options': 'nosniff', 'x-ms-rai-invoked': 'true', 'x-request-id': 'd4750012-c889-411a-857c-0798af3fc43f', 'ms-azureml-model-error-reason': 'model_error', 'ms-azureml-model-error-statuscode': '400', 'apim-request-id': '9d204e61-1f4a-4237-a267-c6b406726549', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '99', 'x-ratelimit-limit-requests': '100', 'x-ratelimit-remaining-tokens': '99985', 'x-ms-client-request-id': '9d204e61-1f4a-4237-a267-c6b406726549', 'x-ratelimit-limit-tokens': '100000', 'azureml-model-session': 'd149-20250513052922', 'x-ms-deployment-name': 'gpt-35-turbo', 'date': 'Thu, 03 Jul 2025 09:45:47 GMT'})
2025-07-03 11:45:47,215 DEBUG request_id: d4750012-c889-411a-857c-0798af3fc43f
2025-07-03 11:45:47,216 DEBUG Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\openai\_base_client.py", line 1017, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '400 model_error' for url 'https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-03 11:45:47,219 DEBUG Not retrying
2025-07-03 11:45:47,219 DEBUG Re-raising status error
2025-07-03 11:45:47,221 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-95199a06-6605-4163-a4d9-479742985557', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A8CD04FD80>, 'json_data': {'input': [[2309, 1495]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-07-03 11:45:47,222 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview
2025-07-03 11:45:47,223 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-03 11:45:47,223 DEBUG send_request_headers.complete
2025-07-03 11:45:47,223 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-03 11:45:47,224 DEBUG send_request_body.complete
2025-07-03 11:45:47,224 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-03 11:45:47,272 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'model_error', [(b'Content-Length', b'22'), (b'Content-Type', b'text/plain; charset=utf-8'), (b'x-content-type-options', b'nosniff'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'067165ce-b62a-481d-a955-cd42f9e07eb9'), (b'ms-azureml-model-error-reason', b'model_error'), (b'ms-azureml-model-error-statuscode', b'400'), (b'apim-request-id', b'88d40e4c-baff-4522-b74b-7ca4521ff687'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'98'), (b'x-ratelimit-limit-requests', b'100'), (b'x-ratelimit-remaining-tokens', b'99985'), (b'x-ms-client-request-id', b'88d40e4c-baff-4522-b74b-7ca4521ff687'), (b'x-ratelimit-limit-tokens', b'100000'), (b'azureml-model-session', b'd149-20250513052922'), (b'x-ms-deployment-name', b'gpt-35-turbo'), (b'Date', b'Thu, 03 Jul 2025 09:45:47 GMT')])
2025-07-03 11:45:47,273 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 model_error"
2025-07-03 11:45:47,273 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-03 11:45:47,273 DEBUG receive_response_body.complete
2025-07-03 11:45:47,274 DEBUG response_closed.started
2025-07-03 11:45:47,274 DEBUG response_closed.complete
2025-07-03 11:45:47,274 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "400 model_error" Headers({'content-length': '22', 'content-type': 'text/plain; charset=utf-8', 'x-content-type-options': 'nosniff', 'x-ms-rai-invoked': 'true', 'x-request-id': '067165ce-b62a-481d-a955-cd42f9e07eb9', 'ms-azureml-model-error-reason': 'model_error', 'ms-azureml-model-error-statuscode': '400', 'apim-request-id': '88d40e4c-baff-4522-b74b-7ca4521ff687', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '98', 'x-ratelimit-limit-requests': '100', 'x-ratelimit-remaining-tokens': '99985', 'x-ms-client-request-id': '88d40e4c-baff-4522-b74b-7ca4521ff687', 'x-ratelimit-limit-tokens': '100000', 'azureml-model-session': 'd149-20250513052922', 'x-ms-deployment-name': 'gpt-35-turbo', 'date': 'Thu, 03 Jul 2025 09:45:47 GMT'})
2025-07-03 11:45:47,274 DEBUG request_id: 067165ce-b62a-481d-a955-cd42f9e07eb9
2025-07-03 11:45:47,274 DEBUG Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "D:\ProjectDeepChatBOT\main.py", line 85, in encode_text
    return embeddings.embed_query(cleaned_text)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\langchain_openai\embeddings\base.py", line 638, in embed_query
    return self.embed_documents([text], **kwargs)[0]
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\langchain_openai\embeddings\base.py", line 590, in embed_documents
    return self._get_len_safe_embeddings(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        texts, engine=engine, chunk_size=chunk_size, **kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\langchain_openai\embeddings\base.py", line 478, in _get_len_safe_embeddings
    response = self.client.create(
        input=tokens[i : i + _chunk_size], **client_kwargs
    )
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\openai\resources\embeddings.py", line 129, in create
    return self._post(
           ~~~~~~~~~~^
        "/embeddings",
        ^^^^^^^^^^^^^^
    ...<8 lines>...
        cast_to=CreateEmbeddingResponse,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Unsupported data type

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\openai\_base_client.py", line 1017, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '400 model_error' for url 'https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-03 11:45:47,319 DEBUG Not retrying
2025-07-03 11:45:47,319 DEBUG Re-raising status error
2025-07-03 11:45:47,321 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '108'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '7f04d402-57f2-11f0-bd32-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.13.5 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-07-03 11:45:47,322 DEBUG Starting new HTTPS connection (1): deepchatbot.search.windows.net:443
2025-07-03 11:45:47,644 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2024-07-01 HTTP/1.1" 404 98
2025-07-03 11:45:47,710 INFO Response status: 404
Response headers:
    'Content-Length': '98'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'request-id': '7f04d402-57f2-11f0-bd32-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 03 Jul 2025 09:45:47 GMT'
2025-07-03 11:45:47,713 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '108'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '7f40b287-57f2-11f0-8022-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.13.5 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-07-03 11:45:47,773 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2024-07-01 HTTP/1.1" 404 98
2025-07-03 11:45:47,773 INFO Response status: 404
Response headers:
    'Content-Length': '98'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'request-id': '7f40b287-57f2-11f0-8022-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 03 Jul 2025 09:45:47 GMT'
2025-07-03 11:45:47,783 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '113'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '7f4b48a5-57f2-11f0-adca-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.13.5 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-07-03 11:45:47,833 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2024-07-01 HTTP/1.1" 404 98
2025-07-03 11:45:47,833 INFO Response status: 404
Response headers:
    'Content-Length': '98'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'request-id': '7f4b48a5-57f2-11f0-adca-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 03 Jul 2025 09:45:47 GMT'
2025-07-03 11:45:47,834 INFO Generated prompt: System: You are a helpful personal assistant. This appears to be your first conversation with this user.

User Profile: Not available
Human: Hello, chatbot with profile!
2025-07-03 11:45:47,840 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-5ac4f6c7-f021-4da8-af0a-ef4f1a9be657', 'json_data': {'messages': [{'content': 'System: You are a helpful personal assistant. This appears to be your first conversation with this user.\n\nUser Profile: Not available\nHuman: Hello, chatbot with profile!', 'role': 'user'}], 'model': None, 'stream': False}}
2025-07-03 11:45:47,842 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview
2025-07-03 11:45:47,843 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-07-03 11:45:47,977 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001A8CD05E850>
2025-07-03 11:45:47,977 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001A8CBBD8C20> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-07-03 11:45:48,077 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001A8CD016C40>
2025-07-03 11:45:48,078 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-03 11:45:48,078 DEBUG send_request_headers.complete
2025-07-03 11:45:48,078 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-03 11:45:48,078 DEBUG send_request_body.complete
2025-07-03 11:45:48,078 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-03 11:45:48,523 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'968'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'bdc30f3a-0206-4ad8-8b3a-30920430a579'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'97'), (b'x-ratelimit-limit-requests', b'100'), (b'x-ratelimit-remaining-tokens', b'99942'), (b'x-ratelimit-limit-tokens', b'100000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'0d0d1373-5859-4017-bcee-ffececb84f34'), (b'x-ms-client-request-id', b'bdc30f3a-0206-4ad8-8b3a-30920430a579'), (b'azureml-model-session', b'd149-20250513052922'), (b'x-ms-deployment-name', b'gpt-35-turbo'), (b'Date', b'Thu, 03 Jul 2025 09:45:48 GMT')])
2025-07-03 11:45:48,523 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-07-03 11:45:48,524 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-03 11:45:48,524 DEBUG receive_response_body.complete
2025-07-03 11:45:48,524 DEBUG response_closed.started
2025-07-03 11:45:48,524 DEBUG response_closed.complete
2025-07-03 11:45:48,524 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '968', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'bdc30f3a-0206-4ad8-8b3a-30920430a579', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '97', 'x-ratelimit-limit-requests': '100', 'x-ratelimit-remaining-tokens': '99942', 'x-ratelimit-limit-tokens': '100000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': '0d0d1373-5859-4017-bcee-ffececb84f34', 'x-ms-client-request-id': 'bdc30f3a-0206-4ad8-8b3a-30920430a579', 'azureml-model-session': 'd149-20250513052922', 'x-ms-deployment-name': 'gpt-35-turbo', 'date': 'Thu, 03 Jul 2025 09:45:48 GMT'})
2025-07-03 11:45:48,525 DEBUG request_id: 0d0d1373-5859-4017-bcee-ffececb84f34
2025-07-03 11:45:48,545 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-3caafdef-7712-4540-8c96-7f6cd47e443b', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A8C98D00E0>, 'json_data': {'input': [[1502, 25, 22691, 11, 6369, 6465, 449, 5643, 0, 72803, 25, 744, 25, 22691, 0, 358, 1097, 1618, 311, 7945, 499, 449, 904, 4860, 477, 9256, 499, 1253, 617, 13, 2650, 649, 358, 1520, 499, 3432, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-07-03 11:45:48,547 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview
2025-07-03 11:45:48,547 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-03 11:45:48,548 DEBUG send_request_headers.complete
2025-07-03 11:45:48,548 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-03 11:45:48,549 DEBUG send_request_body.complete
2025-07-03 11:45:48,549 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-03 11:45:48,600 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'model_error', [(b'Content-Length', b'22'), (b'Content-Type', b'text/plain; charset=utf-8'), (b'x-content-type-options', b'nosniff'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'94358655-6049-4a46-9a45-ba8906936e60'), (b'ms-azureml-model-error-reason', b'model_error'), (b'ms-azureml-model-error-statuscode', b'400'), (b'apim-request-id', b'bcb95769-0ca5-4230-9d84-6680f02e0e76'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'96'), (b'x-ratelimit-limit-requests', b'100'), (b'x-ratelimit-remaining-tokens', b'99942'), (b'x-ms-client-request-id', b'bcb95769-0ca5-4230-9d84-6680f02e0e76'), (b'x-ratelimit-limit-tokens', b'100000'), (b'azureml-model-session', b'd149-20250513052922'), (b'x-ms-deployment-name', b'gpt-35-turbo'), (b'Date', b'Thu, 03 Jul 2025 09:45:48 GMT')])
2025-07-03 11:45:48,601 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 model_error"
2025-07-03 11:45:48,601 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-03 11:45:48,601 DEBUG receive_response_body.complete
2025-07-03 11:45:48,601 DEBUG response_closed.started
2025-07-03 11:45:48,602 DEBUG response_closed.complete
2025-07-03 11:45:48,602 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "400 model_error" Headers({'content-length': '22', 'content-type': 'text/plain; charset=utf-8', 'x-content-type-options': 'nosniff', 'x-ms-rai-invoked': 'true', 'x-request-id': '94358655-6049-4a46-9a45-ba8906936e60', 'ms-azureml-model-error-reason': 'model_error', 'ms-azureml-model-error-statuscode': '400', 'apim-request-id': 'bcb95769-0ca5-4230-9d84-6680f02e0e76', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '96', 'x-ratelimit-limit-requests': '100', 'x-ratelimit-remaining-tokens': '99942', 'x-ms-client-request-id': 'bcb95769-0ca5-4230-9d84-6680f02e0e76', 'x-ratelimit-limit-tokens': '100000', 'azureml-model-session': 'd149-20250513052922', 'x-ms-deployment-name': 'gpt-35-turbo', 'date': 'Thu, 03 Jul 2025 09:45:48 GMT'})
2025-07-03 11:45:48,602 DEBUG request_id: 94358655-6049-4a46-9a45-ba8906936e60
2025-07-03 11:45:48,602 DEBUG Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\openai\_base_client.py", line 1017, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '400 model_error' for url 'https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-03 11:45:48,603 DEBUG Not retrying
2025-07-03 11:45:48,604 DEBUG Re-raising status error
2025-07-03 11:45:48,605 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-d7d8f6a4-f676-408a-be83-9b9c0d24f938', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001A8CD0E0180>, 'json_data': {'input': [[2309, 1495]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-07-03 11:45:48,607 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview
2025-07-03 11:45:48,608 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-07-03 11:45:48,609 DEBUG send_request_headers.complete
2025-07-03 11:45:48,610 DEBUG send_request_body.started request=<Request [b'POST']>
2025-07-03 11:45:48,610 DEBUG send_request_body.complete
2025-07-03 11:45:48,610 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-07-03 11:45:48,657 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'model_error', [(b'Content-Length', b'22'), (b'Content-Type', b'text/plain; charset=utf-8'), (b'x-content-type-options', b'nosniff'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'2a1a8370-c7e1-4fbd-93c5-feef3d29e3a3'), (b'ms-azureml-model-error-reason', b'model_error'), (b'ms-azureml-model-error-statuscode', b'400'), (b'apim-request-id', b'390b5352-950f-4414-93da-a084f6042436'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'95'), (b'x-ratelimit-limit-requests', b'100'), (b'x-ratelimit-remaining-tokens', b'99942'), (b'x-ms-client-request-id', b'390b5352-950f-4414-93da-a084f6042436'), (b'x-ratelimit-limit-tokens', b'100000'), (b'azureml-model-session', b'd149-20250513052922'), (b'x-ms-deployment-name', b'gpt-35-turbo'), (b'Date', b'Thu, 03 Jul 2025 09:45:48 GMT')])
2025-07-03 11:45:48,657 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 model_error"
2025-07-03 11:45:48,658 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-07-03 11:45:48,658 DEBUG receive_response_body.complete
2025-07-03 11:45:48,658 DEBUG response_closed.started
2025-07-03 11:45:48,658 DEBUG response_closed.complete
2025-07-03 11:45:48,658 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview "400 model_error" Headers({'content-length': '22', 'content-type': 'text/plain; charset=utf-8', 'x-content-type-options': 'nosniff', 'x-ms-rai-invoked': 'true', 'x-request-id': '2a1a8370-c7e1-4fbd-93c5-feef3d29e3a3', 'ms-azureml-model-error-reason': 'model_error', 'ms-azureml-model-error-statuscode': '400', 'apim-request-id': '390b5352-950f-4414-93da-a084f6042436', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '95', 'x-ratelimit-limit-requests': '100', 'x-ratelimit-remaining-tokens': '99942', 'x-ms-client-request-id': '390b5352-950f-4414-93da-a084f6042436', 'x-ratelimit-limit-tokens': '100000', 'azureml-model-session': 'd149-20250513052922', 'x-ms-deployment-name': 'gpt-35-turbo', 'date': 'Thu, 03 Jul 2025 09:45:48 GMT'})
2025-07-03 11:45:48,659 DEBUG request_id: 2a1a8370-c7e1-4fbd-93c5-feef3d29e3a3
2025-07-03 11:45:48,659 DEBUG Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "D:\ProjectDeepChatBOT\main.py", line 85, in encode_text
    return embeddings.embed_query(cleaned_text)
           ~~~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\langchain_openai\embeddings\base.py", line 638, in embed_query
    return self.embed_documents([text], **kwargs)[0]
           ~~~~~~~~~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\langchain_openai\embeddings\base.py", line 590, in embed_documents
    return self._get_len_safe_embeddings(
           ~~~~~~~~~~~~~~~~~~~~~~~~~~~~~^
        texts, engine=engine, chunk_size=chunk_size, **kwargs
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\langchain_openai\embeddings\base.py", line 478, in _get_len_safe_embeddings
    response = self.client.create(
        input=tokens[i : i + _chunk_size], **client_kwargs
    )
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\openai\resources\embeddings.py", line 129, in create
    return self._post(
           ~~~~~~~~~~^
        "/embeddings",
        ^^^^^^^^^^^^^^
    ...<8 lines>...
        cast_to=CreateEmbeddingResponse,
        ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
    )
    ^
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\openai\_base_client.py", line 1242, in post
    return cast(ResponseT, self.request(cast_to, opts, stream=stream, stream_cls=stream_cls))
                           ~~~~~~~~~~~~^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\openai\_base_client.py", line 1037, in request
    raise self._make_status_error_from_response(err.response) from None
openai.BadRequestError: Unsupported data type

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\openai\_base_client.py", line 1017, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "D:\ProjectDeepChatBOT\venv\Lib\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '400 model_error' for url 'https://deepchatbot.openai.azure.com/openai/deployments/gpt-35-turbo/chat/completions?api-version=2024-12-01-preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-07-03 11:45:48,666 DEBUG Not retrying
2025-07-03 11:45:48,666 DEBUG Re-raising status error
2025-07-03 11:45:48,672 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '90'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '7fd2e88e-57f2-11f0-9eea-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.13.5 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-07-03 11:45:48,728 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2024-07-01 HTTP/1.1" 404 98
2025-07-03 11:45:48,730 INFO Response status: 404
Response headers:
    'Content-Length': '98'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'request-id': '7fd2e88e-57f2-11f0-9eea-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 03 Jul 2025 09:45:49 GMT'
2025-07-03 11:45:48,757 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '246'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '7fe00930-57f2-11f0-a20a-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.5.2 Python/3.13.5 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-07-03 11:45:48,811 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2024-07-01 HTTP/1.1" 404 98
2025-07-03 11:45:48,812 INFO Response status: 404
Response headers:
    'Content-Length': '98'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Server': 'Microsoft-IIS/10.0'
    'Strict-Transport-Security': 'REDACTED'
    'request-id': '7fe00930-57f2-11f0-a20a-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Thu, 03 Jul 2025 09:45:49 GMT'
2025-07-03 11:45:49,035 DEBUG close.started
2025-07-03 11:45:49,035 DEBUG close.complete
2025-07-03 11:45:49,036 DEBUG close.started
2025-07-03 11:45:49,036 DEBUG close.complete
2025-10-10 18:07:30,426 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 18:07:30,427 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 18:07:30,427 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 18:07:30,427 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 18:07:30,427 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 18:07:37,846 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://192.168.0.9:8000
2025-10-10 18:07:37,846 INFO [33mPress CTRL+C to quit[0m
2025-10-10 18:07:38,009 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 18:07:42,104 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 18:07:42,104 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 18:07:42,104 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 18:07:42,104 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 18:07:42,104 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 18:07:43,950 WARNING  * Debugger is active!
2025-10-10 18:07:43,964 INFO  * Debugger PIN: 127-213-732
2025-10-10 18:10:35,397 INFO 127.0.0.1 - - [10/Oct/2025 18:10:35] "GET / HTTP/1.1" 200 -
2025-10-10 18:10:36,194 INFO 127.0.0.1 - - [10/Oct/2025 18:10:36] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-10-10 18:10:40,014 DEBUG Starting new HTTPS connection (1): openaipublic.blob.core.windows.net:443
2025-10-10 18:10:40,661 DEBUG https://openaipublic.blob.core.windows.net:443 "GET /encodings/cl100k_base.tiktoken HTTP/1.1" 200 1681126
2025-10-10 18:10:42,541 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-38882991-b85e-4bf0-a3f2-c8ff70500e01', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002453E3B76A0>, 'json_data': {'input': [[6151]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 18:10:42,543 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview
2025-10-10 18:10:42,543 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 18:10:42,672 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002453E3AA270>
2025-10-10 18:10:42,672 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000002453CDAF7F0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 18:10:42,768 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002453E32B9D0>
2025-10-10 18:10:42,769 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 18:10:42,769 DEBUG send_request_headers.complete
2025-10-10 18:10:42,770 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 18:10:42,770 DEBUG send_request_body.complete
2025-10-10 18:10:42,770 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 18:10:42,982 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'ccbbaaff-b34a-4922-bda2-b96bf0371c54'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149999'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'f989b93f-aa19-452d-bed1-db8c6292d86c'), (b'azureml-model-session', b'd016-20250912193106'), (b'x-envoy-upstream-service-time', b'128'), (b'x-ms-client-request-id', b'ccbbaaff-b34a-4922-bda2-b96bf0371c54'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"2","error_rate":"0","active_tokens":"435"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 16:10:42 GMT')])
2025-10-10 18:10:42,984 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 18:10:42,985 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 18:10:42,985 DEBUG receive_response_body.complete
2025-10-10 18:10:42,986 DEBUG response_closed.started
2025-10-10 18:10:42,986 DEBUG response_closed.complete
2025-10-10 18:10:42,986 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'ccbbaaff-b34a-4922-bda2-b96bf0371c54', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149999', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': 'f989b93f-aa19-452d-bed1-db8c6292d86c', 'azureml-model-session': 'd016-20250912193106', 'x-envoy-upstream-service-time': '128', 'x-ms-client-request-id': 'ccbbaaff-b34a-4922-bda2-b96bf0371c54', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"2","error_rate":"0","active_tokens":"435"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 16:10:42 GMT'})
2025-10-10 18:10:42,987 DEBUG request_id: f989b93f-aa19-452d-bed1-db8c6292d86c
2025-10-10 18:10:45,480 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34276'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'ad7d6ece-a5f3-11f0-9675-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 18:10:45,482 DEBUG Starting new HTTPS connection (1): deepchatbot.search.windows.net:443
2025-10-10 18:10:45,685 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 404 98
2025-10-10 18:10:45,719 INFO Response status: 404
Response headers:
    'Content-Length': '98'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'request-id': 'ad7d6ece-a5f3-11f0-9675-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 16:10:45 GMT'
2025-10-10 18:10:45,722 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '85'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'ada260f9-a5f3-11f0-bebb-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 18:10:45,761 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 404 98
2025-10-10 18:10:45,761 INFO Response status: 404
Response headers:
    'Content-Length': '98'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'request-id': 'ada260f9-a5f3-11f0-bebb-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 16:10:45 GMT'
2025-10-10 18:10:45,766 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '85'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'ada90415-a5f3-11f0-9da5-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 18:10:45,802 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 404 98
2025-10-10 18:10:45,802 INFO Response status: 404
Response headers:
    'Content-Length': '98'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'request-id': 'ada90415-a5f3-11f0-9da5-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 16:10:45 GMT'
2025-10-10 18:10:45,804 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'adaed97b-a5f3-11f0-84f1-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 18:10:45,842 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 404 98
2025-10-10 18:10:45,842 INFO Response status: 404
Response headers:
    'Content-Length': '98'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'request-id': 'adaed97b-a5f3-11f0-84f1-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 16:10:45 GMT'
2025-10-10 18:10:45,846 INFO Generated prompt: System: You are a helpful personal assistant. This appears to be your first conversation with this user.

User Profile: Not available
Human: hi
2025-10-10 18:10:46,018 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-6a2620d9-6411-48fa-b1b2-fade3830c80c', 'json_data': {'messages': [{'content': 'System: You are a helpful personal assistant. This appears to be your first conversation with this user.\n\nUser Profile: Not available\nHuman: hi', 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 18:10:46,019 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview
2025-10-10 18:10:46,020 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 18:10:46,052 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002454016BB10>
2025-10-10 18:10:46,052 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000002453C6C0E10> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 18:10:46,144 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002454016E3F0>
2025-10-10 18:10:46,144 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 18:10:46,144 DEBUG send_request_headers.complete
2025-10-10 18:10:46,144 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 18:10:46,145 DEBUG send_request_body.complete
2025-10-10 18:10:46,145 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 18:10:46,201 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Content-Length', b'317'), (b'Content-Type', b'application/json'), (b'apim-request-id', b'd0b3fe4f-bd41-41d8-87da-e24b9b1e8501'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'149'), (b'x-ratelimit-limit-requests', b'150'), (b'x-ratelimit-remaining-tokens', b'149984'), (b'x-ratelimit-limit-tokens', b'150000'), (b'Date', b'Fri, 10 Oct 2025 16:10:46 GMT')])
2025-10-10 18:10:46,201 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 Bad Request"
2025-10-10 18:10:46,201 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 18:10:46,201 DEBUG receive_response_body.complete
2025-10-10 18:10:46,202 DEBUG response_closed.started
2025-10-10 18:10:46,202 DEBUG response_closed.complete
2025-10-10 18:10:46,202 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview "400 Bad Request" Headers({'content-length': '317', 'content-type': 'application/json', 'apim-request-id': 'd0b3fe4f-bd41-41d8-87da-e24b9b1e8501', 'x-ms-deployment-name': 'text-embedding-3-small', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '149', 'x-ratelimit-limit-requests': '150', 'x-ratelimit-remaining-tokens': '149984', 'x-ratelimit-limit-tokens': '150000', 'date': 'Fri, 10 Oct 2025 16:10:46 GMT'})
2025-10-10 18:10:46,202 DEBUG request_id: None
2025-10-10 18:10:46,202 DEBUG Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\openai\_base_client.py", line 1027, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '400 Bad Request' for url 'https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-10-10 18:10:46,210 DEBUG Not retrying
2025-10-10 18:10:46,210 DEBUG Re-raising status error
2025-10-10 18:10:46,211 ERROR Error in chat function: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, text-embedding-3-small. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}
2025-10-10 18:10:46,212 INFO 127.0.0.1 - - [10/Oct/2025 18:10:46] "POST /chat HTTP/1.1" 200 -
2025-10-10 18:46:55,886 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 18:46:55,886 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 18:46:55,886 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 18:46:55,886 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 18:46:55,886 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 18:46:57,805 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://192.168.0.9:8000
2025-10-10 18:46:57,805 INFO [33mPress CTRL+C to quit[0m
2025-10-10 18:46:57,822 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 18:47:01,912 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 18:47:01,913 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 18:47:01,913 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 18:47:01,913 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 18:47:01,913 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 18:47:04,015 WARNING  * Debugger is active!
2025-10-10 18:47:04,024 INFO  * Debugger PIN: 127-213-732
2025-10-10 18:47:29,143 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-0606066c-3e91-4777-aecc-dcbbd23d5f13', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001C012BAE2A0>, 'json_data': {'input': [[6151]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 18:47:29,145 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview
2025-10-10 18:47:29,147 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 18:47:29,295 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C012BAA120>
2025-10-10 18:47:29,295 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C01268F7F0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 18:47:29,385 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C012B2A990>
2025-10-10 18:47:29,386 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 18:47:29,387 DEBUG send_request_headers.complete
2025-10-10 18:47:29,387 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 18:47:29,388 DEBUG send_request_body.complete
2025-10-10 18:47:29,388 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 18:47:29,503 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'd3981b30-0c09-47ea-aeca-725b3dc179bc'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149999'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'cdc5545e-9031-4be6-983e-5805718b8c22'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'26'), (b'x-ms-client-request-id', b'd3981b30-0c09-47ea-aeca-725b3dc179bc'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"1"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 16:47:28 GMT')])
2025-10-10 18:47:29,504 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 18:47:29,505 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 18:47:29,505 DEBUG receive_response_body.complete
2025-10-10 18:47:29,506 DEBUG response_closed.started
2025-10-10 18:47:29,506 DEBUG response_closed.complete
2025-10-10 18:47:29,506 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'd3981b30-0c09-47ea-aeca-725b3dc179bc', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149999', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': 'cdc5545e-9031-4be6-983e-5805718b8c22', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '26', 'x-ms-client-request-id': 'd3981b30-0c09-47ea-aeca-725b3dc179bc', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"1"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 16:47:28 GMT'})
2025-10-10 18:47:29,507 DEBUG request_id: cdc5545e-9031-4be6-983e-5805718b8c22
2025-10-10 18:47:30,157 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34276'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'cf946419-a5f8-11f0-83db-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 18:47:30,170 DEBUG Starting new HTTPS connection (1): deepchatbot.search.windows.net:443
2025-10-10 18:47:30,442 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 18:47:30,456 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'cf946419-a5f8-11f0-83db-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 16:47:29 GMT'
2025-10-10 18:47:30,459 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '85'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'cfc29684-a5f8-11f0-ab29-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 18:47:30,509 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 18:47:30,511 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'cfc29684-a5f8-11f0-ab29-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 16:47:29 GMT'
2025-10-10 18:47:30,514 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'cfcaf6d2-a5f8-11f0-b67c-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 18:47:30,577 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 400 179
2025-10-10 18:47:30,579 INFO Response status: 400
Response headers:
    'Cache-Control': 'no-cache,no-store'
    'Pragma': 'no-cache'
    'Content-Length': '179'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Expires': '-1'
    'request-id': 'cfcaf6d2-a5f8-11f0-b67c-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 16:47:29 GMT'
2025-10-10 18:47:30,582 INFO Generated prompt: System: You are a helpful personal assistant. This appears to be your first conversation with this user.

User Profile: Not available
Human: hi
2025-10-10 18:47:30,632 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-dd2d2027-43bc-4735-aceb-c923968e5daf', 'json_data': {'messages': [{'content': 'System: You are a helpful personal assistant. This appears to be your first conversation with this user.\n\nUser Profile: Not available\nHuman: hi', 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 18:47:30,636 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview
2025-10-10 18:47:30,636 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 18:47:30,674 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C014053C50>
2025-10-10 18:47:30,675 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C010EE0E10> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 18:47:30,764 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C014056520>
2025-10-10 18:47:30,765 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 18:47:30,766 DEBUG send_request_headers.complete
2025-10-10 18:47:30,766 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 18:47:30,767 DEBUG send_request_body.complete
2025-10-10 18:47:30,767 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 18:47:30,814 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Content-Length', b'317'), (b'Content-Type', b'application/json'), (b'apim-request-id', b'2761daa6-df34-4405-84b2-10ff1453aa8b'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'149'), (b'x-ratelimit-limit-requests', b'150'), (b'x-ratelimit-remaining-tokens', b'149984'), (b'x-ratelimit-limit-tokens', b'150000'), (b'Date', b'Fri, 10 Oct 2025 16:47:30 GMT')])
2025-10-10 18:47:30,815 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 Bad Request"
2025-10-10 18:47:30,815 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 18:47:30,816 DEBUG receive_response_body.complete
2025-10-10 18:47:30,816 DEBUG response_closed.started
2025-10-10 18:47:30,816 DEBUG response_closed.complete
2025-10-10 18:47:30,816 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview "400 Bad Request" Headers({'content-length': '317', 'content-type': 'application/json', 'apim-request-id': '2761daa6-df34-4405-84b2-10ff1453aa8b', 'x-ms-deployment-name': 'text-embedding-3-small', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '149', 'x-ratelimit-limit-requests': '150', 'x-ratelimit-remaining-tokens': '149984', 'x-ratelimit-limit-tokens': '150000', 'date': 'Fri, 10 Oct 2025 16:47:30 GMT'})
2025-10-10 18:47:30,817 DEBUG request_id: None
2025-10-10 18:47:30,817 DEBUG Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\openai\_base_client.py", line 1027, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '400 Bad Request' for url 'https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-10-10 18:47:30,835 DEBUG Not retrying
2025-10-10 18:47:30,835 DEBUG Re-raising status error
2025-10-10 18:47:30,838 ERROR Error in chat function: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, text-embedding-3-small. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}
2025-10-10 18:47:30,841 INFO 127.0.0.1 - - [10/Oct/2025 18:47:30] "POST /chat HTTP/1.1" 200 -
2025-10-10 19:41:44,185 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 19:41:44,186 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 19:41:44,186 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 19:41:44,186 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 19:41:44,186 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 19:41:46,502 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://192.168.0.9:8000
2025-10-10 19:41:46,502 INFO [33mPress CTRL+C to quit[0m
2025-10-10 19:41:46,525 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 19:41:52,173 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 19:41:52,173 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 19:41:52,173 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 19:41:52,173 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 19:41:52,173 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 19:41:55,277 WARNING  * Debugger is active!
2025-10-10 19:41:55,321 INFO  * Debugger PIN: 127-213-732
2025-10-10 19:41:56,574 INFO 127.0.0.1 - - [10/Oct/2025 19:41:56] "[36mGET / HTTP/1.1[0m" 304 -
2025-10-10 19:41:57,627 INFO 127.0.0.1 - - [10/Oct/2025 19:41:57] "[33mGET /favicon.ico HTTP/1.1[0m" 404 -
2025-10-10 19:42:01,535 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-2a3dbc4c-d10f-4ae8-99f0-49bc3515c012', 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000019BDB4B2980>, 'json_data': {'input': [[6151]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 19:42:01,538 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview
2025-10-10 19:42:01,539 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 19:42:01,702 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000019BDB4AE270>
2025-10-10 19:42:01,702 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x0000019BD9F8F7F0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 19:42:01,798 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000019BDB42BB10>
2025-10-10 19:42:01,799 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 19:42:01,800 DEBUG send_request_headers.complete
2025-10-10 19:42:01,800 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 19:42:01,801 DEBUG send_request_body.complete
2025-10-10 19:42:01,801 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 19:42:01,913 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'c25f2010-8c4c-49c7-8d54-aa78f26d590a'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149999'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'518a484a-af1a-4943-a0a9-0936cfa3fab2'), (b'azureml-model-session', b'd072-20250905053909'), (b'x-envoy-upstream-service-time', b'25'), (b'x-ms-client-request-id', b'c25f2010-8c4c-49c7-8d54-aa78f26d590a'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"68951"},"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 17:42:01 GMT')])
2025-10-10 19:42:01,915 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 19:42:01,915 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 19:42:01,916 DEBUG receive_response_body.complete
2025-10-10 19:42:01,916 DEBUG response_closed.started
2025-10-10 19:42:01,917 DEBUG response_closed.complete
2025-10-10 19:42:01,917 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'c25f2010-8c4c-49c7-8d54-aa78f26d590a', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149999', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '518a484a-af1a-4943-a0a9-0936cfa3fab2', 'azureml-model-session': 'd072-20250905053909', 'x-envoy-upstream-service-time': '25', 'x-ms-client-request-id': 'c25f2010-8c4c-49c7-8d54-aa78f26d590a', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"68951"},"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 17:42:01 GMT'})
2025-10-10 19:42:01,917 DEBUG request_id: 518a484a-af1a-4943-a0a9-0936cfa3fab2
2025-10-10 19:42:02,657 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34276'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '6e243b4e-a600-11f0-9f75-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 19:42:02,677 INFO  * Detected change in 'D:\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2288.0_x64__qbz5n2kfra8p0\\Lib\\netrc.py', reloading
2025-10-10 19:42:02,679 INFO  * Detected change in 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2288.0_x64__qbz5n2kfra8p0\\Lib\\netrc.py', reloading
2025-10-10 19:42:02,682 DEBUG Starting new HTTPS connection (1): deepchatbot.search.windows.net:443
2025-10-10 19:42:03,012 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 19:42:03,027 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '6e243b4e-a600-11f0-9f75-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 17:42:03 GMT'
2025-10-10 19:42:03,031 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '85'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '6e5d5e0d-a600-11f0-9405-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 19:42:03,091 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 19:42:03,093 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '6e5d5e0d-a600-11f0-9405-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 17:42:03 GMT'
2025-10-10 19:42:03,097 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '6e676232-a600-11f0-9357-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 19:42:03,162 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 19:42:03,163 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '6e676232-a600-11f0-9357-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 17:42:03 GMT'
2025-10-10 19:42:03,166 INFO Generated prompt: System: You are a helpful personal assistant. This appears to be your first conversation with this user.

User Profile: Not available
Human: hi
2025-10-10 19:42:03,215 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-3c605033-ac96-4295-9414-a7c2337b10e8', 'json_data': {'messages': [{'content': 'System: You are a helpful personal assistant. This appears to be your first conversation with this user.\n\nUser Profile: Not available\nHuman: hi', 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 19:42:03,216 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview
2025-10-10 19:42:03,218 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 19:42:03,254 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000019BDBB2FB10>
2025-10-10 19:42:03,254 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x0000019BD98C0E10> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 19:42:03,360 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000019BDBB4E650>
2025-10-10 19:42:03,360 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 19:42:03,362 DEBUG send_request_headers.complete
2025-10-10 19:42:03,362 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 19:42:03,363 DEBUG send_request_body.complete
2025-10-10 19:42:03,363 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 19:42:03,453 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Content-Length', b'317'), (b'Content-Type', b'application/json'), (b'apim-request-id', b'4d697a72-0fcb-4efb-9c15-f5ba1b70db62'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'149'), (b'x-ratelimit-limit-requests', b'150'), (b'x-ratelimit-remaining-tokens', b'149984'), (b'x-ratelimit-limit-tokens', b'150000'), (b'Date', b'Fri, 10 Oct 2025 17:42:02 GMT')])
2025-10-10 19:42:03,454 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 Bad Request"
2025-10-10 19:42:03,454 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 19:42:03,455 DEBUG receive_response_body.complete
2025-10-10 19:42:03,455 DEBUG response_closed.started
2025-10-10 19:42:03,456 DEBUG response_closed.complete
2025-10-10 19:42:03,456 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview "400 Bad Request" Headers({'content-length': '317', 'content-type': 'application/json', 'apim-request-id': '4d697a72-0fcb-4efb-9c15-f5ba1b70db62', 'x-ms-deployment-name': 'text-embedding-3-small', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '149', 'x-ratelimit-limit-requests': '150', 'x-ratelimit-remaining-tokens': '149984', 'x-ratelimit-limit-tokens': '150000', 'date': 'Fri, 10 Oct 2025 17:42:02 GMT'})
2025-10-10 19:42:03,456 DEBUG request_id: None
2025-10-10 19:42:03,457 DEBUG Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\openai\_base_client.py", line 1027, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '400 Bad Request' for url 'https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-10-10 19:42:03,468 INFO  * Detected change in 'C:\\Users\\Aswin\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python313\\site-packages\\openai\\_base_client.py', reloading
2025-10-10 19:42:03,474 DEBUG Not retrying
2025-10-10 19:42:03,476 DEBUG Re-raising status error
2025-10-10 19:42:03,476 INFO  * Detected change in 'C:\\Users\\Aswin\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python313\\site-packages\\httpx\\_models.py', reloading
2025-10-10 19:42:03,478 ERROR Error in chat function: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, text-embedding-3-small. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}
2025-10-10 19:42:03,480 INFO 127.0.0.1 - - [10/Oct/2025 19:42:03] "POST /chat HTTP/1.1" 200 -
2025-10-10 19:42:04,295 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 19:42:08,918 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 19:42:08,918 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 19:42:08,918 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 19:42:08,918 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 19:42:08,918 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 19:42:11,205 WARNING  * Debugger is active!
2025-10-10 19:42:11,216 INFO  * Debugger PIN: 127-213-732
2025-10-10 19:42:22,816 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-8c1fdde6-ee5c-44f5-a401-f8c988a432a8', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001FC1F8ADEE0>, 'json_data': {'input': [[6151]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 19:42:22,817 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview
2025-10-10 19:42:22,817 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 19:42:22,982 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001FC1F8A5FD0>
2025-10-10 19:42:22,982 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001FC1F38F7F0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 19:42:23,084 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001FC1F82A990>
2025-10-10 19:42:23,084 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 19:42:23,085 DEBUG send_request_headers.complete
2025-10-10 19:42:23,086 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 19:42:23,086 DEBUG send_request_body.complete
2025-10-10 19:42:23,086 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 19:42:23,192 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'dcdef7e8-41be-4dfb-af63-ffb110735606'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149998'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'c63cc32d-6246-4b13-bab1-222a6a315e09'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'27'), (b'x-ms-client-request-id', b'dcdef7e8-41be-4dfb-af63-ffb110735606'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"9481"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 17:42:22 GMT')])
2025-10-10 19:42:23,195 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 19:42:23,195 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 19:42:23,196 DEBUG receive_response_body.complete
2025-10-10 19:42:23,196 DEBUG response_closed.started
2025-10-10 19:42:23,196 DEBUG response_closed.complete
2025-10-10 19:42:23,197 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'dcdef7e8-41be-4dfb-af63-ffb110735606', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149998', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': 'c63cc32d-6246-4b13-bab1-222a6a315e09', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '27', 'x-ms-client-request-id': 'dcdef7e8-41be-4dfb-af63-ffb110735606', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"9481"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 17:42:22 GMT'})
2025-10-10 19:42:23,197 DEBUG request_id: c63cc32d-6246-4b13-bab1-222a6a315e09
2025-10-10 19:42:23,786 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34276'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '7abc60d5-a600-11f0-b23f-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 19:42:23,800 DEBUG Starting new HTTPS connection (1): deepchatbot.search.windows.net:443
2025-10-10 19:42:24,061 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 19:42:24,076 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '7abc60d5-a600-11f0-b23f-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 17:42:24 GMT'
2025-10-10 19:42:24,078 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '85'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '7ae90038-a600-11f0-8d8d-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 19:42:24,126 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 19:42:24,127 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '7ae90038-a600-11f0-8d8d-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 17:42:24 GMT'
2025-10-10 19:42:24,130 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '7af0de14-a600-11f0-a83b-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 19:42:24,186 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 19:42:24,188 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '7af0de14-a600-11f0-a83b-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 17:42:24 GMT'
2025-10-10 19:42:24,190 INFO Generated prompt: System: You are a helpful personal assistant. This appears to be your first conversation with this user.

User Profile: Not available
Human: hi
2025-10-10 19:42:24,239 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-297c84a9-dc8b-4d46-abbc-6128b423322a', 'json_data': {'messages': [{'content': 'System: You are a helpful personal assistant. This appears to be your first conversation with this user.\n\nUser Profile: Not available\nHuman: hi', 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 19:42:24,241 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview
2025-10-10 19:42:24,241 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 19:42:24,281 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001FC1FC9FC50>
2025-10-10 19:42:24,281 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001FC1DC20E10> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 19:42:24,380 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001FC1FCA2520>
2025-10-10 19:42:24,380 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 19:42:24,381 DEBUG send_request_headers.complete
2025-10-10 19:42:24,382 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 19:42:24,382 DEBUG send_request_body.complete
2025-10-10 19:42:24,383 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 19:42:24,434 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Content-Length', b'317'), (b'Content-Type', b'application/json'), (b'apim-request-id', b'5ff33481-111b-4965-ad72-179a8740b695'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'149'), (b'x-ratelimit-limit-requests', b'150'), (b'x-ratelimit-remaining-tokens', b'149968'), (b'x-ratelimit-limit-tokens', b'150000'), (b'Date', b'Fri, 10 Oct 2025 17:42:24 GMT')])
2025-10-10 19:42:24,435 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 Bad Request"
2025-10-10 19:42:24,435 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 19:42:24,436 DEBUG receive_response_body.complete
2025-10-10 19:42:24,436 DEBUG response_closed.started
2025-10-10 19:42:24,436 DEBUG response_closed.complete
2025-10-10 19:42:24,437 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview "400 Bad Request" Headers({'content-length': '317', 'content-type': 'application/json', 'apim-request-id': '5ff33481-111b-4965-ad72-179a8740b695', 'x-ms-deployment-name': 'text-embedding-3-small', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '149', 'x-ratelimit-limit-requests': '150', 'x-ratelimit-remaining-tokens': '149968', 'x-ratelimit-limit-tokens': '150000', 'date': 'Fri, 10 Oct 2025 17:42:24 GMT'})
2025-10-10 19:42:24,437 DEBUG request_id: None
2025-10-10 19:42:24,438 DEBUG Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\openai\_base_client.py", line 1027, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '400 Bad Request' for url 'https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-10-10 19:42:24,450 DEBUG Not retrying
2025-10-10 19:42:24,450 DEBUG Re-raising status error
2025-10-10 19:42:24,451 ERROR Error in chat function: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, text-embedding-3-small. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}
2025-10-10 19:42:24,453 INFO 127.0.0.1 - - [10/Oct/2025 19:42:24] "POST /chat HTTP/1.1" 200 -
2025-10-10 19:43:24,124 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-c843eec2-bc89-499d-83c6-e83d37572397', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001FC1FDA1BC0>, 'json_data': {'input': [[6151]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 19:43:24,125 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview
2025-10-10 19:43:24,125 DEBUG close.started
2025-10-10 19:43:24,126 DEBUG close.complete
2025-10-10 19:43:24,126 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 19:43:24,277 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001FC1FCA2C40>
2025-10-10 19:43:24,278 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001FC1F38F7F0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 19:43:24,377 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001FC1F842E70>
2025-10-10 19:43:24,377 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 19:43:24,379 DEBUG send_request_headers.complete
2025-10-10 19:43:24,379 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 19:43:24,379 DEBUG send_request_body.complete
2025-10-10 19:43:24,380 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 19:43:24,503 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'58b6cc2c-2369-4559-915e-74dd15d03811'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149999'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'91c835aa-7e1f-4da1-93f2-d045af4f4571'), (b'azureml-model-session', b'd072-20250905053909'), (b'x-envoy-upstream-service-time', b'25'), (b'x-ms-client-request-id', b'58b6cc2c-2369-4559-915e-74dd15d03811'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"3","error_rate":"0","active_tokens":"1847"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 17:43:23 GMT')])
2025-10-10 19:43:24,504 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 19:43:24,504 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 19:43:24,504 DEBUG receive_response_body.complete
2025-10-10 19:43:24,504 DEBUG response_closed.started
2025-10-10 19:43:24,504 DEBUG response_closed.complete
2025-10-10 19:43:24,505 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '58b6cc2c-2369-4559-915e-74dd15d03811', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149999', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '91c835aa-7e1f-4da1-93f2-d045af4f4571', 'azureml-model-session': 'd072-20250905053909', 'x-envoy-upstream-service-time': '25', 'x-ms-client-request-id': '58b6cc2c-2369-4559-915e-74dd15d03811', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"3","error_rate":"0","active_tokens":"1847"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 17:43:23 GMT'})
2025-10-10 19:43:24,505 DEBUG request_id: 91c835aa-7e1f-4da1-93f2-d045af4f4571
2025-10-10 19:43:24,565 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34276'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '9ef67e1f-a600-11f0-8e1e-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 19:43:24,645 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 19:43:24,647 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '9ef67e1f-a600-11f0-8e1e-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 17:43:24 GMT'
2025-10-10 19:43:24,649 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '85'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '9f035864-a600-11f0-9261-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 19:43:24,701 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 19:43:24,702 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '9f035864-a600-11f0-9261-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 17:43:24 GMT'
2025-10-10 19:43:24,705 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '9f0bdf05-a600-11f0-8668-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 19:43:24,750 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 19:43:24,752 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '9f0bdf05-a600-11f0-8668-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 17:43:24 GMT'
2025-10-10 19:43:24,754 INFO Generated prompt: System: You are a helpful personal assistant. This appears to be your first conversation with this user.

User Profile: Not available
Human: hi
2025-10-10 19:43:24,757 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-2a1b929a-7b03-4285-8dd9-d0331a7b2a03', 'json_data': {'messages': [{'content': 'System: You are a helpful personal assistant. This appears to be your first conversation with this user.\n\nUser Profile: Not available\nHuman: hi', 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 19:43:24,758 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview
2025-10-10 19:43:24,758 DEBUG close.started
2025-10-10 19:43:24,759 DEBUG close.complete
2025-10-10 19:43:24,759 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 19:43:24,805 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001FC1FC86F10>
2025-10-10 19:43:24,805 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001FC1DC20E10> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 19:43:24,906 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001FC1FC87130>
2025-10-10 19:43:24,906 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 19:43:24,907 DEBUG send_request_headers.complete
2025-10-10 19:43:24,908 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 19:43:24,908 DEBUG send_request_body.complete
2025-10-10 19:43:24,909 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 19:43:24,962 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Content-Length', b'317'), (b'Content-Type', b'application/json'), (b'apim-request-id', b'3e4040cf-96fe-4d21-8e4a-8588127ea568'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'149'), (b'x-ratelimit-limit-requests', b'150'), (b'x-ratelimit-remaining-tokens', b'149984'), (b'x-ratelimit-limit-tokens', b'150000'), (b'Date', b'Fri, 10 Oct 2025 17:43:24 GMT')])
2025-10-10 19:43:24,963 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 Bad Request"
2025-10-10 19:43:24,964 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 19:43:24,964 DEBUG receive_response_body.complete
2025-10-10 19:43:24,964 DEBUG response_closed.started
2025-10-10 19:43:24,965 DEBUG response_closed.complete
2025-10-10 19:43:24,965 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview "400 Bad Request" Headers({'content-length': '317', 'content-type': 'application/json', 'apim-request-id': '3e4040cf-96fe-4d21-8e4a-8588127ea568', 'x-ms-deployment-name': 'text-embedding-3-small', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '149', 'x-ratelimit-limit-requests': '150', 'x-ratelimit-remaining-tokens': '149984', 'x-ratelimit-limit-tokens': '150000', 'date': 'Fri, 10 Oct 2025 17:43:24 GMT'})
2025-10-10 19:43:24,965 DEBUG request_id: None
2025-10-10 19:43:24,966 DEBUG Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\openai\_base_client.py", line 1027, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '400 Bad Request' for url 'https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-10-10 19:43:24,969 DEBUG Not retrying
2025-10-10 19:43:24,969 DEBUG Re-raising status error
2025-10-10 19:43:24,970 ERROR Error in chat function: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, text-embedding-3-small. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}
2025-10-10 19:43:24,971 INFO 127.0.0.1 - - [10/Oct/2025 19:43:24] "POST /chat HTTP/1.1" 200 -
2025-10-10 20:02:57,720 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 20:02:57,721 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 20:02:57,721 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 20:02:57,721 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 20:02:57,721 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 20:03:00,030 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://192.168.0.9:8000
2025-10-10 20:03:00,030 INFO [33mPress CTRL+C to quit[0m
2025-10-10 20:03:00,062 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 20:03:03,973 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 20:03:03,973 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 20:03:03,973 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 20:03:03,973 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 20:03:03,973 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 20:03:05,926 WARNING  * Debugger is active!
2025-10-10 20:03:05,939 INFO  * Debugger PIN: 127-213-732
2025-10-10 20:03:27,767 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-bf73bb93-d649-4ce9-af38-c5a9156b550c', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001C58F3B2020>, 'json_data': {'input': [[6151]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 20:03:27,769 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview
2025-10-10 20:03:27,769 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 20:03:27,933 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C58F3B6120>
2025-10-10 20:03:27,934 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C58DE237F0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 20:03:28,039 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C58F32A990>
2025-10-10 20:03:28,040 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 20:03:28,041 DEBUG send_request_headers.complete
2025-10-10 20:03:28,041 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 20:03:28,042 DEBUG send_request_body.complete
2025-10-10 20:03:28,042 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 20:03:28,175 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'7a0c95d4-0c96-4f3a-a58e-63dc6e62da26'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149999'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'44f49bbf-48ba-4521-96de-98602c9a7960'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'30'), (b'x-ms-client-request-id', b'7a0c95d4-0c96-4f3a-a58e-63dc6e62da26'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"1"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 18:03:27 GMT')])
2025-10-10 20:03:28,177 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 20:03:28,177 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 20:03:28,177 DEBUG receive_response_body.complete
2025-10-10 20:03:28,178 DEBUG response_closed.started
2025-10-10 20:03:28,178 DEBUG response_closed.complete
2025-10-10 20:03:28,179 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '7a0c95d4-0c96-4f3a-a58e-63dc6e62da26', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149999', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '44f49bbf-48ba-4521-96de-98602c9a7960', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '30', 'x-ms-client-request-id': '7a0c95d4-0c96-4f3a-a58e-63dc6e62da26', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"1"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 18:03:27 GMT'})
2025-10-10 20:03:28,179 DEBUG request_id: 44f49bbf-48ba-4521-96de-98602c9a7960
2025-10-10 20:03:28,915 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34276'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '6ccf9d72-a603-11f0-ba3a-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 20:03:28,931 DEBUG Starting new HTTPS connection (1): deepchatbot.search.windows.net:443
2025-10-10 20:03:29,201 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 20:03:29,214 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '6ccf9d72-a603-11f0-ba3a-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 18:03:29 GMT'
2025-10-10 20:03:29,217 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '85'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '6cfdc887-a603-11f0-9a0c-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 20:03:29,257 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 20:03:29,259 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '6cfdc887-a603-11f0-9a0c-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 18:03:29 GMT'
2025-10-10 20:03:29,261 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '6d04953d-a603-11f0-9ed7-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 20:03:29,302 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 20:03:29,303 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '6d04953d-a603-11f0-9ed7-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 18:03:29 GMT'
2025-10-10 20:03:29,311 INFO Generated prompt: System: You are a helpful personal assistant. This appears to be your first conversation with this user.

User Profile: Not available
Human: hi
2025-10-10 20:03:29,364 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-47377c5c-6b62-4ddf-be5e-1c2009b8aa8b', 'json_data': {'messages': [{'content': 'System: You are a helpful personal assistant. This appears to be your first conversation with this user.\n\nUser Profile: Not available\nHuman: hi', 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 20:03:29,366 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview
2025-10-10 20:03:29,366 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 20:03:29,401 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C58F8B3C50>
2025-10-10 20:03:29,402 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001C58D734E10> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 20:03:29,493 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001C58F8AE650>
2025-10-10 20:03:29,493 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 20:03:29,495 DEBUG send_request_headers.complete
2025-10-10 20:03:29,495 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 20:03:29,495 DEBUG send_request_body.complete
2025-10-10 20:03:29,495 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 20:03:29,545 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 400, b'Bad Request', [(b'Content-Length', b'317'), (b'Content-Type', b'application/json'), (b'apim-request-id', b'915e3738-9433-41ba-897b-49cbca5025af'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'149'), (b'x-ratelimit-limit-requests', b'150'), (b'x-ratelimit-remaining-tokens', b'149984'), (b'x-ratelimit-limit-tokens', b'150000'), (b'Date', b'Fri, 10 Oct 2025 18:03:29 GMT')])
2025-10-10 20:03:29,545 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 400 Bad Request"
2025-10-10 20:03:29,546 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 20:03:29,546 DEBUG receive_response_body.complete
2025-10-10 20:03:29,546 DEBUG response_closed.started
2025-10-10 20:03:29,546 DEBUG response_closed.complete
2025-10-10 20:03:29,547 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview "400 Bad Request" Headers({'content-length': '317', 'content-type': 'application/json', 'apim-request-id': '915e3738-9433-41ba-897b-49cbca5025af', 'x-ms-deployment-name': 'text-embedding-3-small', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '149', 'x-ratelimit-limit-requests': '150', 'x-ratelimit-remaining-tokens': '149984', 'x-ratelimit-limit-tokens': '150000', 'date': 'Fri, 10 Oct 2025 18:03:29 GMT'})
2025-10-10 20:03:29,547 DEBUG request_id: None
2025-10-10 20:03:29,547 DEBUG Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\openai\_base_client.py", line 1027, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '400 Bad Request' for url 'https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/chat/completions?api-version=2024-12-01-preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/400
2025-10-10 20:03:29,563 DEBUG Not retrying
2025-10-10 20:03:29,563 DEBUG Re-raising status error
2025-10-10 20:03:29,565 ERROR Error in chat function: Error code: 400 - {'error': {'code': 'OperationNotSupported', 'message': 'The chatCompletion operation does not work with the specified model, text-embedding-3-small. Please choose different model and try again. You can learn more about which models can be used with each operation here: https://go.microsoft.com/fwlink/?linkid=2197993.'}}
2025-10-10 20:03:29,566 INFO 127.0.0.1 - - [10/Oct/2025 20:03:29] "POST /chat HTTP/1.1" 200 -
2025-10-10 20:13:17,434 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 20:13:17,435 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 20:13:17,435 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 20:13:17,435 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 20:13:17,435 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 20:13:19,442 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://192.168.0.9:8000
2025-10-10 20:13:19,442 INFO [33mPress CTRL+C to quit[0m
2025-10-10 20:13:19,461 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 20:13:23,954 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 20:13:23,955 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 20:13:23,955 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 20:13:23,955 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 20:13:23,955 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 20:13:25,841 WARNING  * Debugger is active!
2025-10-10 20:13:25,853 INFO  * Debugger PIN: 127-213-732
2025-10-10 20:13:38,070 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-a90c85b7-1062-4d97-a8a1-1ceb30ea6031', 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000021A059B2700>, 'json_data': {'input': [[6151]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 20:13:38,072 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview
2025-10-10 20:13:38,073 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 20:13:38,267 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000021A059B5FD0>
2025-10-10 20:13:38,267 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021A054937F0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 20:13:38,385 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000021A0592A990>
2025-10-10 20:13:38,386 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 20:13:38,387 DEBUG send_request_headers.complete
2025-10-10 20:13:38,387 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 20:13:38,388 DEBUG send_request_body.complete
2025-10-10 20:13:38,388 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 20:13:38,514 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'b6df71d8-8d36-409c-9dcf-628e7e240a7c'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149999'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'291453bb-46eb-49ec-8e3d-085602c1352e'), (b'azureml-model-session', b'd071-20250905050200'), (b'x-envoy-upstream-service-time', b'27'), (b'x-ms-client-request-id', b'b6df71d8-8d36-409c-9dcf-628e7e240a7c'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"1"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 18:13:38 GMT')])
2025-10-10 20:13:38,516 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 20:13:38,516 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 20:13:38,517 DEBUG receive_response_body.complete
2025-10-10 20:13:38,517 DEBUG response_closed.started
2025-10-10 20:13:38,518 DEBUG response_closed.complete
2025-10-10 20:13:38,518 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'b6df71d8-8d36-409c-9dcf-628e7e240a7c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149999', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '291453bb-46eb-49ec-8e3d-085602c1352e', 'azureml-model-session': 'd071-20250905050200', 'x-envoy-upstream-service-time': '27', 'x-ms-client-request-id': 'b6df71d8-8d36-409c-9dcf-628e7e240a7c', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"1"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 18:13:38 GMT'})
2025-10-10 20:13:38,519 DEBUG request_id: 291453bb-46eb-49ec-8e3d-085602c1352e
2025-10-10 20:13:39,115 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34276'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd884e200-a604-11f0-8c7f-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 20:13:39,127 DEBUG Starting new HTTPS connection (1): deepchatbot.search.windows.net:443
2025-10-10 20:13:39,459 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 20:13:39,475 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd884e200-a604-11f0-8c7f-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 18:13:39 GMT'
2025-10-10 20:13:39,478 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '85'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd8bc3fe8-a604-11f0-9be0-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 20:13:39,523 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 20:13:39,529 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd8bc3fe8-a604-11f0-9be0-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 18:13:39 GMT'
2025-10-10 20:13:39,532 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd8c486a0-a604-11f0-ad43-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 20:13:39,584 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 20:13:39,585 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd8c486a0-a604-11f0-ad43-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 18:13:39 GMT'
2025-10-10 20:13:39,587 INFO Generated prompt: System: You are a helpful personal assistant. This appears to be your first conversation with this user.

User Profile: Not available
Human: hi
2025-10-10 20:13:39,635 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-4497f890-adfd-40db-b375-47b039a843ec', 'json_data': {'messages': [{'content': 'System: You are a helpful personal assistant. This appears to be your first conversation with this user.\n\nUser Profile: Not available\nHuman: hi', 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 20:13:39,637 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2024-12-01-preview
2025-10-10 20:13:39,638 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 20:13:39,710 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000021A05F17C50>
2025-10-10 20:13:39,710 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021A03D90E10> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 20:13:39,809 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000021A05F12650>
2025-10-10 20:13:39,810 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 20:13:39,811 DEBUG send_request_headers.complete
2025-10-10 20:13:39,811 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 20:13:39,812 DEBUG send_request_body.complete
2025-10-10 20:13:39,812 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 20:13:40,129 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'864'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'885c7afd-4c3e-45e4-913b-8a8b08b45665'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'964'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'2e6fd2f2-5cca-4537-8307-36e48f26cb08'), (b'x-ms-client-request-id', b'885c7afd-4c3e-45e4-913b-8a8b08b45665'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 18:13:40 GMT')])
2025-10-10 20:13:40,130 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 20:13:40,131 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 20:13:40,131 DEBUG receive_response_body.complete
2025-10-10 20:13:40,131 DEBUG response_closed.started
2025-10-10 20:13:40,132 DEBUG response_closed.complete
2025-10-10 20:13:40,132 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2024-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '864', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '885c7afd-4c3e-45e4-913b-8a8b08b45665', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '964', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': '2e6fd2f2-5cca-4537-8307-36e48f26cb08', 'x-ms-client-request-id': '885c7afd-4c3e-45e4-913b-8a8b08b45665', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 18:13:40 GMT'})
2025-10-10 20:13:40,133 DEBUG request_id: 2e6fd2f2-5cca-4537-8307-36e48f26cb08
2025-10-10 20:13:40,157 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-d022506d-3956-4b56-9bfb-64a7c2474b50', 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000021A02AB4FE0>, 'json_data': {'input': [[1502, 25, 15960, 72803, 25, 758, 1102, 596, 6555, 311, 3449, 499, 13, 2650, 649, 358, 7945, 499, 3432, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 20:13:40,158 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview
2025-10-10 20:13:40,159 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 20:13:40,160 DEBUG send_request_headers.complete
2025-10-10 20:13:40,160 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 20:13:40,161 DEBUG send_request_body.complete
2025-10-10 20:13:40,161 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 20:13:40,284 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'202a9fb2-4486-4213-bda0-74fa3d569f6d'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149979'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'4f470636-75bf-4bdf-93c0-7221b0f594b7'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'25'), (b'x-ms-client-request-id', b'202a9fb2-4486-4213-bda0-74fa3d569f6d'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"20"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 18:13:39 GMT')])
2025-10-10 20:13:40,285 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 20:13:40,285 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 20:13:40,286 DEBUG receive_response_body.complete
2025-10-10 20:13:40,286 DEBUG response_closed.started
2025-10-10 20:13:40,286 DEBUG response_closed.complete
2025-10-10 20:13:40,287 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '202a9fb2-4486-4213-bda0-74fa3d569f6d', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149979', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '4f470636-75bf-4bdf-93c0-7221b0f594b7', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '25', 'x-ms-client-request-id': '202a9fb2-4486-4213-bda0-74fa3d569f6d', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"20"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 18:13:39 GMT'})
2025-10-10 20:13:40,287 DEBUG request_id: 4f470636-75bf-4bdf-93c0-7221b0f594b7
2025-10-10 20:13:40,296 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34556'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd93905f1-a604-11f0-a7d5-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 20:13:40,353 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2025-09-01 HTTP/1.1" 400 256
2025-10-10 20:13:40,354 INFO Response status: 400
Response headers:
    'Content-Length': '256'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'request-id': 'd93905f1-a604-11f0-a7d5-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 18:13:39 GMT'
2025-10-10 20:13:40,357 INFO 127.0.0.1 - - [10/Oct/2025 20:13:40] "POST /chat HTTP/1.1" 200 -
2025-10-10 20:14:46,589 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-7acc926c-e85d-4bdd-8c4d-d48a247ac249', 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000021A05DFC680>, 'json_data': {'input': [[4919, 499, 3371, 757, 922, 426, 3701, 12374, 323, 810, 922, 24318, 4835, 74, 2298, 64, 3363]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 20:14:46,590 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview
2025-10-10 20:14:46,591 DEBUG close.started
2025-10-10 20:14:46,592 DEBUG close.complete
2025-10-10 20:14:46,592 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 20:14:46,737 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000021A05F136F0>
2025-10-10 20:14:46,737 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021A054937F0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 20:14:46,837 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000021A05F0CB90>
2025-10-10 20:14:46,837 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 20:14:46,838 DEBUG send_request_headers.complete
2025-10-10 20:14:46,839 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 20:14:46,839 DEBUG send_request_body.complete
2025-10-10 20:14:46,839 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 20:14:47,267 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'2490df37-8583-4519-a463-27b30b4d8a0d'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149983'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'4fcd5b61-3d28-4f62-a550-a2514ac2e39a'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'28'), (b'x-ms-client-request-id', b'2490df37-8583-4519-a463-27b30b4d8a0d'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"1","error_rate":"0","active_tokens":"4433"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"17"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 18:14:46 GMT')])
2025-10-10 20:14:47,268 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 20:14:47,269 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 20:14:47,271 DEBUG receive_response_body.complete
2025-10-10 20:14:47,271 DEBUG response_closed.started
2025-10-10 20:14:47,271 DEBUG response_closed.complete
2025-10-10 20:14:47,271 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '2490df37-8583-4519-a463-27b30b4d8a0d', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149983', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '4fcd5b61-3d28-4f62-a550-a2514ac2e39a', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '28', 'x-ms-client-request-id': '2490df37-8583-4519-a463-27b30b4d8a0d', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"1","error_rate":"0","active_tokens":"4433"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"17"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 18:14:46 GMT'})
2025-10-10 20:14:47,272 DEBUG request_id: 4fcd5b61-3d28-4f62-a550-a2514ac2e39a
2025-10-10 20:14:47,342 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34292'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '012f6db4-a605-11f0-9c0e-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 20:14:47,430 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 20:14:47,432 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '012f6db4-a605-11f0-9c0e-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 18:14:47 GMT'
2025-10-10 20:14:47,436 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '150'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '013db6bf-a605-11f0-a7a7-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 20:14:47,478 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 20:14:47,479 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '013db6bf-a605-11f0-a7a7-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 18:14:47 GMT'
2025-10-10 20:14:47,482 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '0144c6b0-a605-11f0-b05b-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 20:14:47,525 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2025-09-01 HTTP/1.1" 200 None
2025-10-10 20:14:47,526 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '0144c6b0-a605-11f0-b05b-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 18:14:47 GMT'
2025-10-10 20:14:47,527 INFO Generated prompt: System: You are a helpful personal assistant. This appears to be your first conversation with this user.

User Profile: Not available
Human: can you tell me about BTH university and more about karlskrona city
2025-10-10 20:14:47,530 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-880fe4a9-6be4-4b33-b2c2-95994907a638', 'json_data': {'messages': [{'content': 'System: You are a helpful personal assistant. This appears to be your first conversation with this user.\n\nUser Profile: Not available\nHuman: can you tell me about BTH university and more about karlskrona city', 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 20:14:47,531 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2024-12-01-preview
2025-10-10 20:14:47,531 DEBUG close.started
2025-10-10 20:14:47,532 DEBUG close.complete
2025-10-10 20:14:47,532 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 20:14:47,576 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000021A05DA3570>
2025-10-10 20:14:47,576 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x0000021A03D90E10> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 20:14:47,679 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000021A05DA3460>
2025-10-10 20:14:47,680 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 20:14:47,681 DEBUG send_request_headers.complete
2025-10-10 20:14:47,682 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 20:14:47,682 DEBUG send_request_body.complete
2025-10-10 20:14:47,682 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 20:14:48,943 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'1636'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'd48aaa62-5fcd-41b0-a1c7-17f363921496'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'947'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'37bfe4a0-dca2-46e3-b0e6-ebdba4145e5c'), (b'x-ms-client-request-id', b'd48aaa62-5fcd-41b0-a1c7-17f363921496'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 18:14:48 GMT')])
2025-10-10 20:14:48,945 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 20:14:48,945 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 20:14:48,946 DEBUG receive_response_body.complete
2025-10-10 20:14:48,946 DEBUG response_closed.started
2025-10-10 20:14:48,946 DEBUG response_closed.complete
2025-10-10 20:14:48,947 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2024-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '1636', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'd48aaa62-5fcd-41b0-a1c7-17f363921496', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '947', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': '37bfe4a0-dca2-46e3-b0e6-ebdba4145e5c', 'x-ms-client-request-id': 'd48aaa62-5fcd-41b0-a1c7-17f363921496', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 18:14:48 GMT'})
2025-10-10 20:14:48,947 DEBUG request_id: 37bfe4a0-dca2-46e3-b0e6-ebdba4145e5c
2025-10-10 20:14:48,954 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-d19c0a73-710b-4e1a-97a9-360059d4ad05', 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000021A05F694E0>, 'json_data': {'input': [[1502, 25, 649, 499, 3371, 757, 922, 426, 3701, 12374, 323, 810, 922, 24318, 4835, 74, 2298, 64, 3363, 72803, 25, 23371, 0, 39285, 10789, 68, 10181, 315, 12053, 320, 33, 3701, 8, 374, 264, 586, 12374, 304, 24067, 11, 449, 264, 1925, 15679, 304, 13528, 4835, 74, 2298, 64, 323, 2500, 304, 35131, 939, 309, 77, 13, 426, 3701, 374, 3967, 369, 1202, 1579, 22867, 7620, 304, 15009, 11, 6500, 8198, 11, 323, 41329, 13, 578, 12374, 706, 264, 3831, 25679, 389, 9435, 3495, 323, 11430, 988, 449, 5064, 8717, 311, 2686, 1972, 31184, 11774, 20855, 369, 13528, 4835, 74, 2298, 64, 11, 433, 374, 264, 75001, 3363, 7559, 389, 279, 83209, 13962, 315, 24067, 13, 1102, 374, 3967, 369, 1202, 46398, 3925, 323, 6366, 5438, 82179, 6438, 13, 13528, 4835, 74, 2298, 64, 374, 264, 81876, 4435, 34243, 2816, 323, 38119, 35509, 34928, 901, 11046, 14708, 11, 18526, 14016, 11, 323, 264, 34076, 13042, 6237, 13, 578, 3363, 1101, 6209, 11510, 315, 16166, 7640, 11, 2737, 51129, 11, 37947, 1802, 11, 323, 38464, 4607, 1070, 4205, 3230, 499, 1053, 1093, 311, 1440, 922, 426, 3701, 477, 13528, 4835, 74, 2298, 64, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 20:14:48,956 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview
2025-10-10 20:14:48,956 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 20:14:48,957 DEBUG send_request_headers.complete
2025-10-10 20:14:48,957 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 20:14:48,958 DEBUG send_request_body.complete
2025-10-10 20:14:48,958 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 20:14:49,415 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8418'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'c7437ab7-6951-4ffd-8951-7f140a0cee85'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149789'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'9b667363-6d67-4583-856a-8a2183c747fd'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'31'), (b'x-ms-client-request-id', b'c7437ab7-6951-4ffd-8951-7f140a0cee85'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"5328"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 18:14:48 GMT')])
2025-10-10 20:14:49,416 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 20:14:49,417 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 20:14:49,418 DEBUG receive_response_body.complete
2025-10-10 20:14:49,418 DEBUG response_closed.started
2025-10-10 20:14:49,418 DEBUG response_closed.complete
2025-10-10 20:14:49,419 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "200 OK" Headers({'content-length': '8418', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'c7437ab7-6951-4ffd-8951-7f140a0cee85', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149789', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '9b667363-6d67-4583-856a-8a2183c747fd', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '31', 'x-ms-client-request-id': 'c7437ab7-6951-4ffd-8951-7f140a0cee85', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"5328"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 18:14:48 GMT'})
2025-10-10 20:14:49,420 DEBUG request_id: 9b667363-6d67-4583-856a-8a2183c747fd
2025-10-10 20:14:49,428 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '36272'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '026da936-a605-11f0-ab70-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 20:14:49,482 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2025-09-01 HTTP/1.1" 400 256
2025-10-10 20:14:49,484 INFO Response status: 400
Response headers:
    'Content-Length': '256'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'request-id': '026da936-a605-11f0-ab70-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 18:14:49 GMT'
2025-10-10 20:14:49,488 INFO 127.0.0.1 - - [10/Oct/2025 20:14:49] "POST /chat HTTP/1.1" 200 -
2025-10-10 20:20:01,138 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 20:20:01,140 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 20:20:01,141 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 20:20:02,287 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 20:20:06,988 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 20:20:06,988 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 20:20:06,988 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 20:20:06,988 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 20:20:06,988 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 20:20:09,044 WARNING  * Debugger is active!
2025-10-10 20:20:09,057 INFO  * Debugger PIN: 127-213-732
2025-10-10 20:22:12,586 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 20:22:12,587 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 20:22:12,587 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 20:22:12,587 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 20:22:12,587 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 20:22:14,314 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://192.168.0.9:8000
2025-10-10 20:22:14,314 INFO [33mPress CTRL+C to quit[0m
2025-10-10 20:22:14,332 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 20:22:17,670 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 20:22:17,671 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 20:22:17,671 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 20:22:17,671 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 20:22:17,671 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 20:22:19,373 WARNING  * Debugger is active!
2025-10-10 20:22:19,384 INFO  * Debugger PIN: 127-213-732
2025-10-10 20:22:29,808 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-d741946c-4e85-4be6-8430-d79c5b56e01a', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002D8743B27A0>, 'json_data': {'input': [[6151]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 20:22:29,809 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview
2025-10-10 20:22:29,809 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 20:22:29,980 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002D8743B5FD0>
2025-10-10 20:22:29,980 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000002D872E537F0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 20:22:30,121 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002D87432A990>
2025-10-10 20:22:30,122 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 20:22:30,123 DEBUG send_request_headers.complete
2025-10-10 20:22:30,123 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 20:22:30,123 DEBUG send_request_body.complete
2025-10-10 20:22:30,123 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 20:22:30,269 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'ea31d534-565d-4dc0-9631-8ecce13b8803'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149999'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'9b400a5e-cf93-434b-9dc9-e94ed0631b97'), (b'azureml-model-session', b'd072-20250905053909'), (b'x-envoy-upstream-service-time', b'29'), (b'x-ms-client-request-id', b'ea31d534-565d-4dc0-9631-8ecce13b8803'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"1"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 18:22:30 GMT')])
2025-10-10 20:22:30,270 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 20:22:30,270 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 20:22:30,270 DEBUG receive_response_body.complete
2025-10-10 20:22:30,271 DEBUG response_closed.started
2025-10-10 20:22:30,271 DEBUG response_closed.complete
2025-10-10 20:22:30,271 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'ea31d534-565d-4dc0-9631-8ecce13b8803', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149999', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '9b400a5e-cf93-434b-9dc9-e94ed0631b97', 'azureml-model-session': 'd072-20250905053909', 'x-envoy-upstream-service-time': '29', 'x-ms-client-request-id': 'ea31d534-565d-4dc0-9631-8ecce13b8803', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"1"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 18:22:30 GMT'})
2025-10-10 20:22:30,272 DEBUG request_id: 9b400a5e-cf93-434b-9dc9-e94ed0631b97
2025-10-10 20:22:30,644 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34276'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '1555b01b-a606-11f0-8107-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 20:22:30,651 DEBUG Starting new HTTPS connection (1): deepchatbot.search.windows.net:443
2025-10-10 20:22:30,917 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 20:22:30,928 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '1555b01b-a606-11f0-8107-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 18:22:31 GMT'
2025-10-10 20:22:30,930 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '85'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '158163cb-a606-11f0-b971-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 20:22:30,976 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 20:22:30,977 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '158163cb-a606-11f0-b971-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 18:22:31 GMT'
2025-10-10 20:22:30,978 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '1588ce67-a606-11f0-9e0f-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 20:22:31,040 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 20:22:31,041 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '1588ce67-a606-11f0-9e0f-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 18:22:31 GMT'
2025-10-10 20:22:31,042 INFO Generated prompt: System: You are a helpful personal assistant. This appears to be your first conversation with this user.

User Profile: Not available
Human: hi
2025-10-10 20:22:31,067 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-f0e46387-c9db-49f2-b858-17373dc989bb', 'json_data': {'messages': [{'content': 'System: You are a helpful personal assistant. This appears to be your first conversation with this user.\n\nUser Profile: Not available\nHuman: hi', 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 20:22:31,068 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2024-12-01-preview
2025-10-10 20:22:31,068 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 20:22:31,111 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002D8746EBC50>
2025-10-10 20:22:31,111 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000002D872764E10> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 20:22:31,221 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002D8746E6650>
2025-10-10 20:22:31,221 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 20:22:31,222 DEBUG send_request_headers.complete
2025-10-10 20:22:31,222 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 20:22:31,223 DEBUG send_request_body.complete
2025-10-10 20:22:31,223 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 20:22:31,422 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'843'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'54171951-baa8-47ef-b1bd-9bcec261a2fd'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'964'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'aea8bc3b-735e-4ffe-a109-783ce8d72744'), (b'x-ms-client-request-id', b'54171951-baa8-47ef-b1bd-9bcec261a2fd'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 18:22:31 GMT')])
2025-10-10 20:22:31,422 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 20:22:31,422 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 20:22:31,423 DEBUG receive_response_body.complete
2025-10-10 20:22:31,423 DEBUG response_closed.started
2025-10-10 20:22:31,423 DEBUG response_closed.complete
2025-10-10 20:22:31,423 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2024-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '843', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '54171951-baa8-47ef-b1bd-9bcec261a2fd', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '964', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': 'aea8bc3b-735e-4ffe-a109-783ce8d72744', 'x-ms-client-request-id': '54171951-baa8-47ef-b1bd-9bcec261a2fd', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 18:22:31 GMT'})
2025-10-10 20:22:31,423 DEBUG request_id: aea8bc3b-735e-4ffe-a109-783ce8d72744
2025-10-10 20:22:31,442 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-9a625806-9e0a-4825-8150-ca2f3a473db3', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002D871484FE0>, 'json_data': {'input': [[1502, 25, 15960, 72803, 25, 22691, 0, 2650, 649, 358, 1520, 499, 3432, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 20:22:31,444 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview
2025-10-10 20:22:31,444 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 20:22:31,445 DEBUG send_request_headers.complete
2025-10-10 20:22:31,445 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 20:22:31,446 DEBUG send_request_body.complete
2025-10-10 20:22:31,446 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 20:22:31,581 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'71a071f4-3aa6-414a-88bd-a8e623a8eef9'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149985'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'0de62afc-de67-4812-897e-2e62b80137ec'), (b'azureml-model-session', b'd071-20250905050200'), (b'x-envoy-upstream-service-time', b'30'), (b'x-ms-client-request-id', b'71a071f4-3aa6-414a-88bd-a8e623a8eef9'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"14"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 18:22:31 GMT')])
2025-10-10 20:22:31,582 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 20:22:31,582 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 20:22:31,583 DEBUG receive_response_body.complete
2025-10-10 20:22:31,583 DEBUG response_closed.started
2025-10-10 20:22:31,583 DEBUG response_closed.complete
2025-10-10 20:22:31,583 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '71a071f4-3aa6-414a-88bd-a8e623a8eef9', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149985', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '0de62afc-de67-4812-897e-2e62b80137ec', 'azureml-model-session': 'd071-20250905050200', 'x-envoy-upstream-service-time': '30', 'x-ms-client-request-id': '71a071f4-3aa6-414a-88bd-a8e623a8eef9', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"14"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 18:22:31 GMT'})
2025-10-10 20:22:31,583 DEBUG request_id: 0de62afc-de67-4812-897e-2e62b80137ec
2025-10-10 20:22:31,588 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34455'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '15e5d51c-a606-11f0-aced-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 20:22:31,652 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2023-11-01 HTTP/1.1" 400 256
2025-10-10 20:22:31,653 INFO Response status: 400
Response headers:
    'Content-Length': '256'
    'Content-Type': 'application/json; charset=utf-8'
    'Content-Language': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'request-id': '15e5d51c-a606-11f0-aced-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 18:22:31 GMT'
2025-10-10 20:22:31,655 INFO 127.0.0.1 - - [10/Oct/2025 20:22:31] "POST /chat HTTP/1.1" 200 -
2025-10-10 21:26:34,238 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 21:26:35,311 INFO  * Detected change in 'D:\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2288.0_x64__qbz5n2kfra8p0\\Lib\\re\\__init__.py', reloading
2025-10-10 21:26:35,312 INFO  * Detected change in 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2288.0_x64__qbz5n2kfra8p0\\Lib\\re\\__init__.py', reloading
2025-10-10 21:26:38,354 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 21:27:24,867 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 21:27:24,867 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 21:27:24,867 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 21:27:24,867 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 21:27:24,867 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 21:27:34,175 WARNING  * Debugger is active!
2025-10-10 21:27:34,200 INFO  * Debugger PIN: 127-213-732
2025-10-10 21:27:46,754 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 21:27:46,755 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 21:27:46,755 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 21:27:46,755 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 21:27:46,755 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 21:27:48,868 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://192.168.0.9:8000
2025-10-10 21:27:48,868 INFO [33mPress CTRL+C to quit[0m
2025-10-10 21:27:48,912 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 21:27:52,971 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 21:27:52,972 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 21:27:52,972 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 21:27:52,972 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 21:27:52,972 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 21:27:55,050 WARNING  * Debugger is active!
2025-10-10 21:27:55,061 INFO  * Debugger PIN: 127-213-732
2025-10-10 21:28:03,639 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-7b2f35dc-0b27-4c9c-8f43-1fce345b242f', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001D5180B1DA0>, 'json_data': {'input': [[6151]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 21:28:03,642 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview
2025-10-10 21:28:03,643 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 21:28:03,799 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D5180B5FD0>
2025-10-10 21:28:03,799 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001D516B8F6B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 21:28:03,918 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D51802A850>
2025-10-10 21:28:03,919 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 21:28:03,920 DEBUG send_request_headers.complete
2025-10-10 21:28:03,920 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 21:28:03,921 DEBUG send_request_body.complete
2025-10-10 21:28:03,921 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 21:28:04,049 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'ff366adc-81b1-4a58-9381-ebaf73c9127c'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149999'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'b6189565-bb45-443d-b8bd-809d6cbe9c28'), (b'azureml-model-session', b'd072-20250905053909'), (b'x-envoy-upstream-service-time', b'26'), (b'x-ms-client-request-id', b'ff366adc-81b1-4a58-9381-ebaf73c9127c'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"1"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 19:28:04 GMT')])
2025-10-10 21:28:04,052 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 21:28:04,052 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 21:28:04,053 DEBUG receive_response_body.complete
2025-10-10 21:28:04,053 DEBUG response_closed.started
2025-10-10 21:28:04,053 DEBUG response_closed.complete
2025-10-10 21:28:04,054 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2024-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'ff366adc-81b1-4a58-9381-ebaf73c9127c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149999', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': 'b6189565-bb45-443d-b8bd-809d6cbe9c28', 'azureml-model-session': 'd072-20250905053909', 'x-envoy-upstream-service-time': '26', 'x-ms-client-request-id': 'ff366adc-81b1-4a58-9381-ebaf73c9127c', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"1"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 19:28:04 GMT'})
2025-10-10 21:28:04,054 DEBUG request_id: b6189565-bb45-443d-b8bd-809d6cbe9c28
2025-10-10 21:28:07,995 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34276'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '402db9f5-a60f-11f0-b8dd-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 21:28:08,043 INFO  * Detected change in 'D:\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2288.0_x64__qbz5n2kfra8p0\\Lib\\netrc.py', reloading
2025-10-10 21:28:08,044 INFO  * Detected change in 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2288.0_x64__qbz5n2kfra8p0\\Lib\\netrc.py', reloading
2025-10-10 21:28:08,046 DEBUG Starting new HTTPS connection (1): deepchatbot.search.windows.net:443
2025-10-10 21:28:08,375 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 21:28:08,452 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '402db9f5-a60f-11f0-b8dd-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 19:28:08 GMT'
2025-10-10 21:28:08,456 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '85'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '407423c1-a60f-11f0-9c93-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 21:28:08,502 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 21:28:08,508 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '407423c1-a60f-11f0-9c93-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 19:28:08 GMT'
2025-10-10 21:28:08,510 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '407c7397-a60f-11f0-af5f-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 21:28:08,560 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 21:28:08,562 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '407c7397-a60f-11f0-af5f-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 19:28:08 GMT'
2025-10-10 21:28:08,568 INFO Generated prompt: System: You are a helpful personal assistant. This appears to be your first conversation with this user.

User Profile: Not available
Human: hi
2025-10-10 21:28:08,756 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-4aaf9a73-96b5-4a02-b301-1c4147868a1e', 'json_data': {'messages': [{'content': 'System: You are a helpful personal assistant. This appears to be your first conversation with this user.\n\nUser Profile: Not available\nHuman: hi', 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 21:28:08,757 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2024-12-01-preview
2025-10-10 21:28:08,758 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 21:28:08,910 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D5181A4190>
2025-10-10 21:28:08,911 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001D5164C0CD0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 21:28:09,018 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001D5184FA3F0>
2025-10-10 21:28:09,019 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 21:28:09,020 DEBUG send_request_headers.complete
2025-10-10 21:28:09,020 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 21:28:09,021 DEBUG send_request_body.complete
2025-10-10 21:28:09,021 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 21:28:09,915 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 21:28:14,417 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 21:28:14,417 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 21:28:14,418 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 21:28:14,418 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 21:28:14,418 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 21:28:16,673 WARNING  * Debugger is active!
2025-10-10 21:28:16,692 INFO  * Debugger PIN: 127-213-732
2025-10-10 21:29:32,826 INFO 127.0.0.1 - - [10/Oct/2025 21:29:32] "[33mGET /.well-known/appspecific/com.chrome.devtools.json HTTP/1.1[0m" 404 -
2025-10-10 21:30:53,119 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 21:30:53,120 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 21:30:53,121 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 21:30:54,068 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 21:31:01,539 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 21:31:01,539 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 21:31:01,539 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 21:31:01,539 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 21:31:01,539 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 21:31:05,148 WARNING  * Debugger is active!
2025-10-10 21:31:05,168 INFO  * Debugger PIN: 127-213-732
2025-10-10 21:33:04,626 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 21:33:04,626 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 21:33:04,626 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 21:33:04,626 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 21:33:04,626 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 21:33:06,621 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://192.168.0.9:8000
2025-10-10 21:33:06,621 INFO [33mPress CTRL+C to quit[0m
2025-10-10 21:33:06,644 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 21:33:11,471 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 21:33:11,471 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 21:33:11,471 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 21:33:11,471 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 21:33:11,471 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 21:33:14,079 WARNING  * Debugger is active!
2025-10-10 21:33:14,090 INFO  * Debugger PIN: 127-213-732
2025-10-10 21:33:16,161 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-cfdcdee6-2a43-4fa2-ae4a-e013a8bb453b', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F1394B1E40>, 'json_data': {'input': [[6151]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 21:33:16,161 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 21:33:16,162 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 21:33:16,345 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F1394B5FD0>
2025-10-10 21:33:16,346 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F137F8F6B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 21:33:16,443 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F13942A990>
2025-10-10 21:33:16,444 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 21:33:16,445 DEBUG send_request_headers.complete
2025-10-10 21:33:16,445 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 21:33:16,445 DEBUG send_request_body.complete
2025-10-10 21:33:16,445 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 21:33:16,569 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'02a91b16-f949-456e-b066-65a8ac89825d'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149999'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'6a3d759c-2316-4020-ac22-f90f11e30ccf'), (b'azureml-model-session', b'd071-20250905050200'), (b'x-envoy-upstream-service-time', b'31'), (b'x-ms-client-request-id', b'02a91b16-f949-456e-b066-65a8ac89825d'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"1"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 19:33:16 GMT')])
2025-10-10 21:33:16,570 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 21:33:16,571 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 21:33:16,571 DEBUG receive_response_body.complete
2025-10-10 21:33:16,571 DEBUG response_closed.started
2025-10-10 21:33:16,571 DEBUG response_closed.complete
2025-10-10 21:33:16,572 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '02a91b16-f949-456e-b066-65a8ac89825d', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149999', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '6a3d759c-2316-4020-ac22-f90f11e30ccf', 'azureml-model-session': 'd071-20250905050200', 'x-envoy-upstream-service-time': '31', 'x-ms-client-request-id': '02a91b16-f949-456e-b066-65a8ac89825d', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"1"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 19:33:16 GMT'})
2025-10-10 21:33:16,572 DEBUG request_id: 6a3d759c-2316-4020-ac22-f90f11e30ccf
2025-10-10 21:33:16,809 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34276'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'f83f3403-a60f-11f0-972b-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 21:33:16,815 DEBUG Starting new HTTPS connection (1): deepchatbot.search.windows.net:443
2025-10-10 21:33:17,106 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 21:33:17,114 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'f83f3403-a60f-11f0-972b-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 19:33:16 GMT'
2025-10-10 21:33:17,116 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '85'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'f86de98b-a60f-11f0-942a-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 21:33:17,156 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 21:33:17,157 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'f86de98b-a60f-11f0-942a-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 19:33:16 GMT'
2025-10-10 21:33:17,159 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'f87493be-a60f-11f0-b6ef-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 21:33:17,204 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 21:33:17,205 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'f87493be-a60f-11f0-b6ef-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 19:33:16 GMT'
2025-10-10 21:33:17,207 INFO Generated prompt: System: You are a helpful personal assistant. This appears to be your first conversation with this user.

User Profile: Not available
Human: hi
2025-10-10 21:33:17,242 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-68070850-b0e9-4b40-ac1d-eea4ac743d5d', 'json_data': {'messages': [{'content': 'System: You are a helpful personal assistant. This appears to be your first conversation with this user.\n\nUser Profile: Not available\nHuman: hi', 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 21:33:17,243 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 21:33:17,243 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 21:33:17,279 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F13980FC50>
2025-10-10 21:33:17,280 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F1378C0CD0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 21:33:17,380 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F139812520>
2025-10-10 21:33:17,381 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 21:33:17,382 DEBUG send_request_headers.complete
2025-10-10 21:33:17,382 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 21:33:17,382 DEBUG send_request_body.complete
2025-10-10 21:33:17,382 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 21:33:17,591 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'824'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'1533eb2d-eca3-4e0f-a8f0-81fa688f96cb'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'964'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'459988d5-e269-4afb-8946-4d2b2ec410ee'), (b'x-ms-client-request-id', b'1533eb2d-eca3-4e0f-a8f0-81fa688f96cb'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 19:33:17 GMT')])
2025-10-10 21:33:17,592 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 21:33:17,593 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 21:33:17,593 DEBUG receive_response_body.complete
2025-10-10 21:33:17,593 DEBUG response_closed.started
2025-10-10 21:33:17,593 DEBUG response_closed.complete
2025-10-10 21:33:17,593 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '824', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '1533eb2d-eca3-4e0f-a8f0-81fa688f96cb', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '964', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': '459988d5-e269-4afb-8946-4d2b2ec410ee', 'x-ms-client-request-id': '1533eb2d-eca3-4e0f-a8f0-81fa688f96cb', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 19:33:17 GMT'})
2025-10-10 21:33:17,594 DEBUG request_id: 459988d5-e269-4afb-8946-4d2b2ec410ee
2025-10-10 21:33:17,616 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-1acd5b50-de60-4c99-b414-007765007d87', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F136678EA0>, 'json_data': {'input': [[1502, 25, 15960, 72803, 25, 758, 2650, 649, 358, 7945, 499, 3432, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 21:33:17,618 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 21:33:17,618 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 21:33:17,619 DEBUG send_request_headers.complete
2025-10-10 21:33:17,619 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 21:33:17,619 DEBUG send_request_body.complete
2025-10-10 21:33:17,619 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 21:33:17,737 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'40abdf55-b881-4483-a314-64cb91fe909c'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149986'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'08213c67-0e84-4355-ac7a-50feec76ed42'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'33'), (b'x-ms-client-request-id', b'40abdf55-b881-4483-a314-64cb91fe909c'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"13"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 19:33:17 GMT')])
2025-10-10 21:33:17,738 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 21:33:17,738 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 21:33:17,739 DEBUG receive_response_body.complete
2025-10-10 21:33:17,739 DEBUG response_closed.started
2025-10-10 21:33:17,739 DEBUG response_closed.complete
2025-10-10 21:33:17,739 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '40abdf55-b881-4483-a314-64cb91fe909c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149986', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '08213c67-0e84-4355-ac7a-50feec76ed42', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '33', 'x-ms-client-request-id': '40abdf55-b881-4483-a314-64cb91fe909c', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"13"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 19:33:17 GMT'})
2025-10-10 21:33:17,739 DEBUG request_id: 08213c67-0e84-4355-ac7a-50feec76ed42
2025-10-10 21:33:17,744 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34465'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'f8cdc470-a60f-11f0-8aeb-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 21:33:17,847 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 21:33:17,848 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'f8cdc470-a60f-11f0-8aeb-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 19:33:18 GMT'
2025-10-10 21:33:17,851 INFO 127.0.0.1 - - [10/Oct/2025 21:33:17] "POST /chat HTTP/1.1" 200 -
2025-10-10 21:33:38,434 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-e699b73f-fb5b-418b-9ebd-9c9a402056e8', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F13664FC40>, 'json_data': {'input': [[4919, 499, 3371, 757, 922, 426, 3701, 12374]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 21:33:38,437 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 21:33:38,438 DEBUG close.started
2025-10-10 21:33:38,439 DEBUG close.complete
2025-10-10 21:33:38,439 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 21:33:38,557 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F139812C40>
2025-10-10 21:33:38,557 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F137F8F6B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 21:33:38,650 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F13980A0F0>
2025-10-10 21:33:38,650 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 21:33:38,651 DEBUG send_request_headers.complete
2025-10-10 21:33:38,651 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 21:33:38,652 DEBUG send_request_body.complete
2025-10-10 21:33:38,652 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 21:33:38,777 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'ce05749c-94e1-4fc3-ba90-3e00ba202f86'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149978'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'e8b48f7a-113c-4791-a2ea-d53242a5571c'), (b'azureml-model-session', b'd072-20250905053909'), (b'x-envoy-upstream-service-time', b'27'), (b'x-ms-client-request-id', b'ce05749c-94e1-4fc3-ba90-3e00ba202f86'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"8"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 19:33:38 GMT')])
2025-10-10 21:33:38,778 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 21:33:38,779 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 21:33:38,779 DEBUG receive_response_body.complete
2025-10-10 21:33:38,779 DEBUG response_closed.started
2025-10-10 21:33:38,779 DEBUG response_closed.complete
2025-10-10 21:33:38,780 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'ce05749c-94e1-4fc3-ba90-3e00ba202f86', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149978', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': 'e8b48f7a-113c-4791-a2ea-d53242a5571c', 'azureml-model-session': 'd072-20250905053909', 'x-envoy-upstream-service-time': '27', 'x-ms-client-request-id': 'ce05749c-94e1-4fc3-ba90-3e00ba202f86', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"8"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 19:33:38 GMT'})
2025-10-10 21:33:38,780 DEBUG request_id: e8b48f7a-113c-4791-a2ea-d53242a5571c
2025-10-10 21:33:38,848 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34355'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '0561ea43-a610-11f0-8cb2-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 21:33:38,933 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 21:33:38,935 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '0561ea43-a610-11f0-8cb2-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 19:33:39 GMT'
2025-10-10 21:33:38,942 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '05705221-a610-11f0-b890-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 21:33:38,984 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 21:33:38,985 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '05705221-a610-11f0-b890-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 19:33:39 GMT'
2025-10-10 21:33:38,987 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: hi
Assistant: ! How can I assist you today?

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: can you tell me about BTH university
2025-10-10 21:33:38,991 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-e4388e3b-7baf-46da-9c65-7cbc5ef0e163', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: hi\nAssistant: ! How can I assist you today?\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: can you tell me about BTH university", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 21:33:38,993 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 21:33:38,996 DEBUG close.started
2025-10-10 21:33:38,997 DEBUG close.complete
2025-10-10 21:33:38,997 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 21:33:39,039 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F139A9ABE0>
2025-10-10 21:33:39,040 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F1378C0CD0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 21:33:39,138 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F139A9AE00>
2025-10-10 21:33:39,138 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 21:33:39,139 DEBUG send_request_headers.complete
2025-10-10 21:33:39,140 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 21:33:39,140 DEBUG send_request_body.complete
2025-10-10 21:33:39,140 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 21:33:39,779 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'1121'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'eecb7d6f-db54-4bd9-bd7d-2c7716a0835e'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'854'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'ce09605c-a2a0-438c-b9c8-4863f54cff9d'), (b'x-ms-client-request-id', b'eecb7d6f-db54-4bd9-bd7d-2c7716a0835e'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 19:33:39 GMT')])
2025-10-10 21:33:39,780 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 21:33:39,780 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 21:33:39,780 DEBUG receive_response_body.complete
2025-10-10 21:33:39,780 DEBUG response_closed.started
2025-10-10 21:33:39,780 DEBUG response_closed.complete
2025-10-10 21:33:39,781 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '1121', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'eecb7d6f-db54-4bd9-bd7d-2c7716a0835e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '854', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': 'ce09605c-a2a0-438c-b9c8-4863f54cff9d', 'x-ms-client-request-id': 'eecb7d6f-db54-4bd9-bd7d-2c7716a0835e', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 19:33:39 GMT'})
2025-10-10 21:33:39,781 DEBUG request_id: ce09605c-a2a0-438c-b9c8-4863f54cff9d
2025-10-10 21:33:39,786 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-11bcb2df-de1c-4945-ad69-4b8eae0d69b2', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F136678CC0>, 'json_data': {'input': [[1502, 25, 649, 499, 3371, 757, 922, 426, 3701, 12374, 72803, 25, 22103, 25, 426, 3701, 3907, 11, 1101, 3967, 439, 39285, 10789, 68, 10181, 315, 12053, 11, 374, 264, 31209, 12374, 7559, 304, 279, 3363, 315, 13528, 4835, 74, 2298, 64, 13, 1102, 374, 3967, 369, 1202, 3831, 25679, 389, 9435, 8871, 323, 19297, 11, 439, 1664, 439, 1202, 41329, 323, 15009, 7620, 13, 2209, 1070, 2555, 3230, 499, 4265, 1093, 311, 1440, 922, 426, 3701, 3907, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 21:33:39,787 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 21:33:39,787 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 21:33:39,788 DEBUG send_request_headers.complete
2025-10-10 21:33:39,788 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 21:33:39,789 DEBUG send_request_body.complete
2025-10-10 21:33:39,789 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 21:33:39,910 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'dae77c42-f9ee-48aa-bdb3-47559c3ecd5f'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149899'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'1213476b-2d4c-4750-b857-cd7a820c1b12'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'33'), (b'x-ms-client-request-id', b'dae77c42-f9ee-48aa-bdb3-47559c3ecd5f'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"79"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 19:33:40 GMT')])
2025-10-10 21:33:39,910 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 21:33:39,911 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 21:33:39,911 DEBUG receive_response_body.complete
2025-10-10 21:33:39,911 DEBUG response_closed.started
2025-10-10 21:33:39,911 DEBUG response_closed.complete
2025-10-10 21:33:39,912 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'dae77c42-f9ee-48aa-bdb3-47559c3ecd5f', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149899', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '1213476b-2d4c-4750-b857-cd7a820c1b12', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '33', 'x-ms-client-request-id': 'dae77c42-f9ee-48aa-bdb3-47559c3ecd5f', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"79"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 19:33:40 GMT'})
2025-10-10 21:33:39,912 DEBUG request_id: 1213476b-2d4c-4750-b857-cd7a820c1b12
2025-10-10 21:33:39,917 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35142'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '06052cc8-a610-11f0-8d7a-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 21:33:39,997 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 21:33:39,999 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '06052cc8-a610-11f0-8d7a-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 19:33:40 GMT'
2025-10-10 21:33:40,001 INFO 127.0.0.1 - - [10/Oct/2025 21:33:40] "POST /chat HTTP/1.1" 200 -
2025-10-10 21:39:11,440 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-61db5798-d522-4664-a1a4-7281f9c2e5cb', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F139938180>, 'json_data': {'input': [[4919, 499, 3371, 757, 810, 922, 2064, 14466, 439, 264, 30116, 3224]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 21:39:11,442 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 21:39:11,443 DEBUG close.started
2025-10-10 21:39:11,443 DEBUG close.complete
2025-10-10 21:39:11,444 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 21:39:11,605 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F139816450>
2025-10-10 21:39:11,606 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F137F8F6B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 21:39:11,705 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F139816650>
2025-10-10 21:39:11,706 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 21:39:11,707 DEBUG send_request_headers.complete
2025-10-10 21:39:11,707 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 21:39:11,708 DEBUG send_request_body.complete
2025-10-10 21:39:11,708 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 21:39:11,836 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'0b1f5355-987a-4af8-9243-2f3c378ac2c9'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149988'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'7b581cf8-836a-4b43-94b1-678f61dbc1bf'), (b'azureml-model-session', b'd071-20250905050200'), (b'x-envoy-upstream-service-time', b'29'), (b'x-ms-client-request-id', b'0b1f5355-987a-4af8-9243-2f3c378ac2c9'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"12"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 19:39:11 GMT')])
2025-10-10 21:39:11,838 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 21:39:11,838 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 21:39:11,838 DEBUG receive_response_body.complete
2025-10-10 21:39:11,839 DEBUG response_closed.started
2025-10-10 21:39:11,839 DEBUG response_closed.complete
2025-10-10 21:39:11,839 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '0b1f5355-987a-4af8-9243-2f3c378ac2c9', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149988', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '7b581cf8-836a-4b43-94b1-678f61dbc1bf', 'azureml-model-session': 'd071-20250905050200', 'x-envoy-upstream-service-time': '29', 'x-ms-client-request-id': '0b1f5355-987a-4af8-9243-2f3c378ac2c9', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"12"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 19:39:11 GMT'})
2025-10-10 21:39:11,840 DEBUG request_id: 7b581cf8-836a-4b43-94b1-678f61dbc1bf
2025-10-10 21:39:11,908 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34321'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'cbe6f744-a610-11f0-b20c-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 21:39:11,912 DEBUG Resetting dropped connection: deepchatbot.search.windows.net
2025-10-10 21:39:12,201 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 21:39:12,245 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'cbe6f744-a610-11f0-b20c-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 19:39:12 GMT'
2025-10-10 21:39:12,254 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'cc1ba63a-a610-11f0-8f9d-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 21:39:12,304 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 21:39:12,305 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'cc1ba63a-a610-11f0-8f9d-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 19:39:12 GMT'
2025-10-10 21:39:12,308 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: can you tell me about BTH university
Assistant: Assistant: BTH University, also known as Blekinge Institute of Technology, is a Swedish university located in the city of Karlskrona. It is known for its strong emphasis on applied IT and innovation, as well as its sustainability and engineering programs. Is there something specific you'd like to know about BTH University?
---
User: hi
Assistant: ! How can I assist you today?

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: can you tell me more about sweden as a technological country
2025-10-10 21:39:12,312 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-2141afa5-5d16-493b-b0f5-350eb19cc5d3', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: can you tell me about BTH university\nAssistant: Assistant: BTH University, also known as Blekinge Institute of Technology, is a Swedish university located in the city of Karlskrona. It is known for its strong emphasis on applied IT and innovation, as well as its sustainability and engineering programs. Is there something specific you'd like to know about BTH University?\n---\nUser: hi\nAssistant: ! How can I assist you today?\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: can you tell me more about sweden as a technological country", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 21:39:12,314 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 21:39:12,315 DEBUG close.started
2025-10-10 21:39:12,315 DEBUG close.complete
2025-10-10 21:39:12,316 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 21:39:12,351 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F13988D9A0>
2025-10-10 21:39:12,352 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F1378C0CD0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 21:39:12,443 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F13988D5E0>
2025-10-10 21:39:12,444 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 21:39:12,445 DEBUG send_request_headers.complete
2025-10-10 21:39:12,445 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 21:39:12,445 DEBUG send_request_body.complete
2025-10-10 21:39:12,445 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 21:39:13,126 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'1312'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'985388c6-f491-495c-bd1d-b0368f1a70da'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'789'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'73faa3da-6b5f-4e24-9fff-9c4b8ad5fdda'), (b'x-ms-client-request-id', b'985388c6-f491-495c-bd1d-b0368f1a70da'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 19:39:12 GMT')])
2025-10-10 21:39:13,127 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 21:39:13,127 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 21:39:13,127 DEBUG receive_response_body.complete
2025-10-10 21:39:13,128 DEBUG response_closed.started
2025-10-10 21:39:13,128 DEBUG response_closed.complete
2025-10-10 21:39:13,128 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '1312', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '985388c6-f491-495c-bd1d-b0368f1a70da', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '789', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': '73faa3da-6b5f-4e24-9fff-9c4b8ad5fdda', 'x-ms-client-request-id': '985388c6-f491-495c-bd1d-b0368f1a70da', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 19:39:12 GMT'})
2025-10-10 21:39:13,128 DEBUG request_id: 73faa3da-6b5f-4e24-9fff-9c4b8ad5fdda
2025-10-10 21:39:13,132 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-8fd2f752-b862-4027-9895-0e69eb11cc25', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F13992BCE0>, 'json_data': {'input': [[1502, 25, 649, 499, 3371, 757, 810, 922, 2064, 14466, 439, 264, 30116, 3224, 72803, 25, 24067, 374, 3967, 369, 1202, 3831, 25679, 389, 5557, 323, 19297, 13, 426, 3701, 3907, 304, 4040, 374, 1664, 33263, 21632, 369, 1202, 5357, 389, 9435, 8871, 323, 15009, 7620, 13, 23212, 11, 24067, 439, 264, 3224, 706, 264, 17444, 369, 1694, 520, 279, 52301, 315, 30116, 83787, 11, 8104, 304, 279, 5789, 315, 62866, 11, 40508, 15009, 11, 323, 22556, 4907, 13, 1442, 499, 617, 3230, 4860, 922, 24067, 596, 30116, 83787, 477, 904, 4040, 13189, 315, 31209, 5557, 11, 2733, 1949, 311, 2610, 0]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 21:39:13,134 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 21:39:13,135 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 21:39:13,136 DEBUG send_request_headers.complete
2025-10-10 21:39:13,136 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 21:39:13,137 DEBUG send_request_body.complete
2025-10-10 21:39:13,137 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 21:39:13,261 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8418'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'e5c12356-dfc5-46a2-84bd-a2a16e0a5bd1'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149886'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'94b67eb7-dd4d-4cef-8b1c-ec3d565b86a2'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'34'), (b'x-ms-client-request-id', b'e5c12356-dfc5-46a2-84bd-a2a16e0a5bd1'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"102"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 19:39:12 GMT')])
2025-10-10 21:39:13,262 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 21:39:13,262 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 21:39:13,263 DEBUG receive_response_body.complete
2025-10-10 21:39:13,263 DEBUG response_closed.started
2025-10-10 21:39:13,263 DEBUG response_closed.complete
2025-10-10 21:39:13,264 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8418', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'e5c12356-dfc5-46a2-84bd-a2a16e0a5bd1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149886', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '94b67eb7-dd4d-4cef-8b1c-ec3d565b86a2', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '34', 'x-ms-client-request-id': 'e5c12356-dfc5-46a2-84bd-a2a16e0a5bd1', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"102"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 19:39:12 GMT'})
2025-10-10 21:39:13,264 DEBUG request_id: 94b67eb7-dd4d-4cef-8b1c-ec3d565b86a2
2025-10-10 21:39:13,272 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35622'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'ccb6f819-a610-11f0-b7b9-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 21:39:13,360 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 21:39:13,362 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'ccb6f819-a610-11f0-b7b9-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 19:39:13 GMT'
2025-10-10 21:39:13,364 INFO 127.0.0.1 - - [10/Oct/2025 21:39:13] "POST /chat HTTP/1.1" 200 -
2025-10-10 21:39:18,084 INFO 127.0.0.1 - - [10/Oct/2025 21:39:18] "[36mGET / HTTP/1.1[0m" 304 -
2025-10-10 21:39:30,603 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-c9506817-1edf-42c3-9009-209f789751aa', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F139938B80>, 'json_data': {'input': [[4919, 499, 19635, 1057, 1566, 10652]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 21:39:30,606 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 21:39:30,607 DEBUG close.started
2025-10-10 21:39:30,608 DEBUG close.complete
2025-10-10 21:39:30,608 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 21:39:30,755 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F13988BBD0>
2025-10-10 21:39:30,756 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F137F8F6B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 21:39:30,873 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F13988BD90>
2025-10-10 21:39:30,873 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 21:39:30,874 DEBUG send_request_headers.complete
2025-10-10 21:39:30,875 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 21:39:30,875 DEBUG send_request_body.complete
2025-10-10 21:39:30,875 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 21:39:31,071 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'65239698-5985-40ad-8ef7-3a7c90a5296c'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149880'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'0fffc4e7-e3cf-47f5-b626-f66bcac17470'), (b'azureml-model-session', b'd071-20250905050200'), (b'x-envoy-upstream-service-time', b'97'), (b'x-ms-client-request-id', b'65239698-5985-40ad-8ef7-3a7c90a5296c'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"6"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 19:39:30 GMT')])
2025-10-10 21:39:31,072 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 21:39:31,073 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 21:39:31,073 DEBUG receive_response_body.complete
2025-10-10 21:39:31,073 DEBUG response_closed.started
2025-10-10 21:39:31,074 DEBUG response_closed.complete
2025-10-10 21:39:31,074 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '65239698-5985-40ad-8ef7-3a7c90a5296c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149880', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '0fffc4e7-e3cf-47f5-b626-f66bcac17470', 'azureml-model-session': 'd071-20250905050200', 'x-envoy-upstream-service-time': '97', 'x-ms-client-request-id': '65239698-5985-40ad-8ef7-3a7c90a5296c', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"6"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 19:39:30 GMT'})
2025-10-10 21:39:31,074 DEBUG request_id: 0fffc4e7-e3cf-47f5-b626-f66bcac17470
2025-10-10 21:39:31,149 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34340'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd75ed4d4-a610-11f0-b8ba-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 21:39:31,249 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 21:39:31,253 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd75ed4d4-a610-11f0-b8ba-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 19:39:31 GMT'
2025-10-10 21:39:31,261 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd76fed6c-a610-11f0-aa2a-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 21:39:31,307 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 21:39:31,309 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd76fed6c-a610-11f0-aa2a-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 19:39:31 GMT'
2025-10-10 21:39:31,310 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: hi
Assistant: ! How can I assist you today?
---
User: can you tell me more about sweden as a technological country
Assistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!
---
User: can you tell me about BTH university
Assistant: Assistant: BTH University, also known as Blekinge Institute of Technology, is a Swedish university located in the city of Karlskrona. It is known for its strong emphasis on applied IT and innovation, as well as its sustainability and engineering programs. Is there something specific you'd like to know about BTH University?

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: can you recall our last conversation
2025-10-10 21:39:31,313 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-6674565e-32a2-4029-af53-eed132971ca1', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: hi\nAssistant: ! How can I assist you today?\n---\nUser: can you tell me more about sweden as a technological country\nAssistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!\n---\nUser: can you tell me about BTH university\nAssistant: Assistant: BTH University, also known as Blekinge Institute of Technology, is a Swedish university located in the city of Karlskrona. It is known for its strong emphasis on applied IT and innovation, as well as its sustainability and engineering programs. Is there something specific you'd like to know about BTH University?\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: can you recall our last conversation", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 21:39:31,317 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 21:39:31,318 DEBUG close.started
2025-10-10 21:39:31,319 DEBUG close.complete
2025-10-10 21:39:31,319 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 21:39:31,368 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F1398C7450>
2025-10-10 21:39:31,369 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F1378C0CD0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 21:39:31,493 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F13981DB50>
2025-10-10 21:39:31,493 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 21:39:31,494 DEBUG send_request_headers.complete
2025-10-10 21:39:31,495 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 21:39:31,495 DEBUG send_request_body.complete
2025-10-10 21:39:31,496 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 21:39:32,105 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'1148'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'f0420a68-506b-4a31-bb3c-6a018d978fbf'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'434'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'fbdd294e-c93a-4a3b-9eb1-ec1330ab1bdd'), (b'x-ms-client-request-id', b'f0420a68-506b-4a31-bb3c-6a018d978fbf'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 19:39:31 GMT')])
2025-10-10 21:39:32,106 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 21:39:32,106 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 21:39:32,106 DEBUG receive_response_body.complete
2025-10-10 21:39:32,107 DEBUG response_closed.started
2025-10-10 21:39:32,107 DEBUG response_closed.complete
2025-10-10 21:39:32,107 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '1148', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'f0420a68-506b-4a31-bb3c-6a018d978fbf', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '434', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': 'fbdd294e-c93a-4a3b-9eb1-ec1330ab1bdd', 'x-ms-client-request-id': 'f0420a68-506b-4a31-bb3c-6a018d978fbf', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 19:39:31 GMT'})
2025-10-10 21:39:32,107 DEBUG request_id: fbdd294e-c93a-4a3b-9eb1-ec1330ab1bdd
2025-10-10 21:39:32,110 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-b2599d1a-3933-408d-be54-36544b7ba40c', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F132FCD800>, 'json_data': {'input': [[1502, 25, 649, 499, 19635, 1057, 1566, 10652, 72803, 25, 22103, 25, 5046, 3388, 0, 763, 1057, 1566, 10652, 11, 584, 14407, 24067, 596, 17444, 439, 264, 30116, 3224, 323, 11951, 9932, 426, 3701, 3907, 11, 3967, 369, 1202, 5357, 389, 9435, 8871, 323, 15009, 7620, 11, 439, 1664, 439, 1202, 41329, 323, 19297, 28271, 13, 2650, 649, 358, 7945, 499, 4726, 449, 420, 8712, 477, 904, 1023, 44983, 499, 1253, 617, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 21:39:32,111 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 21:39:32,112 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 21:39:32,113 DEBUG send_request_headers.complete
2025-10-10 21:39:32,113 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 21:39:32,114 DEBUG send_request_body.complete
2025-10-10 21:39:32,114 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 21:39:32,235 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'ca5ede18-49f2-44e1-a050-04626eef1696'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149807'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'c3ffd0fc-dc9d-4b5e-b109-cb9d36ef648f'), (b'azureml-model-session', b'd072-20250905053909'), (b'x-envoy-upstream-service-time', b'31'), (b'x-ms-client-request-id', b'ca5ede18-49f2-44e1-a050-04626eef1696'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"73"},"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 19:39:31 GMT')])
2025-10-10 21:39:32,236 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 21:39:32,236 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 21:39:32,237 DEBUG receive_response_body.complete
2025-10-10 21:39:32,237 DEBUG response_closed.started
2025-10-10 21:39:32,237 DEBUG response_closed.complete
2025-10-10 21:39:32,237 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'ca5ede18-49f2-44e1-a050-04626eef1696', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149807', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': 'c3ffd0fc-dc9d-4b5e-b109-cb9d36ef648f', 'azureml-model-session': 'd072-20250905053909', 'x-envoy-upstream-service-time': '31', 'x-ms-client-request-id': 'ca5ede18-49f2-44e1-a050-04626eef1696', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"73"},"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 19:39:31 GMT'})
2025-10-10 21:39:32,237 DEBUG request_id: c3ffd0fc-dc9d-4b5e-b109-cb9d36ef648f
2025-10-10 21:39:32,244 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35245'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd805dfbe-a610-11f0-ae0f-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 21:39:32,322 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 21:39:32,324 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd805dfbe-a610-11f0-ae0f-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 19:39:32 GMT'
2025-10-10 21:39:32,325 INFO 127.0.0.1 - - [10/Oct/2025 21:39:32] "POST /chat HTTP/1.1" 200 -
2025-10-10 22:30:33,888 INFO 127.0.0.1 - - [10/Oct/2025 22:30:33] "GET / HTTP/1.1" 200 -
2025-10-10 22:30:38,543 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-9af5c26c-f49e-46a0-a0b8-6e847d3ffff2', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F1399ACF40>, 'json_data': {'input': [[6151]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:30:38,545 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:30:38,547 DEBUG close.started
2025-10-10 22:30:38,547 DEBUG close.complete
2025-10-10 22:30:38,548 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:30:38,712 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F1399519D0>
2025-10-10 22:30:38,712 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F137F8F6B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:30:38,824 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F139ABAFC0>
2025-10-10 22:30:38,826 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:30:38,827 DEBUG send_request_headers.complete
2025-10-10 22:30:38,827 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:30:38,827 DEBUG send_request_body.complete
2025-10-10 22:30:38,827 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:30:39,175 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'0e946d7f-db2e-448d-80fb-358fb6afbfe2'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149999'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'fa1037d8-7bbb-4256-bf43-6282aad3400f'), (b'azureml-model-session', b'd071-20250905050200'), (b'x-envoy-upstream-service-time', b'29'), (b'x-ms-client-request-id', b'0e946d7f-db2e-448d-80fb-358fb6afbfe2'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"1"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:30:38 GMT')])
2025-10-10 22:30:39,175 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:30:39,176 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:30:39,176 DEBUG receive_response_body.complete
2025-10-10 22:30:39,176 DEBUG response_closed.started
2025-10-10 22:30:39,176 DEBUG response_closed.complete
2025-10-10 22:30:39,176 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '0e946d7f-db2e-448d-80fb-358fb6afbfe2', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149999', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': 'fa1037d8-7bbb-4256-bf43-6282aad3400f', 'azureml-model-session': 'd071-20250905050200', 'x-envoy-upstream-service-time': '29', 'x-ms-client-request-id': '0e946d7f-db2e-448d-80fb-358fb6afbfe2', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"1"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:30:38 GMT'})
2025-10-10 22:30:39,176 DEBUG request_id: fa1037d8-7bbb-4256-bf43-6282aad3400f
2025-10-10 22:30:39,212 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34276'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'fc142d25-a617-11f0-8b68-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:30:39,216 DEBUG Resetting dropped connection: deepchatbot.search.windows.net
2025-10-10 22:30:39,496 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:30:39,529 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'fc142d25-a617-11f0-8b68-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:30:39 GMT'
2025-10-10 22:30:39,532 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'fc450e55-a617-11f0-acbe-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:30:39,579 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:30:39,580 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'fc450e55-a617-11f0-acbe-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:30:39 GMT'
2025-10-10 22:30:39,583 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: hi
Assistant: ! How can I assist you today?
---
User: can you recall our last conversation
Assistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?
---
User: can you tell me about BTH university
Assistant: Assistant: BTH University, also known as Blekinge Institute of Technology, is a Swedish university located in the city of Karlskrona. It is known for its strong emphasis on applied IT and innovation, as well as its sustainability and engineering programs. Is there something specific you'd like to know about BTH University?

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: hi
2025-10-10 22:30:39,585 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-45305a79-6f90-40dd-b175-4ed39aec5f1c', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: hi\nAssistant: ! How can I assist you today?\n---\nUser: can you recall our last conversation\nAssistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?\n---\nUser: can you tell me about BTH university\nAssistant: Assistant: BTH University, also known as Blekinge Institute of Technology, is a Swedish university located in the city of Karlskrona. It is known for its strong emphasis on applied IT and innovation, as well as its sustainability and engineering programs. Is there something specific you'd like to know about BTH University?\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: hi", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 22:30:39,586 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 22:30:39,586 DEBUG close.started
2025-10-10 22:30:39,586 DEBUG close.complete
2025-10-10 22:30:39,587 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:30:39,624 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F139ABAAF0>
2025-10-10 22:30:39,624 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F1378C0CD0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:30:39,725 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F13992BB10>
2025-10-10 22:30:39,725 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:30:39,725 DEBUG send_request_headers.complete
2025-10-10 22:30:39,725 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:30:39,725 DEBUG send_request_body.complete
2025-10-10 22:30:39,725 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:30:40,082 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'912'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'fac17f8b-a068-4ad0-b25e-c0564b962a3c'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'701'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'cd282c2d-7a59-4633-8873-affc7412e24d'), (b'x-ms-client-request-id', b'fac17f8b-a068-4ad0-b25e-c0564b962a3c'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 20:30:39 GMT')])
2025-10-10 22:30:40,082 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:30:40,082 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:30:40,082 DEBUG receive_response_body.complete
2025-10-10 22:30:40,082 DEBUG response_closed.started
2025-10-10 22:30:40,083 DEBUG response_closed.complete
2025-10-10 22:30:40,083 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '912', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'fac17f8b-a068-4ad0-b25e-c0564b962a3c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '701', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': 'cd282c2d-7a59-4633-8873-affc7412e24d', 'x-ms-client-request-id': 'fac17f8b-a068-4ad0-b25e-c0564b962a3c', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 20:30:39 GMT'})
2025-10-10 22:30:40,083 DEBUG request_id: cd282c2d-7a59-4633-8873-affc7412e24d
2025-10-10 22:30:40,087 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-33c6d3d4-9cba-4f71-8d54-9c75f18cdb70', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F1399AD080>, 'json_data': {'input': [[1502, 25, 15960, 72803, 25, 758, 2650, 649, 358, 7945, 499, 3432, 30, 1442, 499, 617, 904, 4860, 922, 426, 3701, 3907, 477, 904, 1023, 8712, 11, 2733, 1949, 311, 2610, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:30:40,087 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:30:40,088 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:30:40,088 DEBUG send_request_headers.complete
2025-10-10 22:30:40,088 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:30:40,088 DEBUG send_request_body.complete
2025-10-10 22:30:40,088 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:30:40,239 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'0480e954-4f16-4b2b-847d-bf8c49fe664d'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149967'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'af1308e8-1f9c-4202-9237-67dcab6b2e3e'), (b'azureml-model-session', b'd072-20250905053909'), (b'x-envoy-upstream-service-time', b'28'), (b'x-ms-client-request-id', b'0480e954-4f16-4b2b-847d-bf8c49fe664d'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"32"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:30:39 GMT')])
2025-10-10 22:30:40,239 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:30:40,240 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:30:40,240 DEBUG receive_response_body.complete
2025-10-10 22:30:40,240 DEBUG response_closed.started
2025-10-10 22:30:40,240 DEBUG response_closed.complete
2025-10-10 22:30:40,240 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '0480e954-4f16-4b2b-847d-bf8c49fe664d', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149967', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': 'af1308e8-1f9c-4202-9237-67dcab6b2e3e', 'azureml-model-session': 'd072-20250905053909', 'x-envoy-upstream-service-time': '28', 'x-ms-client-request-id': '0480e954-4f16-4b2b-847d-bf8c49fe664d', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"32"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:30:39 GMT'})
2025-10-10 22:30:40,240 DEBUG request_id: af1308e8-1f9c-4202-9237-67dcab6b2e3e
2025-10-10 22:30:40,242 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34683'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'fcb14596-a617-11f0-846b-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:30:40,336 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:30:40,337 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'fcb14596-a617-11f0-846b-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:30:39 GMT'
2025-10-10 22:30:40,338 INFO 127.0.0.1 - - [10/Oct/2025 22:30:40] "POST /chat HTTP/1.1" 200 -
2025-10-10 22:32:04,123 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-97249c6a-65b2-4ced-890b-479e262b77af', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F1399AFE20>, 'json_data': {'input': [[73457, 757, 810, 922, 279, 7634, 311, 4034, 3221, 24318, 4835, 74, 2298, 64, 304, 279, 2305, 315, 503, 3988]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:32:04,123 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:32:04,124 DEBUG close.started
2025-10-10 22:32:04,124 DEBUG close.complete
2025-10-10 22:32:04,124 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:32:04,239 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F139940050>
2025-10-10 22:32:04,240 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F137F8F6B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:32:04,320 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F139893F50>
2025-10-10 22:32:04,321 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:32:04,321 DEBUG send_request_headers.complete
2025-10-10 22:32:04,321 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:32:04,321 DEBUG send_request_body.complete
2025-10-10 22:32:04,321 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:32:04,449 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'1159f41a-89a5-48a6-85bd-dfdb814a1268'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149980'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'8f4b3a65-72e8-42b0-9f76-54c22934a758'), (b'azureml-model-session', b'd071-20250905050200'), (b'x-envoy-upstream-service-time', b'39'), (b'x-ms-client-request-id', b'1159f41a-89a5-48a6-85bd-dfdb814a1268'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"430"},"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:32:03 GMT')])
2025-10-10 22:32:04,450 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:32:04,450 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:32:04,450 DEBUG receive_response_body.complete
2025-10-10 22:32:04,450 DEBUG response_closed.started
2025-10-10 22:32:04,450 DEBUG response_closed.complete
2025-10-10 22:32:04,450 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '1159f41a-89a5-48a6-85bd-dfdb814a1268', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149980', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '8f4b3a65-72e8-42b0-9f76-54c22934a758', 'azureml-model-session': 'd071-20250905050200', 'x-envoy-upstream-service-time': '39', 'x-ms-client-request-id': '1159f41a-89a5-48a6-85bd-dfdb814a1268', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"430"},"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:32:03 GMT'})
2025-10-10 22:32:04,451 DEBUG request_id: 8f4b3a65-72e8-42b0-9f76-54c22934a758
2025-10-10 22:32:04,468 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34262'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '2ee52946-a618-11f0-a672-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:32:04,562 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:32:04,563 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '2ee52946-a618-11f0-a672-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:32:04 GMT'
2025-10-10 22:32:04,565 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '2ef40b4b-a618-11f0-9072-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:32:04,600 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:32:04,601 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '2ef40b4b-a618-11f0-9072-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:32:04 GMT'
2025-10-10 22:32:04,601 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: can you tell me more about sweden as a technological country
Assistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!
---
User: can you tell me about BTH university
Assistant: Assistant: BTH University, also known as Blekinge Institute of Technology, is a Swedish university located in the city of Karlskrona. It is known for its strong emphasis on applied IT and innovation, as well as its sustainability and engineering programs. Is there something specific you'd like to know about BTH University?
---
User: can you recall our last conversation
Assistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: tell me more about the places to visit near karlskrona in the month of july
2025-10-10 22:32:04,602 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-39ed1571-8cac-4ef8-864a-cf464bff8a02', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: can you tell me more about sweden as a technological country\nAssistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!\n---\nUser: can you tell me about BTH university\nAssistant: Assistant: BTH University, also known as Blekinge Institute of Technology, is a Swedish university located in the city of Karlskrona. It is known for its strong emphasis on applied IT and innovation, as well as its sustainability and engineering programs. Is there something specific you'd like to know about BTH University?\n---\nUser: can you recall our last conversation\nAssistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: tell me more about the places to visit near karlskrona in the month of july", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 22:32:04,603 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 22:32:04,603 DEBUG close.started
2025-10-10 22:32:04,603 DEBUG close.complete
2025-10-10 22:32:04,603 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:32:04,639 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F1399BD8D0>
2025-10-10 22:32:04,639 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F1378C0CD0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:32:04,717 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F1399BCD50>
2025-10-10 22:32:04,717 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:32:04,717 DEBUG send_request_headers.complete
2025-10-10 22:32:04,717 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:32:04,717 DEBUG send_request_body.complete
2025-10-10 22:32:04,717 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:32:05,910 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'1597'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'e8778cd1-ea35-4581-bdc4-e509e0794c00'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'547'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'd205fa6d-9a36-44c6-931a-cb70a9f8c4d6'), (b'x-ms-client-request-id', b'e8778cd1-ea35-4581-bdc4-e509e0794c00'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 20:32:05 GMT')])
2025-10-10 22:32:05,911 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:32:05,911 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:32:05,912 DEBUG receive_response_body.complete
2025-10-10 22:32:05,912 DEBUG response_closed.started
2025-10-10 22:32:05,912 DEBUG response_closed.complete
2025-10-10 22:32:05,912 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '1597', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'e8778cd1-ea35-4581-bdc4-e509e0794c00', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '547', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': 'd205fa6d-9a36-44c6-931a-cb70a9f8c4d6', 'x-ms-client-request-id': 'e8778cd1-ea35-4581-bdc4-e509e0794c00', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 20:32:05 GMT'})
2025-10-10 22:32:05,912 DEBUG request_id: d205fa6d-9a36-44c6-931a-cb70a9f8c4d6
2025-10-10 22:32:05,919 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-f3348bd1-102a-449b-8976-998e4951d811', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F1399AFEC0>, 'json_data': {'input': [[1502, 25, 3371, 757, 810, 922, 279, 7634, 311, 4034, 3221, 24318, 4835, 74, 2298, 64, 304, 279, 2305, 315, 503, 3988, 72803, 25, 53466, 0, 763, 279, 2305, 315, 5887, 11, 13528, 4835, 74, 2298, 64, 323, 1202, 14932, 5789, 617, 12387, 6366, 7634, 311, 4034, 13, 578, 5438, 82179, 6438, 315, 13528, 4835, 74, 2298, 64, 374, 264, 2011, 12, 4151, 11, 449, 1202, 20441, 30100, 323, 75001, 80944, 4832, 369, 7474, 43685, 13, 1472, 649, 1101, 4034, 279, 46829, 5896, 315, 13528, 4835, 74, 2298, 64, 11, 264, 81876, 4435, 34243, 2816, 11, 311, 4048, 922, 24067, 596, 58412, 3925, 13, 23212, 11, 279, 3363, 596, 35509, 18526, 4219, 11, 449, 1202, 2362, 46398, 14016, 323, 88608, 14708, 11, 374, 264, 17104, 2035, 311, 13488, 13, 1442, 499, 2351, 8173, 304, 16166, 7640, 11, 2980, 4737, 264, 15688, 7364, 11, 38464, 3235, 279, 35335, 33965, 11, 477, 22128, 264, 16587, 520, 832, 315, 279, 1690, 35909, 304, 279, 5654, 13, 1442, 499, 617, 3230, 12034, 477, 7640, 499, 4265, 1093, 311, 13488, 11, 2733, 1949, 311, 1095, 757, 1440, 323, 358, 649, 3493, 810, 41891, 19075, 0]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:32:05,919 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:32:05,919 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:32:05,920 DEBUG send_request_headers.complete
2025-10-10 22:32:05,920 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:32:05,920 DEBUG send_request_body.complete
2025-10-10 22:32:05,920 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:32:06,031 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8418'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'8b54a941-c014-4793-ae0b-2024cd524e71'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149790'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'be9a4fcc-7485-4ac7-a8de-0f3800564c84'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'30'), (b'x-ms-client-request-id', b'8b54a941-c014-4793-ae0b-2024cd524e71'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"190"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:32:05 GMT')])
2025-10-10 22:32:06,032 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:32:06,032 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:32:06,032 DEBUG receive_response_body.complete
2025-10-10 22:32:06,032 DEBUG response_closed.started
2025-10-10 22:32:06,032 DEBUG response_closed.complete
2025-10-10 22:32:06,032 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8418', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '8b54a941-c014-4793-ae0b-2024cd524e71', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149790', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': 'be9a4fcc-7485-4ac7-a8de-0f3800564c84', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '30', 'x-ms-client-request-id': '8b54a941-c014-4793-ae0b-2024cd524e71', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"190"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:32:05 GMT'})
2025-10-10 22:32:06,032 DEBUG request_id: be9a4fcc-7485-4ac7-a8de-0f3800564c84
2025-10-10 22:32:06,035 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '36140'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '2fd446b4-a618-11f0-9e2b-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:32:06,103 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:32:06,104 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '2fd446b4-a618-11f0-9e2b-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:32:06 GMT'
2025-10-10 22:32:06,106 INFO 127.0.0.1 - - [10/Oct/2025 22:32:06] "POST /chat HTTP/1.1" 200 -
2025-10-10 22:33:55,674 INFO 127.0.0.1 - - [10/Oct/2025 22:33:55] "GET / HTTP/1.1" 200 -
2025-10-10 22:34:59,320 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-4bb2dd14-2eda-4880-aa77-a53064c4fa49', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F1399AC400>, 'json_data': {'input': [[4919, 499, 3371, 757, 810, 922, 279, 7634, 311, 4034, 2391, 503, 3988, 2305, 315, 503, 3988]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:34:59,321 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:34:59,322 DEBUG close.started
2025-10-10 22:34:59,323 DEBUG close.complete
2025-10-10 22:34:59,323 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:34:59,509 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F139875780>
2025-10-10 22:34:59,510 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F137F8F6B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:34:59,607 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F139874EC0>
2025-10-10 22:34:59,607 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:34:59,608 DEBUG send_request_headers.complete
2025-10-10 22:34:59,608 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:34:59,608 DEBUG send_request_body.complete
2025-10-10 22:34:59,608 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:34:59,744 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'9bf223c4-f1be-4d41-a775-24192d4fd483'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149983'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'24706a32-20ce-4727-aea5-89bdabc49fbf'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'29'), (b'x-ms-client-request-id', b'9bf223c4-f1be-4d41-a775-24192d4fd483'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"17"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:34:59 GMT')])
2025-10-10 22:34:59,745 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:34:59,745 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:34:59,746 DEBUG receive_response_body.complete
2025-10-10 22:34:59,746 DEBUG response_closed.started
2025-10-10 22:34:59,746 DEBUG response_closed.complete
2025-10-10 22:34:59,746 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '9bf223c4-f1be-4d41-a775-24192d4fd483', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149983', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '24706a32-20ce-4727-aea5-89bdabc49fbf', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '29', 'x-ms-client-request-id': '9bf223c4-f1be-4d41-a775-24192d4fd483', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"17"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:34:59 GMT'})
2025-10-10 22:34:59,746 DEBUG request_id: 24706a32-20ce-4727-aea5-89bdabc49fbf
2025-10-10 22:34:59,802 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34343'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '976708c3-a618-11f0-a854-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:34:59,805 DEBUG Resetting dropped connection: deepchatbot.search.windows.net
2025-10-10 22:35:00,120 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:35:00,171 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '976708c3-a618-11f0-a854-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:35:00 GMT'
2025-10-10 22:35:00,179 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '97a095d3-a618-11f0-b034-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:35:00,225 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:35:00,225 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '97a095d3-a618-11f0-b034-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:35:00 GMT'
2025-10-10 22:35:00,226 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: tell me more about the places to visit near karlskrona in the month of july
Assistant: Certainly! In the month of July, Karlskrona and its surrounding areas have numerous beautiful places to visit. The archipelago of Karlskrona is a must-see, with its stunning islands and picturesque coastline perfect for summer relaxation. You can also visit the Naval Port of Karlskrona, a UNESCO World Heritage site, to learn about Sweden's maritime history. Additionally, the city's charming historic center, with its old naval buildings and quaint streets, is a lovely place to explore. If you're interested in outdoor activities, consider taking a boat tour, hiking along the coastal trails, or enjoying a swim at one of the many beaches in the region. If you have specific interests or activities you'd like to explore, feel free to let me know and I can provide more tailored recommendations!
---
User: can you tell me more about sweden as a technological country
Assistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!
---
User: can you recall our last conversation
Assistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: can you tell me more about the places to visit during july month of july
2025-10-10 22:35:00,228 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-ef9a7a1c-34a3-4ba2-ac09-b666b0b380e0', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: tell me more about the places to visit near karlskrona in the month of july\nAssistant: Certainly! In the month of July, Karlskrona and its surrounding areas have numerous beautiful places to visit. The archipelago of Karlskrona is a must-see, with its stunning islands and picturesque coastline perfect for summer relaxation. You can also visit the Naval Port of Karlskrona, a UNESCO World Heritage site, to learn about Sweden's maritime history. Additionally, the city's charming historic center, with its old naval buildings and quaint streets, is a lovely place to explore. If you're interested in outdoor activities, consider taking a boat tour, hiking along the coastal trails, or enjoying a swim at one of the many beaches in the region. If you have specific interests or activities you'd like to explore, feel free to let me know and I can provide more tailored recommendations!\n---\nUser: can you tell me more about sweden as a technological country\nAssistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!\n---\nUser: can you recall our last conversation\nAssistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: can you tell me more about the places to visit during july month of july", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 22:35:00,231 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 22:35:00,231 DEBUG close.started
2025-10-10 22:35:00,231 DEBUG close.complete
2025-10-10 22:35:00,232 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:35:00,269 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F1399A9DF0>
2025-10-10 22:35:00,270 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F1378C0CD0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:35:00,368 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F1399A97F0>
2025-10-10 22:35:00,368 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:35:00,369 DEBUG send_request_headers.complete
2025-10-10 22:35:00,369 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:35:00,370 DEBUG send_request_body.complete
2025-10-10 22:35:00,370 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:35:01,121 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'1209'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'0fd05d0c-795b-4b05-a1ac-f2e8d1e83b37'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'419'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'fd9e3bad-8437-476c-aff9-d570b050ea8e'), (b'x-ms-client-request-id', b'0fd05d0c-795b-4b05-a1ac-f2e8d1e83b37'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 20:35:01 GMT')])
2025-10-10 22:35:01,121 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:35:01,122 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:35:01,122 DEBUG receive_response_body.complete
2025-10-10 22:35:01,122 DEBUG response_closed.started
2025-10-10 22:35:01,122 DEBUG response_closed.complete
2025-10-10 22:35:01,122 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '1209', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '0fd05d0c-795b-4b05-a1ac-f2e8d1e83b37', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '419', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': 'fd9e3bad-8437-476c-aff9-d570b050ea8e', 'x-ms-client-request-id': '0fd05d0c-795b-4b05-a1ac-f2e8d1e83b37', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 20:35:01 GMT'})
2025-10-10 22:35:01,122 DEBUG request_id: fd9e3bad-8437-476c-aff9-d570b050ea8e
2025-10-10 22:35:01,127 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-261bb335-7e51-4065-aab8-6a2dfb112ed7', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F1399AC360>, 'json_data': {'input': [[1502, 25, 649, 499, 3371, 757, 810, 922, 279, 7634, 311, 4034, 2391, 503, 3988, 2305, 315, 503, 3988, 72803, 25, 20817, 389, 1057, 3766, 10652, 11, 358, 649, 7079, 24919, 279, 5438, 82179, 6438, 315, 13528, 4835, 74, 2298, 64, 11, 279, 46829, 5896, 315, 13528, 4835, 74, 2298, 64, 11, 323, 279, 18526, 4219, 304, 5887, 13, 1472, 649, 1101, 2980, 22128, 16166, 7640, 1778, 439, 15688, 31261, 11, 35335, 9025, 68585, 11, 323, 11573, 21728, 13, 1442, 499, 617, 904, 3230, 12034, 477, 7640, 499, 4265, 1093, 311, 13488, 11, 2733, 1949, 311, 1095, 757, 1440, 779, 358, 649, 3493, 810, 41891, 19075, 0]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:35:01,128 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:35:01,129 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:35:01,129 DEBUG send_request_headers.complete
2025-10-10 22:35:01,129 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:35:01,130 DEBUG send_request_body.complete
2025-10-10 22:35:01,130 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:35:01,251 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8418'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'bcfeb8e2-ea58-4d47-921d-c4580c999605'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149876'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'957e5e0c-fd56-4a6f-93f7-67089b51a2fb'), (b'azureml-model-session', b'd072-20250905053909'), (b'x-envoy-upstream-service-time', b'35'), (b'x-ms-client-request-id', b'bcfeb8e2-ea58-4d47-921d-c4580c999605'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"107"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:35:01 GMT')])
2025-10-10 22:35:01,251 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:35:01,252 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:35:01,252 DEBUG receive_response_body.complete
2025-10-10 22:35:01,252 DEBUG response_closed.started
2025-10-10 22:35:01,253 DEBUG response_closed.complete
2025-10-10 22:35:01,253 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8418', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'bcfeb8e2-ea58-4d47-921d-c4580c999605', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149876', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '957e5e0c-fd56-4a6f-93f7-67089b51a2fb', 'azureml-model-session': 'd072-20250905053909', 'x-envoy-upstream-service-time': '35', 'x-ms-client-request-id': 'bcfeb8e2-ea58-4d47-921d-c4580c999605', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"107"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:35:01 GMT'})
2025-10-10 22:35:01,253 DEBUG request_id: 957e5e0c-fd56-4a6f-93f7-67089b51a2fb
2025-10-10 22:35:01,259 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35385'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '984569a4-a618-11f0-97b7-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:35:01,354 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:35:01,355 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '984569a4-a618-11f0-97b7-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:35:01 GMT'
2025-10-10 22:35:01,356 INFO 127.0.0.1 - - [10/Oct/2025 22:35:01] "POST /chat HTTP/1.1" 200 -
2025-10-10 22:36:32,930 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-b872909c-0d3e-46aa-9fba-dbf5d60351c8', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F139938220>, 'json_data': {'input': [[4919, 499, 2349, 279, 16630, 315, 279, 6369, 810, 2064, 27040, 323, 30063, 13942, 832]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:36:32,931 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:36:32,932 DEBUG close.started
2025-10-10 22:36:32,932 DEBUG close.complete
2025-10-10 22:36:32,932 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:36:33,046 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F1398BCA50>
2025-10-10 22:36:33,047 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F137F8F6B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:36:33,141 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F1398F0B90>
2025-10-10 22:36:33,141 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:36:33,142 DEBUG send_request_headers.complete
2025-10-10 22:36:33,142 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:36:33,143 DEBUG send_request_body.complete
2025-10-10 22:36:33,143 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:36:33,283 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'1d2d93d8-56b4-4ed6-866a-2fbc59db1076'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149985'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'04c7cb38-9baa-4c00-ab57-e5b996cc7e2e'), (b'azureml-model-session', b'd072-20250905053909'), (b'x-envoy-upstream-service-time', b'32'), (b'x-ms-client-request-id', b'1d2d93d8-56b4-4ed6-866a-2fbc59db1076'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"33"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:36:33 GMT')])
2025-10-10 22:36:33,284 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:36:33,284 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:36:33,284 DEBUG receive_response_body.complete
2025-10-10 22:36:33,284 DEBUG response_closed.started
2025-10-10 22:36:33,285 DEBUG response_closed.complete
2025-10-10 22:36:33,285 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '1d2d93d8-56b4-4ed6-866a-2fbc59db1076', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149985', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '04c7cb38-9baa-4c00-ab57-e5b996cc7e2e', 'azureml-model-session': 'd072-20250905053909', 'x-envoy-upstream-service-time': '32', 'x-ms-client-request-id': '1d2d93d8-56b4-4ed6-866a-2fbc59db1076', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"33"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:36:33 GMT'})
2025-10-10 22:36:33,285 DEBUG request_id: 04c7cb38-9baa-4c00-ab57-e5b996cc7e2e
2025-10-10 22:36:33,340 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34381'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'cf27bb3d-a618-11f0-81b8-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:36:33,423 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:36:33,429 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'cf27bb3d-a618-11f0-81b8-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:36:33 GMT'
2025-10-10 22:36:33,433 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'cf3608a6-a618-11f0-99a6-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:36:33,474 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:36:33,475 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'cf3608a6-a618-11f0-99a6-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:36:33 GMT'
2025-10-10 22:36:33,477 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: can you recall our last conversation
Assistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?
---
User: can you tell me more about sweden as a technological country
Assistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!
---
User: can you tell me more about the places to visit during july month of july
Assistant: 
Based on our previous conversation, I can recommend exploring the archipelago of Karlskrona, the Naval Port of Karlskrona, and the historic center in July. You can also consider enjoying outdoor activities such as boat tours, coastal trail hikes, and beach visits. If you have any specific interests or activities you'd like to explore, feel free to let me know so I can provide more tailored recommendations!

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: can you change the tone of the chat more swedish and english missed one
2025-10-10 22:36:33,479 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-2c45a3e8-dbbf-4897-bfda-f27118cd4442', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: can you recall our last conversation\nAssistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?\n---\nUser: can you tell me more about sweden as a technological country\nAssistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!\n---\nUser: can you tell me more about the places to visit during july month of july\nAssistant: \nBased on our previous conversation, I can recommend exploring the archipelago of Karlskrona, the Naval Port of Karlskrona, and the historic center in July. You can also consider enjoying outdoor activities such as boat tours, coastal trail hikes, and beach visits. If you have any specific interests or activities you'd like to explore, feel free to let me know so I can provide more tailored recommendations!\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: can you change the tone of the chat more swedish and english missed one", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 22:36:33,481 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 22:36:33,481 DEBUG close.started
2025-10-10 22:36:33,482 DEBUG close.complete
2025-10-10 22:36:33,482 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:36:33,536 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F1398F0F50>
2025-10-10 22:36:33,536 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F1378C0CD0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:36:33,646 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F1398F14A0>
2025-10-10 22:36:33,647 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:36:33,648 DEBUG send_request_headers.complete
2025-10-10 22:36:33,648 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:36:33,648 DEBUG send_request_body.complete
2025-10-10 22:36:33,648 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:36:34,181 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'1007'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'152411b8-880c-4e6a-888e-e74d40156a8c'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'517'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'f5e76fed-5c53-4317-ac52-d9be97dfc1c2'), (b'x-ms-client-request-id', b'152411b8-880c-4e6a-888e-e74d40156a8c'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 20:36:33 GMT')])
2025-10-10 22:36:34,181 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:36:34,182 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:36:34,183 DEBUG receive_response_body.complete
2025-10-10 22:36:34,183 DEBUG response_closed.started
2025-10-10 22:36:34,183 DEBUG response_closed.complete
2025-10-10 22:36:34,183 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '1007', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '152411b8-880c-4e6a-888e-e74d40156a8c', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '517', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': 'f5e76fed-5c53-4317-ac52-d9be97dfc1c2', 'x-ms-client-request-id': '152411b8-880c-4e6a-888e-e74d40156a8c', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 20:36:33 GMT'})
2025-10-10 22:36:34,183 DEBUG request_id: f5e76fed-5c53-4317-ac52-d9be97dfc1c2
2025-10-10 22:36:34,188 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-675c3738-25be-4057-b1bd-00562ebf6dd8', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F139938900>, 'json_data': {'input': [[1502, 25, 649, 499, 2349, 279, 16630, 315, 279, 6369, 810, 2064, 27040, 323, 30063, 13942, 832, 72803, 25, 22103, 25, 23371, 11, 358, 649, 7995, 6651, 31209, 323, 6498, 304, 1057, 10652, 311, 1893, 264, 810, 13513, 3217, 369, 499, 13, 2650, 649, 358, 7945, 499, 4726, 304, 24919, 31209, 7829, 323, 5944, 19075, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:36:34,189 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:36:34,189 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:36:34,189 DEBUG send_request_headers.complete
2025-10-10 22:36:34,189 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:36:34,190 DEBUG send_request_body.complete
2025-10-10 22:36:34,190 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:36:34,323 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'f19d8c9d-a107-4f86-9a4d-5dd9dfcdfa96'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149929'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'25ed930e-915f-466e-bc12-b74836117c47'), (b'azureml-model-session', b'd071-20250905050200'), (b'x-envoy-upstream-service-time', b'29'), (b'x-ms-client-request-id', b'f19d8c9d-a107-4f86-9a4d-5dd9dfcdfa96'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"45821"},"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:36:34 GMT')])
2025-10-10 22:36:34,324 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:36:34,325 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:36:34,325 DEBUG receive_response_body.complete
2025-10-10 22:36:34,325 DEBUG response_closed.started
2025-10-10 22:36:34,325 DEBUG response_closed.complete
2025-10-10 22:36:34,326 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'f19d8c9d-a107-4f86-9a4d-5dd9dfcdfa96', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149929', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '25ed930e-915f-466e-bc12-b74836117c47', 'azureml-model-session': 'd071-20250905050200', 'x-envoy-upstream-service-time': '29', 'x-ms-client-request-id': 'f19d8c9d-a107-4f86-9a4d-5dd9dfcdfa96', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"45821"},"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:36:34 GMT'})
2025-10-10 22:36:34,326 DEBUG request_id: 25ed930e-915f-466e-bc12-b74836117c47
2025-10-10 22:36:34,332 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34982'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'cfbf254a-a618-11f0-be21-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:36:34,407 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:36:34,408 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'cfbf254a-a618-11f0-be21-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:36:33 GMT'
2025-10-10 22:36:34,411 INFO 127.0.0.1 - - [10/Oct/2025 22:36:34] "POST /chat HTTP/1.1" 200 -
2025-10-10 22:36:48,512 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-9c96d6d0-63f7-4291-af39-f69408e51cb9', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F1398AB420>, 'json_data': {'input': [[708, 1148, 527, 499, 3815, 3432]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:36:48,513 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:36:48,513 DEBUG close.started
2025-10-10 22:36:48,514 DEBUG close.complete
2025-10-10 22:36:48,514 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:36:48,642 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F1398F0820>
2025-10-10 22:36:48,643 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F137F8F6B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:36:48,723 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F1398F3E30>
2025-10-10 22:36:48,723 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:36:48,723 DEBUG send_request_headers.complete
2025-10-10 22:36:48,723 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:36:48,724 DEBUG send_request_body.complete
2025-10-10 22:36:48,724 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:36:48,834 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'efbfc1bb-5633-45f4-b2c0-1546175915f0'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149923'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'61b8f335-a75f-4ebe-9317-427f709ffdac'), (b'azureml-model-session', b'd072-20250905053909'), (b'x-envoy-upstream-service-time', b'27'), (b'x-ms-client-request-id', b'efbfc1bb-5633-45f4-b2c0-1546175915f0'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"6"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:36:48 GMT')])
2025-10-10 22:36:48,835 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:36:48,835 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:36:48,835 DEBUG receive_response_body.complete
2025-10-10 22:36:48,836 DEBUG response_closed.started
2025-10-10 22:36:48,836 DEBUG response_closed.complete
2025-10-10 22:36:48,837 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'efbfc1bb-5633-45f4-b2c0-1546175915f0', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149923', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '61b8f335-a75f-4ebe-9317-427f709ffdac', 'azureml-model-session': 'd072-20250905053909', 'x-envoy-upstream-service-time': '27', 'x-ms-client-request-id': 'efbfc1bb-5633-45f4-b2c0-1546175915f0', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"6"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:36:48 GMT'})
2025-10-10 22:36:48,837 DEBUG request_id: 61b8f335-a75f-4ebe-9317-427f709ffdac
2025-10-10 22:36:48,892 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34356'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd86cd3be-a618-11f0-aa35-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:36:48,995 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:36:48,998 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd86cd3be-a618-11f0-aa35-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:36:49 GMT'
2025-10-10 22:36:49,005 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd87dfee1-a618-11f0-9ab9-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:36:49,051 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:36:49,052 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd87dfee1-a618-11f0-9ab9-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:36:49 GMT'
2025-10-10 22:36:49,053 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: hi
Assistant: ! How can I assist you today?
---
User: hi
Assistant: ! How can I assist you today? If you have any questions about BTH University or any other topic, feel free to ask.
---
User: can you recall our last conversation
Assistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: so what are you doing today
2025-10-10 22:36:49,056 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-ab9042ad-2046-4ae2-8353-5ed39aae4506', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: hi\nAssistant: ! How can I assist you today?\n---\nUser: hi\nAssistant: ! How can I assist you today? If you have any questions about BTH University or any other topic, feel free to ask.\n---\nUser: can you recall our last conversation\nAssistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: so what are you doing today", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 22:36:49,057 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 22:36:49,057 DEBUG close.started
2025-10-10 22:36:49,058 DEBUG close.complete
2025-10-10 22:36:49,058 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:36:49,112 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F1398F08C0>
2025-10-10 22:36:49,113 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F1378C0CD0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:36:49,222 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F13999C550>
2025-10-10 22:36:49,223 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:36:49,223 DEBUG send_request_headers.complete
2025-10-10 22:36:49,223 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:36:49,224 DEBUG send_request_body.complete
2025-10-10 22:36:49,224 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:36:49,622 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'946'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'097dcd74-4795-4094-a51e-0851444af7d5'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'273'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'bfcf3f97-dc6a-4a9b-b35b-04cf013e92e8'), (b'x-ms-client-request-id', b'097dcd74-4795-4094-a51e-0851444af7d5'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 20:36:49 GMT')])
2025-10-10 22:36:49,623 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:36:49,623 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:36:49,623 DEBUG receive_response_body.complete
2025-10-10 22:36:49,623 DEBUG response_closed.started
2025-10-10 22:36:49,623 DEBUG response_closed.complete
2025-10-10 22:36:49,624 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '946', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '097dcd74-4795-4094-a51e-0851444af7d5', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '273', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': 'bfcf3f97-dc6a-4a9b-b35b-04cf013e92e8', 'x-ms-client-request-id': '097dcd74-4795-4094-a51e-0851444af7d5', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 20:36:49 GMT'})
2025-10-10 22:36:49,624 DEBUG request_id: bfcf3f97-dc6a-4a9b-b35b-04cf013e92e8
2025-10-10 22:36:49,628 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-cdad847d-7a41-4d5b-975c-a89d7c4b6593', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F139938AE0>, 'json_data': {'input': [[1502, 25, 779, 1148, 527, 499, 3815, 3432, 72803, 25, 22103, 25, 358, 2846, 1618, 311, 7945, 499, 449, 904, 4860, 477, 9256, 499, 1253, 617, 13, 2209, 1070, 4205, 3230, 499, 4265, 1093, 311, 4358, 477, 68270, 922, 3432, 30]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:36:49,629 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:36:49,630 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:36:49,631 DEBUG send_request_headers.complete
2025-10-10 22:36:49,631 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:36:49,631 DEBUG send_request_body.complete
2025-10-10 22:36:49,631 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:36:49,737 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'3f60f07c-58b1-4a10-a02b-21cd17916e46'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149882'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'1ad234ac-4fc8-4bf3-b05c-37efc10d7d2b'), (b'azureml-model-session', b'd071-20250905050200'), (b'x-envoy-upstream-service-time', b'27'), (b'x-ms-client-request-id', b'3f60f07c-58b1-4a10-a02b-21cd17916e46'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"41"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:36:49 GMT')])
2025-10-10 22:36:49,737 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:36:49,738 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:36:49,738 DEBUG receive_response_body.complete
2025-10-10 22:36:49,738 DEBUG response_closed.started
2025-10-10 22:36:49,738 DEBUG response_closed.complete
2025-10-10 22:36:49,738 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '3f60f07c-58b1-4a10-a02b-21cd17916e46', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149882', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '1ad234ac-4fc8-4bf3-b05c-37efc10d7d2b', 'azureml-model-session': 'd071-20250905050200', 'x-envoy-upstream-service-time': '27', 'x-ms-client-request-id': '3f60f07c-58b1-4a10-a02b-21cd17916e46', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"41"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:36:49 GMT'})
2025-10-10 22:36:49,739 DEBUG request_id: 1ad234ac-4fc8-4bf3-b05c-37efc10d7d2b
2025-10-10 22:36:49,744 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34757'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'd8eece3d-a618-11f0-b0f3-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:36:49,819 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:36:49,821 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'd8eece3d-a618-11f0-b0f3-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:36:49 GMT'
2025-10-10 22:36:49,822 INFO 127.0.0.1 - - [10/Oct/2025 22:36:49] "POST /chat HTTP/1.1" 200 -
2025-10-10 22:37:24,820 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-c3cd392d-6388-4b2b-978e-ee33b656f47e', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F132FCD800>, 'json_data': {'input': [[12840, 527, 279, 1888, 7634, 311, 4034, 304, 279, 2064, 14466, 369, 38464]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:37:24,821 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:37:24,822 DEBUG close.started
2025-10-10 22:37:24,822 DEBUG close.complete
2025-10-10 22:37:24,823 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:37:24,963 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F1398F10E0>
2025-10-10 22:37:24,964 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F137F8F6B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:37:25,049 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F13999C190>
2025-10-10 22:37:25,049 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:37:25,049 DEBUG send_request_headers.complete
2025-10-10 22:37:25,050 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:37:25,050 DEBUG send_request_body.complete
2025-10-10 22:37:25,050 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:37:25,169 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'84d304e2-25a0-4d50-a861-8ffa0ce2bc55'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149869'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'c2027727-e8b3-40bd-9df9-83bd472c4b63'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'29'), (b'x-ms-client-request-id', b'84d304e2-25a0-4d50-a861-8ffa0ce2bc55'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"53575"},"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:37:25 GMT')])
2025-10-10 22:37:25,169 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:37:25,170 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:37:25,170 DEBUG receive_response_body.complete
2025-10-10 22:37:25,170 DEBUG response_closed.started
2025-10-10 22:37:25,170 DEBUG response_closed.complete
2025-10-10 22:37:25,170 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '84d304e2-25a0-4d50-a861-8ffa0ce2bc55', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149869', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': 'c2027727-e8b3-40bd-9df9-83bd472c4b63', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '29', 'x-ms-client-request-id': '84d304e2-25a0-4d50-a861-8ffa0ce2bc55', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"53575"},"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:37:25 GMT'})
2025-10-10 22:37:25,170 DEBUG request_id: c2027727-e8b3-40bd-9df9-83bd472c4b63
2025-10-10 22:37:25,212 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34268'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'ee12d956-a618-11f0-b5f3-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:37:25,302 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:37:25,303 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'ee12d956-a618-11f0-b5f3-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:37:24 GMT'
2025-10-10 22:37:25,308 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'ee2186e7-a618-11f0-9ae9-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:37:25,347 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:37:25,354 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'ee2186e7-a618-11f0-9ae9-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:37:24 GMT'
2025-10-10 22:37:25,354 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: tell me more about the places to visit near karlskrona in the month of july
Assistant: Certainly! In the month of July, Karlskrona and its surrounding areas have numerous beautiful places to visit. The archipelago of Karlskrona is a must-see, with its stunning islands and picturesque coastline perfect for summer relaxation. You can also visit the Naval Port of Karlskrona, a UNESCO World Heritage site, to learn about Sweden's maritime history. Additionally, the city's charming historic center, with its old naval buildings and quaint streets, is a lovely place to explore. If you're interested in outdoor activities, consider taking a boat tour, hiking along the coastal trails, or enjoying a swim at one of the many beaches in the region. If you have specific interests or activities you'd like to explore, feel free to let me know and I can provide more tailored recommendations!
---
User: can you tell me more about the places to visit during july month of july
Assistant: 
Based on our previous conversation, I can recommend exploring the archipelago of Karlskrona, the Naval Port of Karlskrona, and the historic center in July. You can also consider enjoying outdoor activities such as boat tours, coastal trail hikes, and beach visits. If you have any specific interests or activities you'd like to explore, feel free to let me know so I can provide more tailored recommendations!
---
User: can you tell me more about sweden as a technological country
Assistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: what are the best places to visit in the sweden for hiking
2025-10-10 22:37:25,356 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-757da5a3-408a-45bf-9e7b-ae1e2bdbd12a', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: tell me more about the places to visit near karlskrona in the month of july\nAssistant: Certainly! In the month of July, Karlskrona and its surrounding areas have numerous beautiful places to visit. The archipelago of Karlskrona is a must-see, with its stunning islands and picturesque coastline perfect for summer relaxation. You can also visit the Naval Port of Karlskrona, a UNESCO World Heritage site, to learn about Sweden's maritime history. Additionally, the city's charming historic center, with its old naval buildings and quaint streets, is a lovely place to explore. If you're interested in outdoor activities, consider taking a boat tour, hiking along the coastal trails, or enjoying a swim at one of the many beaches in the region. If you have specific interests or activities you'd like to explore, feel free to let me know and I can provide more tailored recommendations!\n---\nUser: can you tell me more about the places to visit during july month of july\nAssistant: \nBased on our previous conversation, I can recommend exploring the archipelago of Karlskrona, the Naval Port of Karlskrona, and the historic center in July. You can also consider enjoying outdoor activities such as boat tours, coastal trail hikes, and beach visits. If you have any specific interests or activities you'd like to explore, feel free to let me know so I can provide more tailored recommendations!\n---\nUser: can you tell me more about sweden as a technological country\nAssistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: what are the best places to visit in the sweden for hiking", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 22:37:25,356 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 22:37:25,357 DEBUG close.started
2025-10-10 22:37:25,357 DEBUG close.complete
2025-10-10 22:37:25,358 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:37:25,411 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F13999C690>
2025-10-10 22:37:25,411 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F1378C0CD0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:37:25,517 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F13999D770>
2025-10-10 22:37:25,517 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:37:25,518 DEBUG send_request_headers.complete
2025-10-10 22:37:25,518 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:37:25,518 DEBUG send_request_body.complete
2025-10-10 22:37:25,518 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:37:25,575 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 429, b'Too Many Requests', [(b'Content-Length', b'439'), (b'Content-Type', b'application/json'), (b'Retry-After', b'9'), (b'x-ratelimit-reset-tokens', b'9'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'apim-request-id', b'e32715f5-eed0-47b9-b5ae-0e975c899aad'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'policy-id', b'DeploymentRatelimit-Token'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'Date', b'Fri, 10 Oct 2025 20:37:25 GMT')])
2025-10-10 22:37:25,575 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 429 Too Many Requests"
2025-10-10 22:37:25,575 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:37:25,575 DEBUG receive_response_body.complete
2025-10-10 22:37:25,575 DEBUG response_closed.started
2025-10-10 22:37:25,576 DEBUG response_closed.complete
2025-10-10 22:37:25,576 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "429 Too Many Requests" Headers({'content-length': '439', 'content-type': 'application/json', 'retry-after': '9', 'x-ratelimit-reset-tokens': '9', 'x-ratelimit-limit-tokens': '1000', 'x-ms-deployment-name': 'gpt35-turbo', 'apim-request-id': 'e32715f5-eed0-47b9-b5ae-0e975c899aad', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'policy-id': 'DeploymentRatelimit-Token', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'date': 'Fri, 10 Oct 2025 20:37:25 GMT'})
2025-10-10 22:37:25,576 DEBUG request_id: None
2025-10-10 22:37:25,583 DEBUG Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\openai\_base_client.py", line 1027, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '429 Too Many Requests' for url 'https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-10-10 22:37:25,627 INFO  * Detected change in 'C:\\Users\\Aswin\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python313\\site-packages\\openai\\_base_client.py', reloading
2025-10-10 22:37:25,658 DEBUG Retrying due to status code 429
2025-10-10 22:37:25,659 INFO  * Detected change in 'C:\\Users\\Aswin\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python313\\site-packages\\httpx\\_models.py', reloading
2025-10-10 22:37:25,659 DEBUG 2 retries left
2025-10-10 22:37:25,660 INFO Retrying request to /chat/completions in 9.000000 seconds
2025-10-10 22:37:26,590 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 22:37:31,697 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 22:37:31,697 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 22:37:31,697 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 22:37:31,697 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 22:37:31,697 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 22:37:34,081 WARNING  * Debugger is active!
2025-10-10 22:37:34,097 INFO  * Debugger PIN: 127-213-732
2025-10-10 22:46:31,673 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 22:46:31,674 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 22:46:31,674 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 22:46:31,674 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 22:46:31,674 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 22:46:34,653 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://192.168.0.9:8000
2025-10-10 22:46:34,653 INFO [33mPress CTRL+C to quit[0m
2025-10-10 22:46:34,740 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 22:46:38,918 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 22:46:38,918 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 22:46:38,918 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 22:46:38,918 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 22:46:38,918 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 22:46:40,860 WARNING  * Debugger is active!
2025-10-10 22:46:40,873 INFO  * Debugger PIN: 127-213-732
2025-10-10 22:48:24,907 INFO 127.0.0.1 - - [10/Oct/2025 22:48:24] "GET / HTTP/1.1" 200 -
2025-10-10 22:48:40,635 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-2be9b431-0bb2-42bc-9bf6-dc68fbb3eb32', 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000020D504CD940>, 'json_data': {'input': [[6151]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:48:40,637 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:48:40,637 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:48:40,778 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000020D504B5FD0>
2025-10-10 22:48:40,778 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x0000020D4EF8F6B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:48:40,867 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000020D5042AFD0>
2025-10-10 22:48:40,868 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:48:40,868 DEBUG send_request_headers.complete
2025-10-10 22:48:40,869 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:48:40,869 DEBUG send_request_body.complete
2025-10-10 22:48:40,869 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:48:40,971 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'54e9f627-619c-4012-8acd-f7f4ad4f3ffb'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149999'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'07c53970-525c-4a46-bb8f-5ac5a16a104c'), (b'azureml-model-session', b'd072-20250905053909'), (b'x-envoy-upstream-service-time', b'30'), (b'x-ms-client-request-id', b'54e9f627-619c-4012-8acd-f7f4ad4f3ffb'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"509"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:48:41 GMT')])
2025-10-10 22:48:40,972 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:48:40,973 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:48:40,973 DEBUG receive_response_body.complete
2025-10-10 22:48:40,973 DEBUG response_closed.started
2025-10-10 22:48:40,974 DEBUG response_closed.complete
2025-10-10 22:48:40,974 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '54e9f627-619c-4012-8acd-f7f4ad4f3ffb', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149999', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '07c53970-525c-4a46-bb8f-5ac5a16a104c', 'azureml-model-session': 'd072-20250905053909', 'x-envoy-upstream-service-time': '30', 'x-ms-client-request-id': '54e9f627-619c-4012-8acd-f7f4ad4f3ffb', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"509"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:48:41 GMT'})
2025-10-10 22:48:40,974 DEBUG request_id: 07c53970-525c-4a46-bb8f-5ac5a16a104c
2025-10-10 22:48:41,415 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34276'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '811f28a1-a61a-11f0-aa7f-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:48:41,423 INFO  * Detected change in 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2288.0_x64__qbz5n2kfra8p0\\Lib\\netrc.py', reloading
2025-10-10 22:48:41,424 INFO  * Detected change in 'D:\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2288.0_x64__qbz5n2kfra8p0\\Lib\\netrc.py', reloading
2025-10-10 22:48:41,426 DEBUG Starting new HTTPS connection (1): deepchatbot.search.windows.net:443
2025-10-10 22:48:41,740 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:48:41,784 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '811f28a1-a61a-11f0-aa7f-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:48:42 GMT'
2025-10-10 22:48:41,790 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '815878de-a61a-11f0-a930-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:48:41,830 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:48:41,831 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '815878de-a61a-11f0-a930-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:48:42 GMT'
2025-10-10 22:48:41,832 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: hi
Assistant: ! How can I assist you today?
---
User: hi
Assistant: ! How can I assist you today? If you have any questions about BTH University or any other topic, feel free to ask.
---
User: so what are you doing today
Assistant: Assistant: I'm here to assist you with any questions or tasks you may have. Is there anything specific you'd like to discuss or inquire about today?

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: hi
2025-10-10 22:48:41,862 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-975a4bd2-06f5-4650-a821-e03a2b257159', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: hi\nAssistant: ! How can I assist you today?\n---\nUser: hi\nAssistant: ! How can I assist you today? If you have any questions about BTH University or any other topic, feel free to ask.\n---\nUser: so what are you doing today\nAssistant: Assistant: I'm here to assist you with any questions or tasks you may have. Is there anything specific you'd like to discuss or inquire about today?\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: hi", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 22:48:41,863 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 22:48:41,863 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:48:41,893 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000020D50A37ED0>
2025-10-10 22:48:41,893 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x0000020D4E8C0CD0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:48:42,498 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 22:48:46,157 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 22:48:46,157 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 22:48:46,157 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 22:48:46,157 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 22:48:46,157 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 22:48:47,970 WARNING  * Debugger is active!
2025-10-10 22:48:47,996 INFO  * Debugger PIN: 127-213-732
2025-10-10 22:48:48,370 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-001a7b9d-df27-45a0-98fd-7004b9ae1f80', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001ECF09B22A0>, 'json_data': {'input': [[6151]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:48:48,370 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:48:48,370 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:48:48,499 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF09B5FD0>
2025-10-10 22:48:48,500 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001ECF048F6B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:48:48,598 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF092A990>
2025-10-10 22:48:48,598 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:48:48,598 DEBUG send_request_headers.complete
2025-10-10 22:48:48,598 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:48:48,598 DEBUG send_request_body.complete
2025-10-10 22:48:48,598 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:48:48,725 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'47c6237e-4a3e-414d-a130-88b3da4269bf'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149998'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'f6a7fc62-b5df-4076-bbf9-a6cfd7b22335'), (b'azureml-model-session', b'd072-20250905053909'), (b'x-envoy-upstream-service-time', b'29'), (b'x-ms-client-request-id', b'47c6237e-4a3e-414d-a130-88b3da4269bf'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"104"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:48:48 GMT')])
2025-10-10 22:48:48,728 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:48:48,728 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:48:48,728 DEBUG receive_response_body.complete
2025-10-10 22:48:48,728 DEBUG response_closed.started
2025-10-10 22:48:48,728 DEBUG response_closed.complete
2025-10-10 22:48:48,728 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '47c6237e-4a3e-414d-a130-88b3da4269bf', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149998', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': 'f6a7fc62-b5df-4076-bbf9-a6cfd7b22335', 'azureml-model-session': 'd072-20250905053909', 'x-envoy-upstream-service-time': '29', 'x-ms-client-request-id': '47c6237e-4a3e-414d-a130-88b3da4269bf', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"104"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:48:48 GMT'})
2025-10-10 22:48:48,728 DEBUG request_id: f6a7fc62-b5df-4076-bbf9-a6cfd7b22335
2025-10-10 22:48:48,985 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34276'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '85a24f95-a61a-11f0-986b-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:48:48,991 DEBUG Starting new HTTPS connection (1): deepchatbot.search.windows.net:443
2025-10-10 22:48:49,670 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:48:49,739 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '85a24f95-a61a-11f0-986b-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:48:49 GMT'
2025-10-10 22:48:49,741 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '8615b5a8-a61a-11f0-8c24-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:48:49,809 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:48:49,809 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '8615b5a8-a61a-11f0-8c24-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:48:49 GMT'
2025-10-10 22:48:49,810 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: hi
Assistant: ! How can I assist you today?
---
User: hi
Assistant: ! How can I assist you today? If you have any questions about BTH University or any other topic, feel free to ask.
---
User: so what are you doing today
Assistant: Assistant: I'm here to assist you with any questions or tasks you may have. Is there anything specific you'd like to discuss or inquire about today?

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: hi
2025-10-10 22:48:49,826 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-9286dde7-0f26-4694-ae33-f8de9374dfb2', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: hi\nAssistant: ! How can I assist you today?\n---\nUser: hi\nAssistant: ! How can I assist you today? If you have any questions about BTH University or any other topic, feel free to ask.\n---\nUser: so what are you doing today\nAssistant: Assistant: I'm here to assist you with any questions or tasks you may have. Is there anything specific you'd like to discuss or inquire about today?\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: hi", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 22:48:49,826 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 22:48:49,826 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:48:49,872 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0AFFC50>
2025-10-10 22:48:49,872 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001ECEED70CD0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:48:49,980 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0B02780>
2025-10-10 22:48:49,980 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:48:49,980 DEBUG send_request_headers.complete
2025-10-10 22:48:49,980 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:48:49,981 DEBUG send_request_body.complete
2025-10-10 22:48:49,981 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:48:50,375 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'922'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'ac4c793b-a646-4f19-8e73-77d928daf556'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'815'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'8bf5efe4-1bf5-4baf-80f4-a057ef5bbf8e'), (b'x-ms-client-request-id', b'ac4c793b-a646-4f19-8e73-77d928daf556'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 20:48:50 GMT')])
2025-10-10 22:48:50,376 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:48:50,376 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:48:50,376 DEBUG receive_response_body.complete
2025-10-10 22:48:50,376 DEBUG response_closed.started
2025-10-10 22:48:50,377 DEBUG response_closed.complete
2025-10-10 22:48:50,377 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '922', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'ac4c793b-a646-4f19-8e73-77d928daf556', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '815', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': '8bf5efe4-1bf5-4baf-80f4-a057ef5bbf8e', 'x-ms-client-request-id': 'ac4c793b-a646-4f19-8e73-77d928daf556', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 20:48:50 GMT'})
2025-10-10 22:48:50,377 DEBUG request_id: 8bf5efe4-1bf5-4baf-80f4-a057ef5bbf8e
2025-10-10 22:48:50,386 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-08e2851e-bfb5-4df2-8b7a-9fd36f1bf930', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001ECEDA98EA0>, 'json_data': {'input': [[1502, 25, 15960, 72803, 25, 21694, 1070, 0, 2650, 649, 358, 7945, 499, 3432, 30, 1442, 499, 617, 904, 4860, 922, 426, 3701, 3907, 477, 904, 1023, 8712, 11, 2733, 1949, 311, 2610, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:48:50,387 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:48:50,387 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:48:50,387 DEBUG send_request_headers.complete
2025-10-10 22:48:50,387 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:48:50,387 DEBUG send_request_body.complete
2025-10-10 22:48:50,387 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:48:50,505 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'be7c1044-af0d-4d8e-b082-b2d668b721a6'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149964'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'fda2e4a2-4dd1-4298-ab03-abd6dd6a64cb'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'26'), (b'x-ms-client-request-id', b'be7c1044-af0d-4d8e-b082-b2d668b721a6'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"34"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:48:50 GMT')])
2025-10-10 22:48:50,506 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:48:50,506 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:48:50,506 DEBUG receive_response_body.complete
2025-10-10 22:48:50,506 DEBUG response_closed.started
2025-10-10 22:48:50,506 DEBUG response_closed.complete
2025-10-10 22:48:50,506 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'be7c1044-af0d-4d8e-b082-b2d668b721a6', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149964', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': 'fda2e4a2-4dd1-4298-ab03-abd6dd6a64cb', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '26', 'x-ms-client-request-id': 'be7c1044-af0d-4d8e-b082-b2d668b721a6', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"34"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:48:50 GMT'})
2025-10-10 22:48:50,506 DEBUG request_id: fda2e4a2-4dd1-4298-ab03-abd6dd6a64cb
2025-10-10 22:48:50,509 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34654'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '868acddc-a61a-11f0-8455-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:48:50,601 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:48:50,602 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '868acddc-a61a-11f0-8455-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:48:50 GMT'
2025-10-10 22:48:50,603 INFO 127.0.0.1 - - [10/Oct/2025 22:48:50] "POST /chat HTTP/1.1" 200 -
2025-10-10 22:49:03,086 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-e8fd9ae0-d7a9-41ba-b520-c793145b673d', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001ECEDA6FCE0>, 'json_data': {'input': [[4919, 499, 3371, 757, 922, 6463, 3195]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:49:03,087 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:49:03,087 DEBUG close.started
2025-10-10 22:49:03,088 DEBUG close.complete
2025-10-10 22:49:03,088 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:49:03,208 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0B035C0>
2025-10-10 22:49:03,208 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001ECF048F6B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:49:03,294 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0AF9A30>
2025-10-10 22:49:03,295 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:49:03,295 DEBUG send_request_headers.complete
2025-10-10 22:49:03,295 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:49:03,295 DEBUG send_request_body.complete
2025-10-10 22:49:03,296 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:49:03,512 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'02541777-d2d6-404b-a437-2c56a7b53d09'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149957'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'8366a255-f28d-4dea-9c74-07f958f3cb2b'), (b'azureml-model-session', b'd016-20250912193106'), (b'x-envoy-upstream-service-time', b'121'), (b'x-ms-client-request-id', b'02541777-d2d6-404b-a437-2c56a7b53d09'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"1","error_rate":"0","active_tokens":"7"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:49:03 GMT')])
2025-10-10 22:49:03,512 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:49:03,513 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:49:03,513 DEBUG receive_response_body.complete
2025-10-10 22:49:03,513 DEBUG response_closed.started
2025-10-10 22:49:03,513 DEBUG response_closed.complete
2025-10-10 22:49:03,513 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '02541777-d2d6-404b-a437-2c56a7b53d09', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149957', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '8366a255-f28d-4dea-9c74-07f958f3cb2b', 'azureml-model-session': 'd016-20250912193106', 'x-envoy-upstream-service-time': '121', 'x-ms-client-request-id': '02541777-d2d6-404b-a437-2c56a7b53d09', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"1","error_rate":"0","active_tokens":"7"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:49:03 GMT'})
2025-10-10 22:49:03,513 DEBUG request_id: 8366a255-f28d-4dea-9c74-07f958f3cb2b
2025-10-10 22:49:03,544 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34253'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '8e4fd58e-a61a-11f0-9ac9-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:49:03,641 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:49:03,683 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '8e4fd58e-a61a-11f0-9ac9-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:49:03 GMT'
2025-10-10 22:49:03,692 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '8e6669bf-a61a-11f0-8109-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:49:03,742 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:49:03,743 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '8e6669bf-a61a-11f0-8109-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:49:03 GMT'
2025-10-10 22:49:03,744 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: can you tell me more about sweden as a technological country
Assistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!
---
User: can you tell me more about the places to visit during july month of july
Assistant: 
Based on our previous conversation, I can recommend exploring the archipelago of Karlskrona, the Naval Port of Karlskrona, and the historic center in July. You can also consider enjoying outdoor activities such as boat tours, coastal trail hikes, and beach visits. If you have any specific interests or activities you'd like to explore, feel free to let me know so I can provide more tailored recommendations!
---
User: can you recall our last conversation
Assistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: can you tell me about norway
2025-10-10 22:49:03,747 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-cbe7380d-619a-4854-a0b1-344587caa5c7', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: can you tell me more about sweden as a technological country\nAssistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!\n---\nUser: can you tell me more about the places to visit during july month of july\nAssistant: \nBased on our previous conversation, I can recommend exploring the archipelago of Karlskrona, the Naval Port of Karlskrona, and the historic center in July. You can also consider enjoying outdoor activities such as boat tours, coastal trail hikes, and beach visits. If you have any specific interests or activities you'd like to explore, feel free to let me know so I can provide more tailored recommendations!\n---\nUser: can you recall our last conversation\nAssistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: can you tell me about norway", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 22:49:03,748 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 22:49:03,749 DEBUG close.started
2025-10-10 22:49:03,750 DEBUG close.complete
2025-10-10 22:49:03,750 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:49:03,802 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0F8ACF0>
2025-10-10 22:49:03,802 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001ECEED70CD0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:49:03,905 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0F8AE00>
2025-10-10 22:49:03,905 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:49:03,905 DEBUG send_request_headers.complete
2025-10-10 22:49:03,906 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:49:03,906 DEBUG send_request_body.complete
2025-10-10 22:49:03,906 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:49:04,626 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'1285'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'643fe054-1f6e-47d0-98ba-caaf8e6a47be'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'343'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'76b9eee4-7cda-4082-afa9-4d1fe1612677'), (b'x-ms-client-request-id', b'643fe054-1f6e-47d0-98ba-caaf8e6a47be'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 20:49:04 GMT')])
2025-10-10 22:49:04,627 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:49:04,628 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:49:04,628 DEBUG receive_response_body.complete
2025-10-10 22:49:04,628 DEBUG response_closed.started
2025-10-10 22:49:04,628 DEBUG response_closed.complete
2025-10-10 22:49:04,629 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '1285', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '643fe054-1f6e-47d0-98ba-caaf8e6a47be', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '343', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': '76b9eee4-7cda-4082-afa9-4d1fe1612677', 'x-ms-client-request-id': '643fe054-1f6e-47d0-98ba-caaf8e6a47be', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 20:49:04 GMT'})
2025-10-10 22:49:04,629 DEBUG request_id: 76b9eee4-7cda-4082-afa9-4d1fe1612677
2025-10-10 22:49:04,632 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-0502a5b0-56c1-47c4-a3e9-3682eaafcb63', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001ECF09B1EE0>, 'json_data': {'input': [[1502, 25, 649, 499, 3371, 757, 922, 6463, 3195, 72803, 25, 32603, 374, 3967, 369, 1202, 20441, 5933, 55890, 11, 2737, 76471, 2311, 11, 24405, 11, 323, 35335, 5789, 13, 578, 3224, 1101, 706, 264, 3831, 25679, 389, 41329, 323, 19297, 11, 4528, 311, 24067, 13, 9086, 24067, 11, 32603, 374, 1101, 3967, 369, 1202, 83787, 304, 33268, 4907, 323, 12434, 28271, 13, 1442, 499, 617, 3230, 4860, 922, 32603, 596, 30116, 83787, 477, 904, 4040, 13189, 315, 45721, 5557, 11, 358, 4265, 387, 6380, 311, 3493, 810, 2038, 3196, 389, 701, 12034, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:49:04,633 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:49:04,633 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:49:04,634 DEBUG send_request_headers.complete
2025-10-10 22:49:04,634 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:49:04,635 DEBUG send_request_body.complete
2025-10-10 22:49:04,635 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:49:04,762 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'430849fa-af02-42ac-b85e-6cfe80e6a7d8'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149863'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'129598cc-ccfd-4d6e-a58c-62c29eb296e1'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'35'), (b'x-ms-client-request-id', b'430849fa-af02-42ac-b85e-6cfe80e6a7d8'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"94"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:49:04 GMT')])
2025-10-10 22:49:04,763 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:49:04,763 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:49:04,763 DEBUG receive_response_body.complete
2025-10-10 22:49:04,763 DEBUG response_closed.started
2025-10-10 22:49:04,763 DEBUG response_closed.complete
2025-10-10 22:49:04,764 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '430849fa-af02-42ac-b85e-6cfe80e6a7d8', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149863', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '129598cc-ccfd-4d6e-a58c-62c29eb296e1', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '35', 'x-ms-client-request-id': '430849fa-af02-42ac-b85e-6cfe80e6a7d8', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"94"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:49:04 GMT'})
2025-10-10 22:49:04,764 DEBUG request_id: 129598cc-ccfd-4d6e-a58c-62c29eb296e1
2025-10-10 22:49:04,768 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35459'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '8f0aa4b2-a61a-11f0-aab4-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:49:04,852 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:49:04,854 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '8f0aa4b2-a61a-11f0-aab4-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:49:05 GMT'
2025-10-10 22:49:04,856 INFO 127.0.0.1 - - [10/Oct/2025 22:49:04] "POST /chat HTTP/1.1" 200 -
2025-10-10 22:49:38,686 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-567da1f8-4efb-4af2-b0ff-aace42564abd', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001ECF0CE4040>, 'json_data': {'input': [[3055, 6463, 3195, 617, 264, 5707, 3300, 304, 603, 5708, 3157]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:49:38,688 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:49:38,689 DEBUG close.started
2025-10-10 22:49:38,689 DEBUG close.complete
2025-10-10 22:49:38,690 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:49:38,824 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0B06250>
2025-10-10 22:49:38,824 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001ECF048F6B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:49:38,909 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0B06750>
2025-10-10 22:49:38,909 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:49:38,910 DEBUG send_request_headers.complete
2025-10-10 22:49:38,910 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:49:38,910 DEBUG send_request_body.complete
2025-10-10 22:49:38,910 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:49:39,057 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'0e1e5ba3-5a7e-46bd-a32c-e11522221c7e'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149852'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'7b2c5b68-f5b4-4cab-a847-02a6c67e53c4'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'31'), (b'x-ms-client-request-id', b'0e1e5ba3-5a7e-46bd-a32c-e11522221c7e'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"11"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:49:38 GMT')])
2025-10-10 22:49:39,058 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:49:39,058 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:49:39,058 DEBUG receive_response_body.complete
2025-10-10 22:49:39,059 DEBUG response_closed.started
2025-10-10 22:49:39,059 DEBUG response_closed.complete
2025-10-10 22:49:39,059 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '0e1e5ba3-5a7e-46bd-a32c-e11522221c7e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149852', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '7b2c5b68-f5b4-4cab-a847-02a6c67e53c4', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '31', 'x-ms-client-request-id': '0e1e5ba3-5a7e-46bd-a32c-e11522221c7e', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"11"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:49:38 GMT'})
2025-10-10 22:49:39,059 DEBUG request_id: 7b2c5b68-f5b4-4cab-a847-02a6c67e53c4
2025-10-10 22:49:39,102 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34288'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'a38190d4-a61a-11f0-a219-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:49:39,195 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:49:39,197 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'a38190d4-a61a-11f0-a219-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:49:39 GMT'
2025-10-10 22:49:39,204 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'a3912730-a61a-11f0-9ed0-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:49:39,246 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:49:39,248 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'a3912730-a61a-11f0-9ed0-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:49:39 GMT'
2025-10-10 22:49:39,249 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: can you tell me about norway
Assistant: Norway is known for its stunning natural landscapes, including fjords, mountains, and coastal areas. The country also has a strong emphasis on sustainability and innovation, similar to Sweden. Like Sweden, Norway is also known for its advancements in renewable energy and environmental initiatives. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.
---
User: can you tell me more about sweden as a technological country
Assistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!
---
User: can you recall our last conversation
Assistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: do norway have a oil money in us stock market
2025-10-10 22:49:39,252 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-b0a8b7f1-2ff3-4dc6-84b9-f18fd16ff7af', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: can you tell me about norway\nAssistant: Norway is known for its stunning natural landscapes, including fjords, mountains, and coastal areas. The country also has a strong emphasis on sustainability and innovation, similar to Sweden. Like Sweden, Norway is also known for its advancements in renewable energy and environmental initiatives. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.\n---\nUser: can you tell me more about sweden as a technological country\nAssistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!\n---\nUser: can you recall our last conversation\nAssistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: do norway have a oil money in us stock market", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 22:49:39,253 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 22:49:39,253 DEBUG close.started
2025-10-10 22:49:39,254 DEBUG close.complete
2025-10-10 22:49:39,254 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:49:39,295 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0B718B0>
2025-10-10 22:49:39,295 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001ECEED70CD0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:49:39,385 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0B717C0>
2025-10-10 22:49:39,385 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:49:39,386 DEBUG send_request_headers.complete
2025-10-10 22:49:39,386 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:49:39,387 DEBUG send_request_body.complete
2025-10-10 22:49:39,387 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:49:39,435 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 429, b'Too Many Requests', [(b'Content-Length', b'440'), (b'Content-Type', b'application/json'), (b'Retry-After', b'11'), (b'x-ratelimit-reset-tokens', b'11'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'apim-request-id', b'32dc8639-3550-4b0c-9f1e-7c7a55e1cc3e'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'policy-id', b'DeploymentRatelimit-Token'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'Date', b'Fri, 10 Oct 2025 20:49:39 GMT')])
2025-10-10 22:49:39,436 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 429 Too Many Requests"
2025-10-10 22:49:39,436 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:49:39,436 DEBUG receive_response_body.complete
2025-10-10 22:49:39,436 DEBUG response_closed.started
2025-10-10 22:49:39,436 DEBUG response_closed.complete
2025-10-10 22:49:39,437 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "429 Too Many Requests" Headers({'content-length': '440', 'content-type': 'application/json', 'retry-after': '11', 'x-ratelimit-reset-tokens': '11', 'x-ratelimit-limit-tokens': '1000', 'x-ms-deployment-name': 'gpt35-turbo', 'apim-request-id': '32dc8639-3550-4b0c-9f1e-7c7a55e1cc3e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'policy-id': 'DeploymentRatelimit-Token', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'date': 'Fri, 10 Oct 2025 20:49:39 GMT'})
2025-10-10 22:49:39,437 DEBUG request_id: None
2025-10-10 22:49:39,437 DEBUG Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\openai\_base_client.py", line 1027, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '429 Too Many Requests' for url 'https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-10-10 22:49:39,447 DEBUG Retrying due to status code 429
2025-10-10 22:49:39,447 DEBUG 2 retries left
2025-10-10 22:49:39,448 INFO Retrying request to /chat/completions in 11.000000 seconds
2025-10-10 22:49:50,449 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-b0a8b7f1-2ff3-4dc6-84b9-f18fd16ff7af', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: can you tell me about norway\nAssistant: Norway is known for its stunning natural landscapes, including fjords, mountains, and coastal areas. The country also has a strong emphasis on sustainability and innovation, similar to Sweden. Like Sweden, Norway is also known for its advancements in renewable energy and environmental initiatives. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.\n---\nUser: can you tell me more about sweden as a technological country\nAssistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!\n---\nUser: can you recall our last conversation\nAssistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: do norway have a oil money in us stock market", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 22:49:50,451 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 22:49:50,452 DEBUG close.started
2025-10-10 22:49:50,452 DEBUG close.complete
2025-10-10 22:49:50,452 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:49:50,568 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0CB4AD0>
2025-10-10 22:49:50,568 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001ECEED70CD0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:49:50,658 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0CB7D90>
2025-10-10 22:49:50,659 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:49:50,659 DEBUG send_request_headers.complete
2025-10-10 22:49:50,660 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:49:50,660 DEBUG send_request_body.complete
2025-10-10 22:49:50,660 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:49:51,578 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'1392'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'2df7f39f-6f97-4b25-9d19-99f04d593331'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'44'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'038a164d-c9de-49a5-a2ba-87427c8e92a4'), (b'x-ms-client-request-id', b'2df7f39f-6f97-4b25-9d19-99f04d593331'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 20:49:51 GMT')])
2025-10-10 22:49:51,579 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:49:51,579 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:49:51,580 DEBUG receive_response_body.complete
2025-10-10 22:49:51,580 DEBUG response_closed.started
2025-10-10 22:49:51,580 DEBUG response_closed.complete
2025-10-10 22:49:51,580 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '1392', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '2df7f39f-6f97-4b25-9d19-99f04d593331', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '44', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': '038a164d-c9de-49a5-a2ba-87427c8e92a4', 'x-ms-client-request-id': '2df7f39f-6f97-4b25-9d19-99f04d593331', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 20:49:51 GMT'})
2025-10-10 22:49:51,580 DEBUG request_id: 038a164d-c9de-49a5-a2ba-87427c8e92a4
2025-10-10 22:49:51,583 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-f60db7bf-0597-4fb4-9a25-6daaf3b6d056', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001ECF0B97BA0>, 'json_data': {'input': [[1502, 25, 656, 6463, 3195, 617, 264, 5707, 3300, 304, 603, 5708, 3157, 72803, 25, 20817, 389, 1057, 3766, 21633, 11, 32603, 1587, 13118, 617, 264, 5199, 9546, 304, 279, 2326, 5708, 3157, 11, 8104, 1555, 1202, 46384, 12205, 3887, 11, 902, 374, 832, 315, 279, 1917, 596, 7928, 13, 578, 3887, 11, 3967, 439, 279, 10423, 81557, 13492, 8121, 11, 706, 29091, 17345, 304, 2326, 23301, 11, 2737, 3682, 5220, 1093, 8325, 11, 5210, 11, 323, 8339, 13, 1115, 706, 5535, 32603, 311, 8935, 505, 279, 4780, 323, 56364, 8066, 555, 1521, 22538, 13, 1442, 499, 2351, 8173, 304, 810, 3230, 3649, 477, 9013, 389, 32603, 596, 22538, 304, 279, 2326, 5708, 3157, 11, 358, 4265, 387, 6380, 311, 3493, 4726, 2038, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:49:51,584 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:49:51,585 DEBUG close.started
2025-10-10 22:49:51,585 DEBUG close.complete
2025-10-10 22:49:51,585 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:49:51,627 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0B53860>
2025-10-10 22:49:51,627 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001ECF048F6B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:49:51,728 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0BA7350>
2025-10-10 22:49:51,728 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:49:51,729 DEBUG send_request_headers.complete
2025-10-10 22:49:51,729 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:49:51,729 DEBUG send_request_body.complete
2025-10-10 22:49:51,729 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:49:51,855 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8418'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'447752b2-f92e-4b56-9542-f71b33856315'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149764'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'e6fcdeb5-8669-47ec-aaf2-2726e6e9104d'), (b'azureml-model-session', b'd071-20250905050200'), (b'x-envoy-upstream-service-time', b'31'), (b'x-ms-client-request-id', b'447752b2-f92e-4b56-9542-f71b33856315'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"124"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:49:51 GMT')])
2025-10-10 22:49:51,855 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:49:51,856 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:49:51,856 DEBUG receive_response_body.complete
2025-10-10 22:49:51,856 DEBUG response_closed.started
2025-10-10 22:49:51,856 DEBUG response_closed.complete
2025-10-10 22:49:51,856 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8418', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '447752b2-f92e-4b56-9542-f71b33856315', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149764', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': 'e6fcdeb5-8669-47ec-aaf2-2726e6e9104d', 'azureml-model-session': 'd071-20250905050200', 'x-envoy-upstream-service-time': '31', 'x-ms-client-request-id': '447752b2-f92e-4b56-9542-f71b33856315', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"124"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:49:51 GMT'})
2025-10-10 22:49:51,856 DEBUG request_id: e6fcdeb5-8669-47ec-aaf2-2726e6e9104d
2025-10-10 22:49:51,863 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35680'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'ab1cb104-a61a-11f0-ba87-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:49:51,966 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:49:51,967 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'ab1cb104-a61a-11f0-ba87-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:49:52 GMT'
2025-10-10 22:49:51,968 INFO 127.0.0.1 - - [10/Oct/2025 22:49:51] "POST /chat HTTP/1.1" 200 -
2025-10-10 22:53:24,623 INFO 127.0.0.1 - - [10/Oct/2025 22:53:24] "[36mGET / HTTP/1.1[0m" 304 -
2025-10-10 22:54:40,326 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-7766064e-140b-4f7a-9853-963dc03bcddc', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001ECF0D8F920>, 'json_data': {'input': [[4919, 499, 3371, 757, 1148, 3224, 584, 617, 15243, 922, 1023, 1109, 2064, 14466]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:54:40,328 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:54:40,328 DEBUG close.started
2025-10-10 22:54:40,329 DEBUG close.complete
2025-10-10 22:54:40,329 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:54:40,467 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0D86ED0>
2025-10-10 22:54:40,468 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001ECF048F6B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:54:40,554 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0FAAA40>
2025-10-10 22:54:40,555 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:54:40,556 DEBUG send_request_headers.complete
2025-10-10 22:54:40,556 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:54:40,556 DEBUG send_request_body.complete
2025-10-10 22:54:40,556 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:54:40,686 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'df87bee0-444f-419e-b3bc-215d20179ea4'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149986'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'76bdae94-211d-44b3-95d9-21f3c2de5203'), (b'azureml-model-session', b'd072-20250905053909'), (b'x-envoy-upstream-service-time', b'32'), (b'x-ms-client-request-id', b'df87bee0-444f-419e-b3bc-215d20179ea4'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"14"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:54:40 GMT')])
2025-10-10 22:54:40,687 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:54:40,687 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:54:40,687 DEBUG receive_response_body.complete
2025-10-10 22:54:40,687 DEBUG response_closed.started
2025-10-10 22:54:40,688 DEBUG response_closed.complete
2025-10-10 22:54:40,688 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'df87bee0-444f-419e-b3bc-215d20179ea4', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149986', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '76bdae94-211d-44b3-95d9-21f3c2de5203', 'azureml-model-session': 'd072-20250905053909', 'x-envoy-upstream-service-time': '32', 'x-ms-client-request-id': 'df87bee0-444f-419e-b3bc-215d20179ea4', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"14"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:54:40 GMT'})
2025-10-10 22:54:40,688 DEBUG request_id: 76bdae94-211d-44b3-95d9-21f3c2de5203
2025-10-10 22:54:40,725 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34334'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '57498090-a61b-11f0-b93a-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:54:40,726 DEBUG Resetting dropped connection: deepchatbot.search.windows.net
2025-10-10 22:54:41,007 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:54:41,044 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '57498090-a61b-11f0-b93a-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:54:41 GMT'
2025-10-10 22:54:41,053 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '577b9d9c-a61b-11f0-a283-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:54:41,099 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:54:41,100 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '577b9d9c-a61b-11f0-a283-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:54:41 GMT'
2025-10-10 22:54:41,102 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: can you recall our last conversation
Assistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?
---
User: can you tell me more about sweden as a technological country
Assistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!
---
User: can you change the tone of the chat more swedish and english missed one
Assistant: Assistant: Sure, I can certainly mix Swedish and English in our conversation to create a more authentic experience for you. How can I assist you further in exploring Swedish culture and travel recommendations?

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: can you tell me what country we have talked about other than sweden
2025-10-10 22:54:41,104 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-71dd876f-55af-46f9-bf47-d707daf984a7', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: can you recall our last conversation\nAssistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?\n---\nUser: can you tell me more about sweden as a technological country\nAssistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!\n---\nUser: can you change the tone of the chat more swedish and english missed one\nAssistant: Assistant: Sure, I can certainly mix Swedish and English in our conversation to create a more authentic experience for you. How can I assist you further in exploring Swedish culture and travel recommendations?\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: can you tell me what country we have talked about other than sweden", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 22:54:41,105 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 22:54:41,106 DEBUG close.started
2025-10-10 22:54:41,107 DEBUG close.complete
2025-10-10 22:54:41,107 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:54:41,144 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0FAA830>
2025-10-10 22:54:41,144 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001ECEED70CD0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:54:41,237 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0D8F430>
2025-10-10 22:54:41,237 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:54:41,238 DEBUG send_request_headers.complete
2025-10-10 22:54:41,238 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:54:41,239 DEBUG send_request_body.complete
2025-10-10 22:54:41,239 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:54:41,863 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'1051'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'330c0627-76d3-4d74-b6c6-801755bf6b13'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'569'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'3acc5f1c-b060-410b-93fe-b599de35eb17'), (b'x-ms-client-request-id', b'330c0627-76d3-4d74-b6c6-801755bf6b13'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 20:54:41 GMT')])
2025-10-10 22:54:41,863 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:54:41,863 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:54:41,863 DEBUG receive_response_body.complete
2025-10-10 22:54:41,863 DEBUG response_closed.started
2025-10-10 22:54:41,863 DEBUG response_closed.complete
2025-10-10 22:54:41,863 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '1051', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '330c0627-76d3-4d74-b6c6-801755bf6b13', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '569', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': '3acc5f1c-b060-410b-93fe-b599de35eb17', 'x-ms-client-request-id': '330c0627-76d3-4d74-b6c6-801755bf6b13', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 20:54:41 GMT'})
2025-10-10 22:54:41,863 DEBUG request_id: 3acc5f1c-b060-410b-93fe-b599de35eb17
2025-10-10 22:54:41,865 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-653b342b-07c4-4d07-9e96-fa1ea264a254', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001ECF0D8F2E0>, 'json_data': {'input': [[1502, 25, 649, 499, 3371, 757, 1148, 3224, 584, 617, 15243, 922, 1023, 1109, 2064, 14466, 72803, 25, 22103, 25, 7566, 11, 584, 617, 14407, 24067, 439, 264, 30116, 3224, 304, 1057, 3766, 21633, 13, 1442, 499, 1053, 1093, 311, 13488, 1023, 5961, 477, 13650, 11, 2733, 1949, 311, 1095, 757, 1440, 323, 358, 649, 3493, 2038, 323, 26793, 3196, 389, 1057, 3347, 20954, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:54:41,866 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:54:41,866 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:54:41,866 DEBUG send_request_headers.complete
2025-10-10 22:54:41,866 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:54:41,866 DEBUG send_request_body.complete
2025-10-10 22:54:41,866 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:54:42,093 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'fae452bb-44ff-4029-8a47-cf29b3f4fdcb'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149921'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'04bc8164-0052-4a1a-9c42-54499857b81f'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'27'), (b'x-ms-client-request-id', b'fae452bb-44ff-4029-8a47-cf29b3f4fdcb'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"95"},"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:54:42 GMT')])
2025-10-10 22:54:42,093 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:54:42,093 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:54:42,093 DEBUG receive_response_body.complete
2025-10-10 22:54:42,093 DEBUG response_closed.started
2025-10-10 22:54:42,093 DEBUG response_closed.complete
2025-10-10 22:54:42,093 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'fae452bb-44ff-4029-8a47-cf29b3f4fdcb', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149921', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '04bc8164-0052-4a1a-9c42-54499857b81f', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '27', 'x-ms-client-request-id': 'fae452bb-44ff-4029-8a47-cf29b3f4fdcb', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"95"},"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:54:42 GMT'})
2025-10-10 22:54:42,094 DEBUG request_id: 04bc8164-0052-4a1a-9c42-54499857b81f
2025-10-10 22:54:42,096 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35126'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '581ac4eb-a61b-11f0-9d15-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:54:42,180 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:54:42,181 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '581ac4eb-a61b-11f0-9d15-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:54:42 GMT'
2025-10-10 22:54:42,182 INFO 127.0.0.1 - - [10/Oct/2025 22:54:42] "POST /chat HTTP/1.1" 200 -
2025-10-10 22:54:58,428 INFO 127.0.0.1 - - [10/Oct/2025 22:54:58] "[36mGET / HTTP/1.1[0m" 304 -
2025-10-10 22:55:32,686 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-4fe938e6-32af-4f2c-9914-abb7d143e422', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001ECF0D8DB20>, 'json_data': {'input': [[12840, 374, 279, 3224, 584, 617, 15243, 922, 1023, 1109, 2064, 14466, 304, 704, 3766, 21633]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:55:32,686 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:55:32,687 DEBUG close.started
2025-10-10 22:55:32,687 DEBUG close.complete
2025-10-10 22:55:32,687 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:55:32,835 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0D8D8B0>
2025-10-10 22:55:32,835 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001ECF048F6B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:55:32,923 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0D0BC80>
2025-10-10 22:55:32,923 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:55:32,923 DEBUG send_request_headers.complete
2025-10-10 22:55:32,923 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:55:32,924 DEBUG send_request_body.complete
2025-10-10 22:55:32,924 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:55:33,033 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'cad3ae6b-4387-4288-aa3b-d644726bfeea'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149905'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'e5d07e40-1711-4a53-8982-094d8abe6baf'), (b'azureml-model-session', b'd072-20250905053909'), (b'x-envoy-upstream-service-time', b'30'), (b'x-ms-client-request-id', b'cad3ae6b-4387-4288-aa3b-d644726bfeea'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"16"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:55:33 GMT')])
2025-10-10 22:55:33,034 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:55:33,034 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:55:33,034 DEBUG receive_response_body.complete
2025-10-10 22:55:33,034 DEBUG response_closed.started
2025-10-10 22:55:33,034 DEBUG response_closed.complete
2025-10-10 22:55:33,034 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'cad3ae6b-4387-4288-aa3b-d644726bfeea', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149905', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': 'e5d07e40-1711-4a53-8982-094d8abe6baf', 'azureml-model-session': 'd072-20250905053909', 'x-envoy-upstream-service-time': '30', 'x-ms-client-request-id': 'cad3ae6b-4387-4288-aa3b-d644726bfeea', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"16"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:55:33 GMT'})
2025-10-10 22:55:33,035 DEBUG request_id: e5d07e40-1711-4a53-8982-094d8abe6baf
2025-10-10 22:55:33,065 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34373'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '767c0018-a61b-11f0-8677-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:55:33,154 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:55:33,156 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '767c0018-a61b-11f0-8677-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:55:32 GMT'
2025-10-10 22:55:33,165 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '768b45a8-a61b-11f0-bcc6-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:55:33,201 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:55:33,202 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '768b45a8-a61b-11f0-bcc6-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:55:32 GMT'
2025-10-10 22:55:33,203 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: can you tell me what country we have talked about other than sweden
Assistant: Assistant: Yes, we have discussed Sweden as a technological country in our previous conversations. If you would like to explore other countries or topics, feel free to let me know and I can provide information and insights based on our past discussions.
---
User: can you recall our last conversation
Assistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?
---
User: can you tell me more about sweden as a technological country
Assistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: what is the country we have talked about other than sweden in out previous conversations
2025-10-10 22:55:33,204 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-4fbda219-dd5f-4f77-ae27-a22296300c50', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: can you tell me what country we have talked about other than sweden\nAssistant: Assistant: Yes, we have discussed Sweden as a technological country in our previous conversations. If you would like to explore other countries or topics, feel free to let me know and I can provide information and insights based on our past discussions.\n---\nUser: can you recall our last conversation\nAssistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?\n---\nUser: can you tell me more about sweden as a technological country\nAssistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: what is the country we have talked about other than sweden in out previous conversations", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 22:55:33,205 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 22:55:33,205 DEBUG close.started
2025-10-10 22:55:33,205 DEBUG close.complete
2025-10-10 22:55:33,205 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:55:33,251 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0CD3750>
2025-10-10 22:55:33,251 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001ECEED70CD0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:55:33,337 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0CD8A50>
2025-10-10 22:55:33,337 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:55:33,338 DEBUG send_request_headers.complete
2025-10-10 22:55:33,338 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:55:33,338 DEBUG send_request_body.complete
2025-10-10 22:55:33,338 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:55:33,846 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'1064'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'e654da20-9ed0-416b-b7bb-9afab86f5774'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'123'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'69047684-845c-4f0c-923e-e5496045f71a'), (b'x-ms-client-request-id', b'e654da20-9ed0-416b-b7bb-9afab86f5774'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 20:55:33 GMT')])
2025-10-10 22:55:33,846 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:55:33,846 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:55:33,847 DEBUG receive_response_body.complete
2025-10-10 22:55:33,847 DEBUG response_closed.started
2025-10-10 22:55:33,847 DEBUG response_closed.complete
2025-10-10 22:55:33,847 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '1064', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'e654da20-9ed0-416b-b7bb-9afab86f5774', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '123', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': '69047684-845c-4f0c-923e-e5496045f71a', 'x-ms-client-request-id': 'e654da20-9ed0-416b-b7bb-9afab86f5774', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 20:55:33 GMT'})
2025-10-10 22:55:33,847 DEBUG request_id: 69047684-845c-4f0c-923e-e5496045f71a
2025-10-10 22:55:33,848 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-36b93f9d-52b2-417b-afb2-421875ed37ff', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001ECF0D8DB20>, 'json_data': {'input': [[1502, 25, 1148, 374, 279, 3224, 584, 617, 15243, 922, 1023, 1109, 2064, 14466, 304, 704, 3766, 21633, 72803, 25, 22103, 25, 763, 1057, 3766, 21633, 11, 584, 617, 14407, 24067, 439, 264, 2869, 30450, 11084, 3224, 13, 1442, 499, 527, 8173, 304, 24919, 1023, 5961, 477, 13650, 11, 2733, 1949, 311, 1095, 757, 1440, 323, 358, 649, 3493, 2038, 323, 26793, 3196, 389, 1057, 3347, 20954, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:55:33,848 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:55:33,849 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:55:33,849 DEBUG send_request_headers.complete
2025-10-10 22:55:33,849 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:55:33,849 DEBUG send_request_body.complete
2025-10-10 22:55:33,849 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:55:33,957 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'daf2d8f6-8a6c-4fc4-8857-426adb1b8068'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149837'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'd931d502-1e9e-441b-b553-562e56623582'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'33'), (b'x-ms-client-request-id', b'daf2d8f6-8a6c-4fc4-8857-426adb1b8068'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"68"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:55:34 GMT')])
2025-10-10 22:55:33,958 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:55:33,959 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:55:33,959 DEBUG receive_response_body.complete
2025-10-10 22:55:33,959 DEBUG response_closed.started
2025-10-10 22:55:33,959 DEBUG response_closed.complete
2025-10-10 22:55:33,960 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'daf2d8f6-8a6c-4fc4-8857-426adb1b8068', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149837', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': 'd931d502-1e9e-441b-b553-562e56623582', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '33', 'x-ms-client-request-id': 'daf2d8f6-8a6c-4fc4-8857-426adb1b8068', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"68"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:55:34 GMT'})
2025-10-10 22:55:33,960 DEBUG request_id: d931d502-1e9e-441b-b553-562e56623582
2025-10-10 22:55:33,967 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35139'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '7705abbc-a61b-11f0-b56c-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:55:34,046 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:55:34,047 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '7705abbc-a61b-11f0-b56c-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:55:34 GMT'
2025-10-10 22:55:34,049 INFO 127.0.0.1 - - [10/Oct/2025 22:55:34] "POST /chat HTTP/1.1" 200 -
2025-10-10 22:55:58,112 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-54ef4240-71df-43bd-bf08-31b03ec7df8f', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001ECF0D8CCC0>, 'json_data': {'input': [[5269, 1690, 5961, 584, 617, 14407]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:55:58,113 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:55:58,114 DEBUG close.started
2025-10-10 22:55:58,114 DEBUG close.complete
2025-10-10 22:55:58,114 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:55:58,256 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0D5E740>
2025-10-10 22:55:58,256 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001ECF048F6B0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:55:58,344 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0D5EF20>
2025-10-10 22:55:58,344 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:55:58,345 DEBUG send_request_headers.complete
2025-10-10 22:55:58,345 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:55:58,345 DEBUG send_request_body.complete
2025-10-10 22:55:58,345 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:55:58,941 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'782b462a-1ef2-403e-a124-f6fb323414b1'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149910'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'4f559c7e-2c37-42fa-85c1-98e3774a381f'), (b'azureml-model-session', b'd072-20250905053909'), (b'x-envoy-upstream-service-time', b'510'), (b'x-ms-client-request-id', b'782b462a-1ef2-403e-a124-f6fb323414b1'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"6"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:55:58 GMT')])
2025-10-10 22:55:58,942 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:55:58,942 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:55:58,942 DEBUG receive_response_body.complete
2025-10-10 22:55:58,943 DEBUG response_closed.started
2025-10-10 22:55:58,943 DEBUG response_closed.complete
2025-10-10 22:55:58,943 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '782b462a-1ef2-403e-a124-f6fb323414b1', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149910', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '4f559c7e-2c37-42fa-85c1-98e3774a381f', 'azureml-model-session': 'd072-20250905053909', 'x-envoy-upstream-service-time': '510', 'x-ms-client-request-id': '782b462a-1ef2-403e-a124-f6fb323414b1', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"6"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:55:58 GMT'})
2025-10-10 22:55:58,943 DEBUG request_id: 4f559c7e-2c37-42fa-85c1-98e3774a381f
2025-10-10 22:55:58,968 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34324'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '85ec729f-a61b-11f0-9fe7-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:55:59,064 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:55:59,067 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '85ec729f-a61b-11f0-9fe7-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:55:59 GMT'
2025-10-10 22:55:59,073 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '85fc70cc-a61b-11f0-87c9-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:55:59,115 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:55:59,115 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '85fc70cc-a61b-11f0-87c9-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:55:59 GMT'
2025-10-10 22:55:59,116 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: what is the country we have talked about other than sweden in out previous conversations
Assistant: Assistant: In our previous conversations, we have discussed Sweden as a technologically advanced country. If you are interested in exploring other countries or topics, feel free to let me know and I can provide information and insights based on our past discussions.
---
User: can you tell me what country we have talked about other than sweden
Assistant: Assistant: Yes, we have discussed Sweden as a technological country in our previous conversations. If you would like to explore other countries or topics, feel free to let me know and I can provide information and insights based on our past discussions.
---
User: can you recall our last conversation
Assistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: how many countries we have discussed
2025-10-10 22:55:59,117 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-bf665902-5a56-49d2-b49d-d6a9681cc227', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: what is the country we have talked about other than sweden in out previous conversations\nAssistant: Assistant: In our previous conversations, we have discussed Sweden as a technologically advanced country. If you are interested in exploring other countries or topics, feel free to let me know and I can provide information and insights based on our past discussions.\n---\nUser: can you tell me what country we have talked about other than sweden\nAssistant: Assistant: Yes, we have discussed Sweden as a technological country in our previous conversations. If you would like to explore other countries or topics, feel free to let me know and I can provide information and insights based on our past discussions.\n---\nUser: can you recall our last conversation\nAssistant: Assistant: Of course! In our last conversation, we discussed Sweden's reputation as a technological country and specifically mentioned BTH University, known for its focus on applied IT and engineering programs, as well as its sustainability and innovation initiatives. How can I assist you further with this topic or any other inquiries you may have?\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: how many countries we have discussed", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 22:55:59,119 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 22:55:59,119 DEBUG close.started
2025-10-10 22:55:59,119 DEBUG close.complete
2025-10-10 22:55:59,119 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 22:55:59,164 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0B77710>
2025-10-10 22:55:59,164 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001ECEED70CD0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 22:55:59,248 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001ECF0B76870>
2025-10-10 22:55:59,248 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:55:59,249 DEBUG send_request_headers.complete
2025-10-10 22:55:59,249 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:55:59,249 DEBUG send_request_body.complete
2025-10-10 22:55:59,249 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:55:59,800 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'1082'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'f0cd67d1-e6c6-4357-9ab8-cf2327f9cdf8'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'176'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'1f55cc01-5a64-49af-97da-c435abc18521'), (b'x-ms-client-request-id', b'f0cd67d1-e6c6-4357-9ab8-cf2327f9cdf8'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 20:55:59 GMT')])
2025-10-10 22:55:59,801 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:55:59,801 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:55:59,801 DEBUG receive_response_body.complete
2025-10-10 22:55:59,801 DEBUG response_closed.started
2025-10-10 22:55:59,801 DEBUG response_closed.complete
2025-10-10 22:55:59,802 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '1082', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'f0cd67d1-e6c6-4357-9ab8-cf2327f9cdf8', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '176', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': '1f55cc01-5a64-49af-97da-c435abc18521', 'x-ms-client-request-id': 'f0cd67d1-e6c6-4357-9ab8-cf2327f9cdf8', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 20:55:59 GMT'})
2025-10-10 22:55:59,802 DEBUG request_id: 1f55cc01-5a64-49af-97da-c435abc18521
2025-10-10 22:55:59,804 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-cf631909-a01d-4e58-b109-b1d9f9fdf19f', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001ECF0D8C7C0>, 'json_data': {'input': [[1502, 25, 1268, 1690, 5961, 584, 617, 14407, 72803, 25, 949, 20817, 389, 1057, 3766, 21633, 11, 584, 617, 14407, 24067, 439, 264, 2869, 30450, 11084, 3224, 13, 1442, 1070, 527, 3230, 5961, 499, 1053, 1093, 311, 13488, 477, 4048, 810, 922, 11, 2733, 1949, 311, 1095, 757, 1440, 323, 358, 649, 3493, 2038, 323, 26793, 3196, 389, 1057, 3347, 20954, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 22:55:59,806 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 22:55:59,806 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 22:55:59,807 DEBUG send_request_headers.complete
2025-10-10 22:55:59,807 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 22:55:59,807 DEBUG send_request_body.complete
2025-10-10 22:55:59,807 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 22:56:00,072 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'ca2adb6a-5b0a-497f-a557-abf6fa201ecc'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149848'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'73485593-e7e2-4544-9a4b-dff55d27b923'), (b'azureml-model-session', b'd034-20250917083234'), (b'x-envoy-upstream-service-time', b'177'), (b'x-ms-client-request-id', b'ca2adb6a-5b0a-497f-a557-abf6fa201ecc'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"1","error_rate":"0","active_tokens":"62"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 20:55:59 GMT')])
2025-10-10 22:56:00,072 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 22:56:00,073 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 22:56:00,073 DEBUG receive_response_body.complete
2025-10-10 22:56:00,073 DEBUG response_closed.started
2025-10-10 22:56:00,073 DEBUG response_closed.complete
2025-10-10 22:56:00,073 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'ca2adb6a-5b0a-497f-a557-abf6fa201ecc', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149848', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '73485593-e7e2-4544-9a4b-dff55d27b923', 'azureml-model-session': 'd034-20250917083234', 'x-envoy-upstream-service-time': '177', 'x-ms-client-request-id': 'ca2adb6a-5b0a-497f-a557-abf6fa201ecc', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"1","error_rate":"0","active_tokens":"62"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 20:55:59 GMT'})
2025-10-10 22:56:00,074 DEBUG request_id: 73485593-e7e2-4544-9a4b-dff55d27b923
2025-10-10 22:56:00,079 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35099'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '869610b7-a61b-11f0-9203-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 22:56:00,152 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 22:56:00,152 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '869610b7-a61b-11f0-9203-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 20:56:00 GMT'
2025-10-10 22:56:00,153 INFO 127.0.0.1 - - [10/Oct/2025 22:56:00] "POST /chat HTTP/1.1" 200 -
2025-10-10 23:23:56,435 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\app.py', reloading
2025-10-10 23:23:56,527 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\test.py', reloading
2025-10-10 23:23:58,170 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 23:24:04,701 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 23:24:04,702 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 23:24:04,702 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 23:24:04,702 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 23:24:04,702 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 23:24:07,522 WARNING  * Debugger is active!
2025-10-10 23:24:07,540 INFO  * Debugger PIN: 127-213-732
2025-10-10 23:38:05,727 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 23:38:09,068 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 23:38:18,113 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 23:38:18,113 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 23:38:18,113 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 23:38:18,113 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 23:38:18,113 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 23:38:20,124 WARNING  * Debugger is active!
2025-10-10 23:38:20,134 INFO  * Debugger PIN: 127-213-732
2025-10-10 23:38:31,104 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 23:38:31,104 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 23:38:31,105 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 23:38:33,302 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 23:38:42,333 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 23:38:42,333 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 23:38:42,333 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 23:38:42,333 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 23:38:42,333 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 23:38:44,228 WARNING  * Debugger is active!
2025-10-10 23:38:44,245 INFO  * Debugger PIN: 127-213-732
2025-10-10 23:39:04,244 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 23:39:04,245 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 23:39:04,245 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 23:39:06,310 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 23:39:14,488 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 23:39:14,488 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 23:39:14,488 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 23:39:14,488 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 23:39:14,488 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 23:39:16,754 WARNING  * Debugger is active!
2025-10-10 23:39:16,776 INFO  * Debugger PIN: 127-213-732
2025-10-10 23:39:17,532 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 23:39:17,533 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 23:39:19,255 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 23:39:29,585 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 23:39:29,586 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 23:39:29,586 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 23:39:29,586 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 23:39:29,586 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 23:39:31,761 WARNING  * Debugger is active!
2025-10-10 23:39:31,779 INFO  * Debugger PIN: 127-213-732
2025-10-10 23:39:33,989 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 23:39:33,990 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 23:39:33,990 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 23:39:35,467 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 23:39:42,780 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 23:39:42,780 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 23:39:42,780 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 23:39:42,780 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 23:39:42,784 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 23:39:45,586 WARNING  * Debugger is active!
2025-10-10 23:39:45,611 INFO  * Debugger PIN: 127-213-732
2025-10-10 23:42:05,262 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-57b336bf-7341-4be3-a155-e4609c6fed70', 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000020B726C6520>, 'json_data': {'input': [[6151]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 23:42:05,263 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 23:42:05,263 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 23:42:05,396 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000020B726B5FD0>
2025-10-10 23:42:05,397 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x0000020B721937F0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 23:42:05,480 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000020B7262A850>
2025-10-10 23:42:05,480 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 23:42:05,481 DEBUG send_request_headers.complete
2025-10-10 23:42:05,481 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 23:42:05,481 DEBUG send_request_body.complete
2025-10-10 23:42:05,481 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 23:42:05,620 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'89832bca-4aad-414d-b019-4805140d60d3'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149999'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'8081761f-77d3-4a33-bb15-b0fcea16d725'), (b'azureml-model-session', b'd072-20250905053909'), (b'x-envoy-upstream-service-time', b'29'), (b'x-ms-client-request-id', b'89832bca-4aad-414d-b019-4805140d60d3'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"1"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 21:42:05 GMT')])
2025-10-10 23:42:05,621 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 23:42:05,622 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 23:42:05,622 DEBUG receive_response_body.complete
2025-10-10 23:42:05,622 DEBUG response_closed.started
2025-10-10 23:42:05,622 DEBUG response_closed.complete
2025-10-10 23:42:05,623 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '89832bca-4aad-414d-b019-4805140d60d3', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149999', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '8081761f-77d3-4a33-bb15-b0fcea16d725', 'azureml-model-session': 'd072-20250905053909', 'x-envoy-upstream-service-time': '29', 'x-ms-client-request-id': '89832bca-4aad-414d-b019-4805140d60d3', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"1"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 21:42:05 GMT'})
2025-10-10 23:42:05,623 DEBUG request_id: 8081761f-77d3-4a33-bb15-b0fcea16d725
2025-10-10 23:42:06,005 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34276'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'f734b4dc-a621-11f0-a16b-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 23:42:06,020 DEBUG Starting new HTTPS connection (1): deepchatbot.search.windows.net:443
2025-10-10 23:42:06,575 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 23:42:06,624 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'f734b4dc-a621-11f0-a16b-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 21:42:06 GMT'
2025-10-10 23:42:06,627 INFO Vector search returned 3 memories for user default_user
2025-10-10 23:42:06,628 INFO Retrieved 3 relevant memories for user default_user
2025-10-10 23:42:06,629 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'f794038b-a621-11f0-988c-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 23:42:06,708 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 23:42:06,709 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'f794038b-a621-11f0-988c-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 21:42:06 GMT'
2025-10-10 23:42:06,710 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: hi
Assistant: ! How can I assist you today?
---
User: hi
Assistant: 
Hi there! How can I assist you today? If you have any questions about BTH University or any other topic, feel free to ask.
---
User: hi
Assistant: ! How can I assist you today? If you have any questions about BTH University or any other topic, feel free to ask.

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: hi
2025-10-10 23:42:06,738 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-34e83245-e9d0-4cf1-917f-5e1da5c7015f', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: hi\nAssistant: ! How can I assist you today?\n---\nUser: hi\nAssistant: \nHi there! How can I assist you today? If you have any questions about BTH University or any other topic, feel free to ask.\n---\nUser: hi\nAssistant: ! How can I assist you today? If you have any questions about BTH University or any other topic, feel free to ask.\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: hi", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 23:42:06,738 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 23:42:06,739 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 23:42:06,784 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000020B72B57B10>
2025-10-10 23:42:06,785 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x0000020B709C4E10> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 23:42:06,877 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000020B72B4E780>
2025-10-10 23:42:06,877 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 23:42:06,878 DEBUG send_request_headers.complete
2025-10-10 23:42:06,878 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 23:42:06,878 DEBUG send_request_body.complete
2025-10-10 23:42:06,879 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 23:42:07,316 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'991'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'6e865753-8f24-4a83-8aa0-90a0f4cec072'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'827'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'5227a782-7eef-479e-87ae-4b6e713dacd1'), (b'x-ms-client-request-id', b'6e865753-8f24-4a83-8aa0-90a0f4cec072'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 21:42:07 GMT')])
2025-10-10 23:42:07,317 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 23:42:07,317 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 23:42:07,317 DEBUG receive_response_body.complete
2025-10-10 23:42:07,317 DEBUG response_closed.started
2025-10-10 23:42:07,317 DEBUG response_closed.complete
2025-10-10 23:42:07,317 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '991', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '6e865753-8f24-4a83-8aa0-90a0f4cec072', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '827', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': '5227a782-7eef-479e-87ae-4b6e713dacd1', 'x-ms-client-request-id': '6e865753-8f24-4a83-8aa0-90a0f4cec072', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 21:42:07 GMT'})
2025-10-10 23:42:07,317 DEBUG request_id: 5227a782-7eef-479e-87ae-4b6e713dacd1
2025-10-10 23:42:07,328 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-44bb1257-f5ed-476e-9772-b76addb253de', 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000020B6F778FE0>, 'json_data': {'input': [[1502, 25, 15960, 72803, 25, 220, 21694, 1070, 0, 2650, 649, 358, 7945, 499, 3432, 30, 1442, 499, 617, 904, 4860, 922, 426, 3701, 3907, 477, 904, 1023, 8712, 11, 2733, 1949, 311, 2610, 13, 1442, 1070, 596, 2555, 3230, 499, 1205, 1520, 449, 11, 1120, 1095, 757, 1440, 0]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 23:42:07,329 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 23:42:07,329 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 23:42:07,329 DEBUG send_request_headers.complete
2025-10-10 23:42:07,329 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 23:42:07,329 DEBUG send_request_body.complete
2025-10-10 23:42:07,329 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 23:42:07,465 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'9657eb5b-81e3-4073-bc60-c2079af300ab'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149949'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'0161bbaf-280d-4901-a3b0-7208fc29279b'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'26'), (b'x-ms-client-request-id', b'9657eb5b-81e3-4073-bc60-c2079af300ab'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"50"},"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 21:42:07 GMT')])
2025-10-10 23:42:07,466 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 23:42:07,466 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 23:42:07,466 DEBUG receive_response_body.complete
2025-10-10 23:42:07,466 DEBUG response_closed.started
2025-10-10 23:42:07,466 DEBUG response_closed.complete
2025-10-10 23:42:07,466 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '9657eb5b-81e3-4073-bc60-c2079af300ab', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149949', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '0161bbaf-280d-4901-a3b0-7208fc29279b', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '26', 'x-ms-client-request-id': '9657eb5b-81e3-4073-bc60-c2079af300ab', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"50"},"aoai-sp-txtemb-sm-1-usw2-prod-aoai-standard-online-westus2":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 21:42:07 GMT'})
2025-10-10 23:42:07,466 DEBUG request_id: 0161bbaf-280d-4901-a3b0-7208fc29279b
2025-10-10 23:42:07,469 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34679'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'f8142c8d-a621-11f0-8fda-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 23:42:07,592 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 23:42:07,594 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'f8142c8d-a621-11f0-8fda-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 21:42:07 GMT'
2025-10-10 23:42:07,598 INFO 127.0.0.1 - - [10/Oct/2025 23:42:07] "POST /chat HTTP/1.1" 200 -
2025-10-10 23:49:55,027 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 23:49:55,038 INFO  * Detected change in 'D:\\PROJECTS\\ProjectDeepChatBOT\\deep_chatbot\\main.py', reloading
2025-10-10 23:49:57,087 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 23:50:04,381 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 23:50:04,381 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 23:50:04,381 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 23:50:04,381 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 23:50:04,381 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 23:50:06,240 WARNING  * Debugger is active!
2025-10-10 23:50:06,257 INFO  * Debugger PIN: 127-213-732
2025-10-10 23:53:46,460 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-b7b4d131-6496-4a96-bd50-042179fad206', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002DBECDF4EA0>, 'json_data': {'input': [[4919, 499, 3371, 757, 810, 922, 6463, 3195]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 23:53:46,462 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 23:53:46,462 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 23:53:46,612 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002DBECDB5FD0>
2025-10-10 23:53:46,612 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000002DBEC88F7F0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 23:53:46,720 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002DBECD2A850>
2025-10-10 23:53:46,720 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 23:53:46,721 DEBUG send_request_headers.complete
2025-10-10 23:53:46,721 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 23:53:46,722 DEBUG send_request_body.complete
2025-10-10 23:53:46,722 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 23:53:46,856 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'3bb259bf-1b51-48ff-b1e8-2c4d838eb9ec'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149992'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'7ee80e2e-aa61-4612-8bf9-2b02842b00b1'), (b'azureml-model-session', b'd071-20250905050200'), (b'x-envoy-upstream-service-time', b'30'), (b'x-ms-client-request-id', b'3bb259bf-1b51-48ff-b1e8-2c4d838eb9ec'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"693065"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 21:53:46 GMT')])
2025-10-10 23:53:46,858 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 23:53:46,858 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 23:53:46,859 DEBUG receive_response_body.complete
2025-10-10 23:53:46,859 DEBUG response_closed.started
2025-10-10 23:53:46,859 DEBUG response_closed.complete
2025-10-10 23:53:46,859 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '3bb259bf-1b51-48ff-b1e8-2c4d838eb9ec', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149992', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '7ee80e2e-aa61-4612-8bf9-2b02842b00b1', 'azureml-model-session': 'd071-20250905050200', 'x-envoy-upstream-service-time': '30', 'x-ms-client-request-id': '3bb259bf-1b51-48ff-b1e8-2c4d838eb9ec', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"693065"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 21:53:46 GMT'})
2025-10-10 23:53:46,859 DEBUG request_id: 7ee80e2e-aa61-4612-8bf9-2b02842b00b1
2025-10-10 23:53:47,221 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34340'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '9929dc62-a623-11f0-91e7-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 23:53:47,233 INFO  * Detected change in 'C:\\Program Files\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2288.0_x64__qbz5n2kfra8p0\\Lib\\netrc.py', reloading
2025-10-10 23:53:47,234 INFO  * Detected change in 'D:\\WindowsApps\\PythonSoftwareFoundation.Python.3.13_3.13.2288.0_x64__qbz5n2kfra8p0\\Lib\\netrc.py', reloading
2025-10-10 23:53:47,235 DEBUG Starting new HTTPS connection (1): deepchatbot.search.windows.net:443
2025-10-10 23:53:47,531 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 23:53:47,577 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '9929dc62-a623-11f0-91e7-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 21:53:47 GMT'
2025-10-10 23:53:47,582 INFO Vector search returned 3 memories for user default_user
2025-10-10 23:53:47,582 INFO Retrieved 3 relevant memories for user default_user
2025-10-10 23:53:47,584 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '99614552-a623-11f0-bde0-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 23:53:47,639 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 23:53:47,641 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': '99614552-a623-11f0-bde0-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 21:53:47 GMT'
2025-10-10 23:53:47,643 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: can you tell me about norway
Assistant: Norway is known for its stunning natural landscapes, including fjords, mountains, and coastal areas. The country also has a strong emphasis on sustainability and innovation, similar to Sweden. Like Sweden, Norway is also known for its advancements in renewable energy and environmental initiatives. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.
---
User: do norway have a oil money in us stock market
Assistant: 
Based on our previous conversations, Norway does indeed have a significant presence in the US stock market, particularly through its sovereign wealth fund, which is one of the world's largest. The fund, known as the Government Pension Fund Global, has invested heavily in US stocks, including major companies like Apple, Microsoft, and Amazon. This has allowed Norway to benefit from the returns and dividends generated by these investments. If you're interested in more specific details or updates on Norway's investments in the US stock market, I'd be happy to provide further information.
---
User: can you tell me more about sweden as a technological country
Assistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: can you tell me more about norway
2025-10-10 23:53:47,676 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-84bad702-2bf3-4ed2-8750-c478a27967e4', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: can you tell me about norway\nAssistant: Norway is known for its stunning natural landscapes, including fjords, mountains, and coastal areas. The country also has a strong emphasis on sustainability and innovation, similar to Sweden. Like Sweden, Norway is also known for its advancements in renewable energy and environmental initiatives. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.\n---\nUser: do norway have a oil money in us stock market\nAssistant: \nBased on our previous conversations, Norway does indeed have a significant presence in the US stock market, particularly through its sovereign wealth fund, which is one of the world's largest. The fund, known as the Government Pension Fund Global, has invested heavily in US stocks, including major companies like Apple, Microsoft, and Amazon. This has allowed Norway to benefit from the returns and dividends generated by these investments. If you're interested in more specific details or updates on Norway's investments in the US stock market, I'd be happy to provide further information.\n---\nUser: can you tell me more about sweden as a technological country\nAssistant: Sweden is known for its strong emphasis on technology and innovation. BTH University in particular is well-regarded for its focus on applied IT and engineering programs. Additionally, Sweden as a country has a reputation for being at the forefront of technological advancements, particularly in the areas of telecommunications, automotive engineering, and sustainable energy. If you have specific questions about Sweden's technological advancements or any particular aspect of Swedish technology, feel free to ask!\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: can you tell me more about norway", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 23:53:47,678 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 23:53:47,678 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 23:53:47,716 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002DBED11FB10>
2025-10-10 23:53:47,717 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000002DBEC1C4E10> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 23:53:47,810 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002DBED11A780>
2025-10-10 23:53:47,811 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 23:53:47,812 DEBUG send_request_headers.complete
2025-10-10 23:53:47,812 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 23:53:47,813 DEBUG send_request_body.complete
2025-10-10 23:53:47,813 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 23:53:48,510 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'1297'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'f53d2597-4ee6-4cf9-829f-570cea9e9aa3'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'456'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'f41fbc48-7b34-4bce-b74e-129dc9dd795d'), (b'x-ms-client-request-id', b'f53d2597-4ee6-4cf9-829f-570cea9e9aa3'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 21:53:48 GMT')])
2025-10-10 23:53:48,510 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 23:53:48,510 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 23:53:48,510 DEBUG receive_response_body.complete
2025-10-10 23:53:48,510 DEBUG response_closed.started
2025-10-10 23:53:48,511 DEBUG response_closed.complete
2025-10-10 23:53:48,511 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '1297', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'f53d2597-4ee6-4cf9-829f-570cea9e9aa3', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '456', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': 'f41fbc48-7b34-4bce-b74e-129dc9dd795d', 'x-ms-client-request-id': 'f53d2597-4ee6-4cf9-829f-570cea9e9aa3', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 21:53:48 GMT'})
2025-10-10 23:53:48,511 DEBUG request_id: f41fbc48-7b34-4bce-b74e-129dc9dd795d
2025-10-10 23:53:48,525 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-2a10263b-fb05-4080-9f5a-06837d3e8c89', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002DBE7EB8FE0>, 'json_data': {'input': [[1502, 25, 649, 499, 3371, 757, 810, 922, 6463, 3195, 72803, 25, 949, 40, 6227, 584, 14407, 32603, 596, 20441, 5933, 55890, 323, 1202, 25679, 389, 41329, 323, 19297, 11, 4528, 311, 24067, 13, 32603, 1101, 706, 264, 5199, 9546, 304, 279, 2326, 5708, 3157, 1555, 1202, 46384, 12205, 3887, 11, 279, 10423, 81557, 13492, 8121, 11, 902, 706, 29091, 304, 3682, 2326, 5220, 13, 1442, 499, 617, 3230, 4860, 922, 32603, 596, 30116, 83787, 477, 904, 4040, 13189, 315, 45721, 5557, 11, 358, 4265, 387, 6380, 311, 3493, 810, 2038, 3196, 389, 701, 12034, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 23:53:48,527 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 23:53:48,527 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 23:53:48,528 DEBUG send_request_headers.complete
2025-10-10 23:53:48,528 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 23:53:48,529 DEBUG send_request_body.complete
2025-10-10 23:53:48,529 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 23:53:48,654 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'05d8c171-8f5f-453c-9fdd-bc8b3c9d3e80'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149896'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'8b7b4887-2a63-4455-9740-dea3ea91c15f'), (b'azureml-model-session', b'd071-20250905050200'), (b'x-envoy-upstream-service-time', b'31'), (b'x-ms-client-request-id', b'05d8c171-8f5f-453c-9fdd-bc8b3c9d3e80'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"107"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 21:53:48 GMT')])
2025-10-10 23:53:48,655 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 23:53:48,655 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 23:53:48,656 DEBUG receive_response_body.complete
2025-10-10 23:53:48,656 DEBUG response_closed.started
2025-10-10 23:53:48,656 DEBUG response_closed.complete
2025-10-10 23:53:48,656 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '05d8c171-8f5f-453c-9fdd-bc8b3c9d3e80', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149896', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '8b7b4887-2a63-4455-9740-dea3ea91c15f', 'azureml-model-session': 'd071-20250905050200', 'x-envoy-upstream-service-time': '31', 'x-ms-client-request-id': '05d8c171-8f5f-453c-9fdd-bc8b3c9d3e80', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"},"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"107"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 21:53:48 GMT'})
2025-10-10 23:53:48,656 DEBUG request_id: 8b7b4887-2a63-4455-9740-dea3ea91c15f
2025-10-10 23:53:48,658 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35442'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': '9a053989-a623-11f0-bb8f-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 23:53:49,184 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 23:53:53,177 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 23:53:53,177 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 23:53:53,178 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 23:53:53,178 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 23:53:53,178 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 23:53:55,111 WARNING  * Debugger is active!
2025-10-10 23:53:55,128 INFO  * Debugger PIN: 127-213-732
2025-10-10 23:53:57,347 INFO 127.0.0.1 - - [10/Oct/2025 23:53:57] "[36mGET / HTTP/1.1[0m" 304 -
2025-10-10 23:54:27,752 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-80bd2d79-07f8-4484-8a08-f1ea85b1ae89', 'post_parser': <function Embeddings.create.<locals>.parser at 0x0000028BAF1B3380>, 'json_data': {'input': [[4919, 499, 3371, 757, 922, 6463, 3195, 505, 1057, 21633]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 23:54:27,753 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 23:54:27,753 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 23:54:27,903 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028BAF1B5FD0>
2025-10-10 23:54:27,904 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x0000028BADBFF7F0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 23:54:27,999 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028BAF12AD50>
2025-10-10 23:54:28,000 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 23:54:28,001 DEBUG send_request_headers.complete
2025-10-10 23:54:28,001 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 23:54:28,001 DEBUG send_request_body.complete
2025-10-10 23:54:28,001 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 23:54:28,136 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'6e881ba6-9dcf-4e07-8802-ba5c0b1f3ac4'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149886'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'dbf2ee59-5c81-4f4b-8b1e-70f1e3f4fdb3'), (b'azureml-model-session', b'd072-20250905053909'), (b'x-envoy-upstream-service-time', b'31'), (b'x-ms-client-request-id', b'6e881ba6-9dcf-4e07-8802-ba5c0b1f3ac4'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"10"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 21:54:27 GMT')])
2025-10-10 23:54:28,138 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 23:54:28,138 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 23:54:28,139 DEBUG receive_response_body.complete
2025-10-10 23:54:28,139 DEBUG response_closed.started
2025-10-10 23:54:28,139 DEBUG response_closed.complete
2025-10-10 23:54:28,139 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '6e881ba6-9dcf-4e07-8802-ba5c0b1f3ac4', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149886', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': 'dbf2ee59-5c81-4f4b-8b1e-70f1e3f4fdb3', 'azureml-model-session': 'd072-20250905053909', 'x-envoy-upstream-service-time': '31', 'x-ms-client-request-id': '6e881ba6-9dcf-4e07-8802-ba5c0b1f3ac4', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"10"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 21:54:27 GMT'})
2025-10-10 23:54:28,139 DEBUG request_id: dbf2ee59-5c81-4f4b-8b1e-70f1e3f4fdb3
2025-10-10 23:54:28,525 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34316'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'b1c86083-a623-11f0-b795-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 23:54:28,535 DEBUG Starting new HTTPS connection (1): deepchatbot.search.windows.net:443
2025-10-10 23:54:28,880 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 23:54:28,930 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'b1c86083-a623-11f0-b795-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 21:54:29 GMT'
2025-10-10 23:54:28,932 INFO Vector search returned 3 memories for user default_user
2025-10-10 23:54:28,932 INFO Retrieved 3 relevant memories for user default_user
2025-10-10 23:54:28,933 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'b206af6b-a623-11f0-af35-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 23:54:28,988 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 23:54:28,994 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'b206af6b-a623-11f0-af35-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 21:54:29 GMT'
2025-10-10 23:54:28,996 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: can you tell me more about norway
Assistant: ?

I remember we discussed Norway's stunning natural landscapes and its emphasis on sustainability and innovation, similar to Sweden. Norway also has a significant presence in the US stock market through its sovereign wealth fund, the Government Pension Fund Global, which has invested in major US companies. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.
---
User: can you tell me about norway
Assistant: Norway is known for its stunning natural landscapes, including fjords, mountains, and coastal areas. The country also has a strong emphasis on sustainability and innovation, similar to Sweden. Like Sweden, Norway is also known for its advancements in renewable energy and environmental initiatives. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.
---
User: can you tell me what country we have talked about other than sweden
Assistant: Assistant: Yes, we have discussed Sweden as a technological country in our previous conversations. If you would like to explore other countries or topics, feel free to let me know and I can provide information and insights based on our past discussions.

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: can you tell me about norway from our conversations
2025-10-10 23:54:29,020 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-5bf60400-39f6-41fb-b7db-6cc41166d85a', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: can you tell me more about norway\nAssistant: ?\n\nI remember we discussed Norway's stunning natural landscapes and its emphasis on sustainability and innovation, similar to Sweden. Norway also has a significant presence in the US stock market through its sovereign wealth fund, the Government Pension Fund Global, which has invested in major US companies. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.\n---\nUser: can you tell me about norway\nAssistant: Norway is known for its stunning natural landscapes, including fjords, mountains, and coastal areas. The country also has a strong emphasis on sustainability and innovation, similar to Sweden. Like Sweden, Norway is also known for its advancements in renewable energy and environmental initiatives. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.\n---\nUser: can you tell me what country we have talked about other than sweden\nAssistant: Assistant: Yes, we have discussed Sweden as a technological country in our previous conversations. If you would like to explore other countries or topics, feel free to let me know and I can provide information and insights based on our past discussions.\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: can you tell me about norway from our conversations", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 23:54:29,022 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 23:54:29,023 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 23:54:29,060 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028BAF6B3ED0>
2025-10-10 23:54:29,060 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x0000028BAD514E10> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 23:54:29,149 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x0000028BAF6B68B0>
2025-10-10 23:54:29,150 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 23:54:29,150 DEBUG send_request_headers.complete
2025-10-10 23:54:29,150 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 23:54:29,150 DEBUG send_request_body.complete
2025-10-10 23:54:29,150 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 23:54:29,240 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 429, b'Too Many Requests', [(b'Content-Length', b'440'), (b'Content-Type', b'application/json'), (b'Retry-After', b'19'), (b'x-ratelimit-reset-tokens', b'19'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'apim-request-id', b'b7b1e1de-c00b-4d6e-b4d0-198bc2958b93'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'policy-id', b'DeploymentRatelimit-Token'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'Date', b'Fri, 10 Oct 2025 21:54:28 GMT')])
2025-10-10 23:54:29,240 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 429 Too Many Requests"
2025-10-10 23:54:29,241 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 23:54:29,241 DEBUG receive_response_body.complete
2025-10-10 23:54:29,241 DEBUG response_closed.started
2025-10-10 23:54:29,241 DEBUG response_closed.complete
2025-10-10 23:54:29,241 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "429 Too Many Requests" Headers({'content-length': '440', 'content-type': 'application/json', 'retry-after': '19', 'x-ratelimit-reset-tokens': '19', 'x-ratelimit-limit-tokens': '1000', 'x-ms-deployment-name': 'gpt35-turbo', 'apim-request-id': 'b7b1e1de-c00b-4d6e-b4d0-198bc2958b93', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'policy-id': 'DeploymentRatelimit-Token', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'date': 'Fri, 10 Oct 2025 21:54:28 GMT'})
2025-10-10 23:54:29,241 DEBUG request_id: None
2025-10-10 23:54:29,242 DEBUG Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\openai\_base_client.py", line 1027, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '429 Too Many Requests' for url 'https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-10-10 23:54:29,246 INFO  * Detected change in 'C:\\Users\\Aswin\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python313\\site-packages\\openai\\_base_client.py', reloading
2025-10-10 23:54:29,248 DEBUG Retrying due to status code 429
2025-10-10 23:54:29,249 DEBUG 2 retries left
2025-10-10 23:54:29,248 INFO  * Detected change in 'C:\\Users\\Aswin\\AppData\\Local\\Packages\\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\\LocalCache\\local-packages\\Python313\\site-packages\\httpx\\_models.py', reloading
2025-10-10 23:54:29,249 INFO Retrying request to /chat/completions in 19.000000 seconds
2025-10-10 23:54:31,030 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 23:54:34,704 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 23:54:34,704 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 23:54:34,704 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 23:54:34,704 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 23:54:34,704 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 23:54:36,559 WARNING  * Debugger is active!
2025-10-10 23:54:36,573 INFO  * Debugger PIN: 127-213-732
2025-10-10 23:54:36,938 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-ea594731-9e3c-4a1d-97e7-e8e33bdc98d6', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000002AD3E4B2520>, 'json_data': {'input': [[4919, 499, 3371, 757, 922, 6463, 3195, 505, 1057, 21633]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 23:54:36,938 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 23:54:36,938 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 23:54:37,076 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002AD3E4B4EC0>
2025-10-10 23:54:37,077 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000002AD3CF2F7F0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 23:54:37,177 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002AD3E42A850>
2025-10-10 23:54:37,177 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 23:54:37,177 DEBUG send_request_headers.complete
2025-10-10 23:54:37,177 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 23:54:37,178 DEBUG send_request_body.complete
2025-10-10 23:54:37,178 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 23:54:37,309 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8416'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'dabf78a6-83c5-4484-a6bf-aa39c76460fe'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149876'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'9e66bede-9b6b-4828-8c87-246e5988916f'), (b'azureml-model-session', b'd072-20250905053909'), (b'x-envoy-upstream-service-time', b'30'), (b'x-ms-client-request-id', b'dabf78a6-83c5-4484-a6bf-aa39c76460fe'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"10"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 21:54:36 GMT')])
2025-10-10 23:54:37,310 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 23:54:37,310 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 23:54:37,310 DEBUG receive_response_body.complete
2025-10-10 23:54:37,310 DEBUG response_closed.started
2025-10-10 23:54:37,310 DEBUG response_closed.complete
2025-10-10 23:54:37,310 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8416', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'dabf78a6-83c5-4484-a6bf-aa39c76460fe', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149876', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '9e66bede-9b6b-4828-8c87-246e5988916f', 'azureml-model-session': 'd072-20250905053909', 'x-envoy-upstream-service-time': '30', 'x-ms-client-request-id': 'dabf78a6-83c5-4484-a6bf-aa39c76460fe', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"10"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 21:54:36 GMT'})
2025-10-10 23:54:37,311 DEBUG request_id: 9e66bede-9b6b-4828-8c87-246e5988916f
2025-10-10 23:54:37,555 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34316'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'b72a3493-a623-11f0-9a2c-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 23:54:37,561 DEBUG Starting new HTTPS connection (1): deepchatbot.search.windows.net:443
2025-10-10 23:54:38,125 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 23:54:38,173 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'b72a3493-a623-11f0-9a2c-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 21:54:38 GMT'
2025-10-10 23:54:38,175 INFO Vector search returned 3 memories for user default_user
2025-10-10 23:54:38,175 INFO Retrieved 3 relevant memories for user default_user
2025-10-10 23:54:38,176 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'b788fa2b-a623-11f0-9543-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 23:54:38,254 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 23:54:38,255 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'b788fa2b-a623-11f0-9543-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 21:54:38 GMT'
2025-10-10 23:54:38,256 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: can you tell me more about norway
Assistant: ?

I remember we discussed Norway's stunning natural landscapes and its emphasis on sustainability and innovation, similar to Sweden. Norway also has a significant presence in the US stock market through its sovereign wealth fund, the Government Pension Fund Global, which has invested in major US companies. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.
---
User: can you tell me about norway
Assistant: Norway is known for its stunning natural landscapes, including fjords, mountains, and coastal areas. The country also has a strong emphasis on sustainability and innovation, similar to Sweden. Like Sweden, Norway is also known for its advancements in renewable energy and environmental initiatives. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.
---
User: can you tell me what country we have talked about other than sweden
Assistant: Assistant: Yes, we have discussed Sweden as a technological country in our previous conversations. If you would like to explore other countries or topics, feel free to let me know and I can provide information and insights based on our past discussions.

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: can you tell me about norway from our conversations
2025-10-10 23:54:38,269 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-85e22cf3-d84e-44be-b74a-df6062a01556', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: can you tell me more about norway\nAssistant: ?\n\nI remember we discussed Norway's stunning natural landscapes and its emphasis on sustainability and innovation, similar to Sweden. Norway also has a significant presence in the US stock market through its sovereign wealth fund, the Government Pension Fund Global, which has invested in major US companies. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.\n---\nUser: can you tell me about norway\nAssistant: Norway is known for its stunning natural landscapes, including fjords, mountains, and coastal areas. The country also has a strong emphasis on sustainability and innovation, similar to Sweden. Like Sweden, Norway is also known for its advancements in renewable energy and environmental initiatives. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.\n---\nUser: can you tell me what country we have talked about other than sweden\nAssistant: Assistant: Yes, we have discussed Sweden as a technological country in our previous conversations. If you would like to explore other countries or topics, feel free to let me know and I can provide information and insights based on our past discussions.\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: can you tell me about norway from our conversations", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 23:54:38,270 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 23:54:38,270 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 23:54:38,346 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002AD3E5D3B10>
2025-10-10 23:54:38,346 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000002AD3C844E10> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 23:54:38,451 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002AD3E5CDF30>
2025-10-10 23:54:38,451 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 23:54:38,451 DEBUG send_request_headers.complete
2025-10-10 23:54:38,451 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 23:54:38,451 DEBUG send_request_body.complete
2025-10-10 23:54:38,452 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 23:54:38,506 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 429, b'Too Many Requests', [(b'Content-Length', b'437'), (b'Content-Type', b'application/json'), (b'Retry-After', b'1'), (b'x-ratelimit-reset-requests', b'1'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'apim-request-id', b'5b87e7d3-5a05-4875-b4e6-7781398c0cb5'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'policy-id', b'DeploymentRatelimit-Call'), (b'x-ms-region', b'Sweden Central'), (b'Date', b'Fri, 10 Oct 2025 21:54:37 GMT')])
2025-10-10 23:54:38,507 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 429 Too Many Requests"
2025-10-10 23:54:38,507 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 23:54:38,507 DEBUG receive_response_body.complete
2025-10-10 23:54:38,507 DEBUG response_closed.started
2025-10-10 23:54:38,507 DEBUG response_closed.complete
2025-10-10 23:54:38,507 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "429 Too Many Requests" Headers({'content-length': '437', 'content-type': 'application/json', 'retry-after': '1', 'x-ratelimit-reset-requests': '1', 'x-ratelimit-limit-requests': '1', 'x-ms-deployment-name': 'gpt35-turbo', 'apim-request-id': '5b87e7d3-5a05-4875-b4e6-7781398c0cb5', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'policy-id': 'DeploymentRatelimit-Call', 'x-ms-region': 'Sweden Central', 'date': 'Fri, 10 Oct 2025 21:54:37 GMT'})
2025-10-10 23:54:38,507 DEBUG request_id: None
2025-10-10 23:54:38,508 DEBUG Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\openai\_base_client.py", line 1027, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '429 Too Many Requests' for url 'https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-10-10 23:54:38,512 DEBUG Retrying due to status code 429
2025-10-10 23:54:38,512 DEBUG 2 retries left
2025-10-10 23:54:38,512 INFO Retrying request to /chat/completions in 1.000000 seconds
2025-10-10 23:54:39,513 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-85e22cf3-d84e-44be-b74a-df6062a01556', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: can you tell me more about norway\nAssistant: ?\n\nI remember we discussed Norway's stunning natural landscapes and its emphasis on sustainability and innovation, similar to Sweden. Norway also has a significant presence in the US stock market through its sovereign wealth fund, the Government Pension Fund Global, which has invested in major US companies. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.\n---\nUser: can you tell me about norway\nAssistant: Norway is known for its stunning natural landscapes, including fjords, mountains, and coastal areas. The country also has a strong emphasis on sustainability and innovation, similar to Sweden. Like Sweden, Norway is also known for its advancements in renewable energy and environmental initiatives. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.\n---\nUser: can you tell me what country we have talked about other than sweden\nAssistant: Assistant: Yes, we have discussed Sweden as a technological country in our previous conversations. If you would like to explore other countries or topics, feel free to let me know and I can provide information and insights based on our past discussions.\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: can you tell me about norway from our conversations", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 23:54:39,513 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 23:54:39,514 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 23:54:39,514 DEBUG send_request_headers.complete
2025-10-10 23:54:39,514 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 23:54:39,514 DEBUG send_request_body.complete
2025-10-10 23:54:39,514 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 23:54:39,567 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 429, b'Too Many Requests', [(b'Content-Length', b'439'), (b'Content-Type', b'application/json'), (b'Retry-After', b'9'), (b'x-ratelimit-reset-tokens', b'9'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'apim-request-id', b'b1b76409-c94c-40d0-a833-bc955cde72d9'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'policy-id', b'DeploymentRatelimit-Token'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'Date', b'Fri, 10 Oct 2025 21:54:38 GMT')])
2025-10-10 23:54:39,567 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 429 Too Many Requests"
2025-10-10 23:54:39,567 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 23:54:39,567 DEBUG receive_response_body.complete
2025-10-10 23:54:39,568 DEBUG response_closed.started
2025-10-10 23:54:39,568 DEBUG response_closed.complete
2025-10-10 23:54:39,568 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "429 Too Many Requests" Headers({'content-length': '439', 'content-type': 'application/json', 'retry-after': '9', 'x-ratelimit-reset-tokens': '9', 'x-ratelimit-limit-tokens': '1000', 'x-ms-deployment-name': 'gpt35-turbo', 'apim-request-id': 'b1b76409-c94c-40d0-a833-bc955cde72d9', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'policy-id': 'DeploymentRatelimit-Token', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'date': 'Fri, 10 Oct 2025 21:54:38 GMT'})
2025-10-10 23:54:39,568 DEBUG request_id: None
2025-10-10 23:54:39,568 DEBUG Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\openai\_base_client.py", line 1027, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '429 Too Many Requests' for url 'https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-10-10 23:54:39,569 DEBUG Retrying due to status code 429
2025-10-10 23:54:39,569 DEBUG 1 retry left
2025-10-10 23:54:39,569 INFO Retrying request to /chat/completions in 9.000000 seconds
2025-10-10 23:54:48,570 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-85e22cf3-d84e-44be-b74a-df6062a01556', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: can you tell me more about norway\nAssistant: ?\n\nI remember we discussed Norway's stunning natural landscapes and its emphasis on sustainability and innovation, similar to Sweden. Norway also has a significant presence in the US stock market through its sovereign wealth fund, the Government Pension Fund Global, which has invested in major US companies. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.\n---\nUser: can you tell me about norway\nAssistant: Norway is known for its stunning natural landscapes, including fjords, mountains, and coastal areas. The country also has a strong emphasis on sustainability and innovation, similar to Sweden. Like Sweden, Norway is also known for its advancements in renewable energy and environmental initiatives. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.\n---\nUser: can you tell me what country we have talked about other than sweden\nAssistant: Assistant: Yes, we have discussed Sweden as a technological country in our previous conversations. If you would like to explore other countries or topics, feel free to let me know and I can provide information and insights based on our past discussions.\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: can you tell me about norway from our conversations", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 23:54:48,571 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 23:54:48,572 DEBUG close.started
2025-10-10 23:54:48,572 DEBUG close.complete
2025-10-10 23:54:48,572 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 23:54:48,721 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002AD3E5CF360>
2025-10-10 23:54:48,721 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000002AD3C844E10> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 23:54:48,810 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000002AD3E5CA330>
2025-10-10 23:54:48,811 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 23:54:48,811 DEBUG send_request_headers.complete
2025-10-10 23:54:48,811 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 23:54:48,812 DEBUG send_request_body.complete
2025-10-10 23:54:48,812 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 23:54:48,860 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 429, b'Too Many Requests', [(b'Content-Length', b'437'), (b'Content-Type', b'application/json'), (b'Retry-After', b'1'), (b'x-ratelimit-reset-requests', b'1'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'apim-request-id', b'f42e107d-0dfc-4d30-92f2-0fd758738f28'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'policy-id', b'DeploymentRatelimit-Call'), (b'x-ms-region', b'Sweden Central'), (b'Date', b'Fri, 10 Oct 2025 21:54:48 GMT')])
2025-10-10 23:54:48,861 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 429 Too Many Requests"
2025-10-10 23:54:48,861 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 23:54:48,861 DEBUG receive_response_body.complete
2025-10-10 23:54:48,862 DEBUG response_closed.started
2025-10-10 23:54:48,862 DEBUG response_closed.complete
2025-10-10 23:54:48,862 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "429 Too Many Requests" Headers({'content-length': '437', 'content-type': 'application/json', 'retry-after': '1', 'x-ratelimit-reset-requests': '1', 'x-ratelimit-limit-requests': '1', 'x-ms-deployment-name': 'gpt35-turbo', 'apim-request-id': 'f42e107d-0dfc-4d30-92f2-0fd758738f28', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'policy-id': 'DeploymentRatelimit-Call', 'x-ms-region': 'Sweden Central', 'date': 'Fri, 10 Oct 2025 21:54:48 GMT'})
2025-10-10 23:54:48,862 DEBUG request_id: None
2025-10-10 23:54:48,862 DEBUG Encountered httpx.HTTPStatusError
Traceback (most recent call last):
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\openai\_base_client.py", line 1027, in request
    response.raise_for_status()
    ~~~~~~~~~~~~~~~~~~~~~~~~~^^
  File "C:\Users\Aswin\AppData\Local\Packages\PythonSoftwareFoundation.Python.3.13_qbz5n2kfra8p0\LocalCache\local-packages\Python313\site-packages\httpx\_models.py", line 829, in raise_for_status
    raise HTTPStatusError(message, request=request, response=self)
httpx.HTTPStatusError: Client error '429 Too Many Requests' for url 'https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview'
For more information check: https://developer.mozilla.org/en-US/docs/Web/HTTP/Status/429
2025-10-10 23:54:48,864 DEBUG Re-raising status error
2025-10-10 23:54:48,864 ERROR Error in chat function: Error code: 429 - {'error': {'code': '429', 'message': 'Requests to the ChatCompletions_Create Operation under Azure OpenAI API version 2023-12-01-preview have exceeded call rate limit of your current OpenAI S0 pricing tier. Please retry after 1 second. Please go here: https://aka.ms/oai/quotaincrease if you would like to further increase the default rate limit. For Free Account customers, upgrade to Pay as you Go here: https://aka.ms/429TrialUpgrade.'}}
2025-10-10 23:54:48,865 INFO 127.0.0.1 - - [10/Oct/2025 23:54:48] "POST /chat HTTP/1.1" 200 -
2025-10-10 23:55:39,718 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 23:55:39,718 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 23:55:39,718 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 23:55:39,718 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 23:55:39,718 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 23:55:41,765 INFO [31m[1mWARNING: This is a development server. Do not use it in a production deployment. Use a production WSGI server instead.[0m
 * Running on all addresses (0.0.0.0)
 * Running on http://127.0.0.1:8000
 * Running on http://192.168.0.9:8000
2025-10-10 23:55:41,765 INFO [33mPress CTRL+C to quit[0m
2025-10-10 23:55:41,783 INFO  * Restarting with watchdog (windowsapi)
2025-10-10 23:55:45,440 INFO AZURE_SEARCH_INDEX_NAME: deepchatbot
2025-10-10 23:55:45,441 INFO AZURE_SEARCH_ENDPOINT: https://deepchatbot.search.windows.net
2025-10-10 23:55:45,441 INFO AZURE_SEARCH_API_KEY: set
2025-10-10 23:55:45,441 INFO AZURE_OPENAI_API_KEY: set
2025-10-10 23:55:45,441 INFO AZURE_OPENAI_ENDPOINT: https://deepchatbot.openai.azure.com/
2025-10-10 23:55:47,327 WARNING  * Debugger is active!
2025-10-10 23:55:47,341 INFO  * Debugger PIN: 127-213-732
2025-10-10 23:55:53,604 INFO 127.0.0.1 - - [10/Oct/2025 23:55:53] "[36mGET / HTTP/1.1[0m" 304 -
2025-10-10 23:56:27,606 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-5c74cae2-2de3-43d0-99e3-c648f5fe623e', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F5D55B3880>, 'json_data': {'input': [[4919, 499, 3371, 810, 922, 6463, 3195]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 23:56:27,607 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 23:56:27,607 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 23:56:27,763 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F5D55B5FD0>
2025-10-10 23:56:27,763 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F5D508F7F0> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 23:56:27,876 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F5D552AD50>
2025-10-10 23:56:27,877 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 23:56:27,878 DEBUG send_request_headers.complete
2025-10-10 23:56:27,878 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 23:56:27,879 DEBUG send_request_body.complete
2025-10-10 23:56:27,879 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 23:56:28,004 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8414'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'f6349dbd-23a9-43e9-97de-5927e5e2db39'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149993'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'de51ce73-ddcd-40ec-abc6-73f958fcb3e2'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'26'), (b'x-ms-client-request-id', b'f6349dbd-23a9-43e9-97de-5927e5e2db39'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"7"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 21:56:27 GMT')])
2025-10-10 23:56:28,006 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 23:56:28,006 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 23:56:28,006 DEBUG receive_response_body.complete
2025-10-10 23:56:28,007 DEBUG response_closed.started
2025-10-10 23:56:28,007 DEBUG response_closed.complete
2025-10-10 23:56:28,007 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8414', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'f6349dbd-23a9-43e9-97de-5927e5e2db39', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149993', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': 'de51ce73-ddcd-40ec-abc6-73f958fcb3e2', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '26', 'x-ms-client-request-id': 'f6349dbd-23a9-43e9-97de-5927e5e2db39', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"1","error_rate":"0","active_tokens":"7"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 21:56:27 GMT'})
2025-10-10 23:56:28,007 DEBUG request_id: de51ce73-ddcd-40ec-abc6-73f958fcb3e2
2025-10-10 23:56:28,352 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '34272'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'f9348373-a623-11f0-b0fe-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 23:56:28,361 DEBUG Starting new HTTPS connection (1): deepchatbot.search.windows.net:443
2025-10-10 23:56:28,624 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 23:56:28,663 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'f9348373-a623-11f0-b0fe-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 21:56:28 GMT'
2025-10-10 23:56:28,665 INFO Vector search returned 3 memories for user default_user
2025-10-10 23:56:28,665 INFO Retrieved 3 relevant memories for user default_user
2025-10-10 23:56:28,666 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.post.search?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '116'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'f9647e20-a623-11f0-a0e4-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 23:56:28,709 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.post.search?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 23:56:28,715 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'f9647e20-a623-11f0-a0e4-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 21:56:28 GMT'
2025-10-10 23:56:28,717 INFO Generated prompt: System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.

User Profile: Not available

Here are the most relevant past interactions:
User: can you tell me about norway
Assistant: Norway is known for its stunning natural landscapes, including fjords, mountains, and coastal areas. The country also has a strong emphasis on sustainability and innovation, similar to Sweden. Like Sweden, Norway is also known for its advancements in renewable energy and environmental initiatives. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.
---
User: can you tell me more about norway
Assistant: ?

I remember we discussed Norway's stunning natural landscapes and its emphasis on sustainability and innovation, similar to Sweden. Norway also has a significant presence in the US stock market through its sovereign wealth fund, the Government Pension Fund Global, which has invested in major US companies. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.
---
User: do norway have a oil money in us stock market
Assistant: 
Based on our previous conversations, Norway does indeed have a significant presence in the US stock market, particularly through its sovereign wealth fund, which is one of the world's largest. The fund, known as the Government Pension Fund Global, has invested heavily in US stocks, including major companies like Apple, Microsoft, and Amazon. This has allowed Norway to benefit from the returns and dividends generated by these investments. If you're interested in more specific details or updates on Norway's investments in the US stock market, I'd be happy to provide further information.

Use this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.
Human: can you tell more about norway
2025-10-10 23:56:28,747 DEBUG Request options: {'method': 'post', 'url': '/chat/completions', 'headers': {'X-Stainless-Raw-Response': 'true', 'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-9056e844-4fe4-41de-bd82-1cc2d9433085', 'json_data': {'messages': [{'content': "System: You are a helpful personal assistant with perfect memory. You remember all previous conversations with this user.\n\nUser Profile: Not available\n\nHere are the most relevant past interactions:\nUser: can you tell me about norway\nAssistant: Norway is known for its stunning natural landscapes, including fjords, mountains, and coastal areas. The country also has a strong emphasis on sustainability and innovation, similar to Sweden. Like Sweden, Norway is also known for its advancements in renewable energy and environmental initiatives. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.\n---\nUser: can you tell me more about norway\nAssistant: ?\n\nI remember we discussed Norway's stunning natural landscapes and its emphasis on sustainability and innovation, similar to Sweden. Norway also has a significant presence in the US stock market through its sovereign wealth fund, the Government Pension Fund Global, which has invested in major US companies. If you have specific questions about Norway's technological advancements or any particular aspect of Norwegian technology, I'd be happy to provide more information based on your interests.\n---\nUser: do norway have a oil money in us stock market\nAssistant: \nBased on our previous conversations, Norway does indeed have a significant presence in the US stock market, particularly through its sovereign wealth fund, which is one of the world's largest. The fund, known as the Government Pension Fund Global, has invested heavily in US stocks, including major companies like Apple, Microsoft, and Amazon. This has allowed Norway to benefit from the returns and dividends generated by these investments. If you're interested in more specific details or updates on Norway's investments in the US stock market, I'd be happy to provide further information.\n\nUse this context to provide personalized and contextually aware responses. Reference past conversations when relevant, but don't be repetitive.\nHuman: can you tell more about norway", 'role': 'user'}], 'model': None, 'stream': False}}
2025-10-10 23:56:28,749 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview
2025-10-10 23:56:28,750 DEBUG connect_tcp.started host='deepchatbot.openai.azure.com' port=443 local_address=None timeout=None socket_options=None
2025-10-10 23:56:28,810 DEBUG connect_tcp.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F5D5797ED0>
2025-10-10 23:56:28,810 DEBUG start_tls.started ssl_context=<ssl.SSLContext object at 0x000001F5D38F4E10> server_hostname='deepchatbot.openai.azure.com' timeout=None
2025-10-10 23:56:28,924 DEBUG start_tls.complete return_value=<httpcore._backends.sync.SyncStream object at 0x000001F5D579EB10>
2025-10-10 23:56:28,925 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 23:56:28,926 DEBUG send_request_headers.complete
2025-10-10 23:56:28,926 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 23:56:28,927 DEBUG send_request_body.complete
2025-10-10 23:56:28,927 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 23:56:29,769 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Cache-Control', b'no-cache, must-revalidate'), (b'Content-Length', b'1396'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'5237fdc2-2189-4725-9781-465b0e7b69a7'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-requests', b'0'), (b'x-ratelimit-limit-requests', b'1'), (b'x-ratelimit-remaining-tokens', b'468'), (b'x-ratelimit-limit-tokens', b'1000'), (b'x-accel-buffering', b'no'), (b'x-ms-rai-invoked', b'true'), (b'x-request-id', b'78319048-63ee-467c-87ba-76bc2956101c'), (b'x-ms-client-request-id', b'5237fdc2-2189-4725-9781-465b0e7b69a7'), (b'azureml-model-session', b'd136-20250912112511'), (b'x-ms-deployment-name', b'gpt35-turbo'), (b'Date', b'Fri, 10 Oct 2025 21:56:29 GMT')])
2025-10-10 23:56:29,770 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 23:56:29,770 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 23:56:29,770 DEBUG receive_response_body.complete
2025-10-10 23:56:29,770 DEBUG response_closed.started
2025-10-10 23:56:29,770 DEBUG response_closed.complete
2025-10-10 23:56:29,770 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/gpt35-turbo/chat/completions?api-version=2023-12-01-preview "200 OK" Headers({'cache-control': 'no-cache, must-revalidate', 'content-length': '1396', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': '5237fdc2-2189-4725-9781-465b0e7b69a7', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-requests': '0', 'x-ratelimit-limit-requests': '1', 'x-ratelimit-remaining-tokens': '468', 'x-ratelimit-limit-tokens': '1000', 'x-accel-buffering': 'no', 'x-ms-rai-invoked': 'true', 'x-request-id': '78319048-63ee-467c-87ba-76bc2956101c', 'x-ms-client-request-id': '5237fdc2-2189-4725-9781-465b0e7b69a7', 'azureml-model-session': 'd136-20250912112511', 'x-ms-deployment-name': 'gpt35-turbo', 'date': 'Fri, 10 Oct 2025 21:56:29 GMT'})
2025-10-10 23:56:29,770 DEBUG request_id: 78319048-63ee-467c-87ba-76bc2956101c
2025-10-10 23:56:29,779 DEBUG Request options: {'method': 'post', 'url': '/embeddings', 'headers': {'api-key': '<redacted>'}, 'files': None, 'idempotency_key': 'stainless-python-retry-c795cd0b-6f57-4a12-91ee-6342fa6f06d5', 'post_parser': <function Embeddings.create.<locals>.parser at 0x000001F5D2678FE0>, 'json_data': {'input': [[1502, 25, 649, 499, 3371, 810, 922, 6463, 3195, 72803, 25, 53466, 0, 32603, 374, 3967, 369, 1202, 20441, 5933, 55890, 11, 1778, 439, 76471, 2311, 11, 24405, 11, 323, 35335, 5789, 13, 578, 3224, 1101, 706, 264, 3831, 25679, 389, 41329, 323, 19297, 11, 4528, 311, 24067, 13, 32603, 706, 264, 5199, 9546, 304, 279, 2326, 5708, 3157, 1555, 1202, 46384, 12205, 3887, 11, 279, 10423, 81557, 13492, 8121, 11, 902, 706, 22538, 304, 3682, 2326, 5220, 1093, 8325, 11, 5210, 11, 323, 8339, 13, 1442, 499, 617, 3230, 4860, 922, 32603, 596, 30116, 83787, 477, 904, 4040, 13189, 315, 45721, 5557, 11, 358, 4265, 387, 6380, 311, 3493, 810, 2038, 3196, 389, 701, 12034, 13]], 'model': 'text-embedding-ada-002', 'encoding_format': 'base64'}}
2025-10-10 23:56:29,779 DEBUG Sending HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview
2025-10-10 23:56:29,780 DEBUG send_request_headers.started request=<Request [b'POST']>
2025-10-10 23:56:29,780 DEBUG send_request_headers.complete
2025-10-10 23:56:29,780 DEBUG send_request_body.started request=<Request [b'POST']>
2025-10-10 23:56:29,780 DEBUG send_request_body.complete
2025-10-10 23:56:29,780 DEBUG receive_response_headers.started request=<Request [b'POST']>
2025-10-10 23:56:29,913 DEBUG receive_response_headers.complete return_value=(b'HTTP/1.1', 200, b'OK', [(b'Content-Length', b'8418'), (b'Content-Type', b'application/json'), (b'access-control-allow-origin', b'*'), (b'apim-request-id', b'cb976577-89d7-412c-a230-41e4fef00e2e'), (b'Strict-Transport-Security', b'max-age=31536000; includeSubDomains; preload'), (b'x-content-type-options', b'nosniff'), (b'x-ms-region', b'Sweden Central'), (b'x-ratelimit-remaining-tokens', b'149876'), (b'x-ratelimit-limit-tokens', b'150000'), (b'x-request-id', b'17514b31-42f0-478d-ae2e-e71309ac2409'), (b'azureml-model-session', b'd067-20250903045602'), (b'x-envoy-upstream-service-time', b'36'), (b'x-ms-client-request-id', b'cb976577-89d7-412c-a230-41e4fef00e2e'), (b'x-ms-azureml-cluster-local-active-requests', b'{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"124"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}'), (b'x-ms-deployment-name', b'text-embedding-3-small'), (b'Date', b'Fri, 10 Oct 2025 21:56:29 GMT')])
2025-10-10 23:56:29,914 INFO HTTP Request: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "HTTP/1.1 200 OK"
2025-10-10 23:56:29,914 DEBUG receive_response_body.started request=<Request [b'POST']>
2025-10-10 23:56:29,914 DEBUG receive_response_body.complete
2025-10-10 23:56:29,914 DEBUG response_closed.started
2025-10-10 23:56:29,914 DEBUG response_closed.complete
2025-10-10 23:56:29,914 DEBUG HTTP Response: POST https://deepchatbot.openai.azure.com/openai/deployments/text-embedding-3-small/embeddings?api-version=2023-12-01-preview "200 OK" Headers({'content-length': '8418', 'content-type': 'application/json', 'access-control-allow-origin': '*', 'apim-request-id': 'cb976577-89d7-412c-a230-41e4fef00e2e', 'strict-transport-security': 'max-age=31536000; includeSubDomains; preload', 'x-content-type-options': 'nosniff', 'x-ms-region': 'Sweden Central', 'x-ratelimit-remaining-tokens': '149876', 'x-ratelimit-limit-tokens': '150000', 'x-request-id': '17514b31-42f0-478d-ae2e-e71309ac2409', 'azureml-model-session': 'd067-20250903045602', 'x-envoy-upstream-service-time': '36', 'x-ms-client-request-id': 'cb976577-89d7-412c-a230-41e4fef00e2e', 'x-ms-azureml-cluster-local-active-requests': '{"upstream_stats_map":{"aoai-sp-txtemb-sm-1-swn-prod-aoai-standard-online-switzerlandnorth":{"active_requests":"2","error_rate":"0","active_tokens":"124"},"aoai-sp-txt-em-small-1-use-prod-aoai-standard-online-eastus":{"active_requests":"0","error_rate":"0","active_tokens":"0"}},"cluster_active_requests":"0","cluster_active_tokens":"0"}', 'x-ms-deployment-name': 'text-embedding-3-small', 'date': 'Fri, 10 Oct 2025 21:56:29 GMT'})
2025-10-10 23:56:29,915 DEBUG request_id: 17514b31-42f0-478d-ae2e-e71309ac2409
2025-10-10 23:56:29,917 INFO Request URL: 'https://deepchatbot.search.windows.net/indexes('deepchatbot')/docs/search.index?api-version=REDACTED'
Request method: 'POST'
Request headers:
    'Content-Type': 'application/json'
    'Content-Length': '35684'
    'api-key': 'REDACTED'
    'Accept': 'application/json;odata.metadata=none'
    'x-ms-client-request-id': 'fa23600c-a623-11f0-bb10-70a6ccb39097'
    'User-Agent': 'azsdk-python-search-documents/11.6.0 Python/3.13.8 (Windows-11-10.0.26100-SP0)'
A body is sent with the request
2025-10-10 23:56:29,995 DEBUG https://deepchatbot.search.windows.net:443 "POST /indexes('deepchatbot')/docs/search.index?api-version=2023-11-01 HTTP/1.1" 200 None
2025-10-10 23:56:29,996 INFO Response status: 200
Response headers:
    'Transfer-Encoding': 'chunked'
    'Content-Type': 'application/json; odata.metadata=none; odata.streaming=true; charset=utf-8'
    'Content-Encoding': 'REDACTED'
    'Vary': 'REDACTED'
    'Strict-Transport-Security': 'REDACTED'
    'Preference-Applied': 'REDACTED'
    'OData-Version': 'REDACTED'
    'request-id': 'fa23600c-a623-11f0-bb10-70a6ccb39097'
    'elapsed-time': 'REDACTED'
    'Date': 'Fri, 10 Oct 2025 21:56:30 GMT'
2025-10-10 23:56:29,998 INFO 127.0.0.1 - - [10/Oct/2025 23:56:29] "POST /chat HTTP/1.1" 200 -
